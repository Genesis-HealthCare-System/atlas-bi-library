@*
    Atlas of Information Management business intelligence library and documentation database.
    Copyright (C) 2020  Riverside Healthcare, Kankakee, IL

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <https://www.gnu.org/licenses/>.
*@

@model Data_Governance_WebApp.Pages.Projects.IndexModel
@using Data_Governance_WebApp.Helpers


<div class="pageTitle">
    <h2 class="pageTitle-head">
        <span>@Model.DataProject.Name</span>
    </h2>

    <div class="pageNav">
        <a href="#about" class="pageNav-link">About</a>
        @if(Model.DataProject.RelatedReports.Count() > 0 || Model.DataProject.RelatedTerms.Count() > 0)
        {
            <a href="#links" class="pageNav-link">Linked Content</a>
        }
        @if(ViewBag.Attachments.Count > 0){
            <a href="#attachments" class="pageNav-link">Attachments</a>
        }
        @if(Model.DataProject.Agreements.Count() > 0)
        {
            <a href="#agreements" class="pageNav-link">Agreements</a>
        }
        @if(Model.DataProject.MilestoneTasks.Count() > 0)
        {
            <a href="#milestone" class="pageNav-link">Milestones</a>
        }
        <a href="#comments" class="pageNav-link">Comments</a>
    </div>
</div>

<section class="pageSection">
    <span class="location" id="about"></span>
    <partial name="Details/_Details.cshtml"></partial>
</section>

<section class="pageSection">
    <span class="location" id="links"></span>
    @if(Model.DataProject.RelatedReports.Count() > 0 || Model.DataProject.RelatedTerms.Count() > 0)
    {
        <partial name="Details/_Links.cshtml"></partial>
    }
</section>

<section class="pageSection">
    <span class="location" id="attachments"></span>
    @if(ViewBag.Attachments.Count > 0)
    {
        <partial name="Details/_Attachments.cshtml"></partial>
    }
</section>

<section class="pageSection">
    <span class="location" id="agreements"></span>
    @if(Model.DataProject.Agreements.Count() > 0)
    {
        <partial name="Details/_Agreements.cshtml"></partial>
    }
</section>

<section class="pageSection">
    <span class="location" id="milestone"></span>
    @if(Model.DataProject.MilestoneTasks.Count() > 0)
    {
        <partial name="Details/_Milestones.cshtml"></partial>
    }
</section>

<section class="pageSection" >
    <span class="location" id="comments"></span>
    <div class="comments" data-ajax="yes" data-url="/projects?Handler=Comments&id=@Model.DataProject.Id"></div>
</section>
