!function(){var r;document.addEventListener("click",function(e){if(e.target.matches('.settings-search-visiblity[type="checkbox"]')&&"INPUT"==e.target.tagName){var t,s=e.target.parentElement,n=e.target,a=1;n.hasAttribute("checked")?(n.removeAttribute("checked"),a=2):n.setAttribute("checked","checked"),t={TypeId:s.getAttribute("typeId"),GroupId:s.hasAttribute("groupId")?s.getAttribute("groupId"):"",Type:a},n=Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&"),(r=new XMLHttpRequest).open("post","/Settings/Search/?handler=SearchUpdateVisibility&"+n,!0),r.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(),r.onreadystatechange=function(){4==this.readyState&&200==this.status&&ShowMessageBox("Changes saved.")}}else if(e.target.matches("a.settings-search-name")){s=e.target.closest(".field").querySelector("input[groupId]");if(void 0===s)return!1;(r=new XMLHttpRequest).open("post","/Settings/Search/?handler=SearchUpdateText&id="+s.getAttribute("groupId")+"&text="+s.value,!0),r.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(),r.onreadystatechange=function(){4==this.readyState&&200==this.status&&ShowMessageBox("Changes saved.")}}})}(),document.addEventListener("click",function(e){var t,s;e.target.matches('.role-permissions[type="checkbox"]')&&"INPUT"==e.target.tagName&&(t=1,(e=e.target).hasAttribute("checked")?(e.removeAttribute("checked"),t=2):e.setAttribute("checked","checked"),s={RoleId:e.getAttribute("roleid"),PermissionId:e.getAttribute("permissionid"),Type:t},e=Object.keys(s).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(s[e])}).join("&"),(t=new XMLHttpRequest).open("post","/Settings/Roles/?handler=UpdatePermissions&"+e,!0),t.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(),t.onreadystatechange=function(){4==this.readyState&&200==this.status&&ShowMessageBox("Changes saved.")})});