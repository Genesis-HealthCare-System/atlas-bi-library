!function(){"use strict";var u,p,s,r,d,c,o,e,n,t,a,i,m;window.ajaxOn=!0,s=new Date,r=function r(e){var n={},t=navigator,o=window,a=document,i=o.location;return n.appCodeName=t.appCodeName,n.appName=t.appName,n.appVersion=t.appVersion,n.cookieEnabled=t.cookieEnabled,n.language=t.language,n.oscpu=t.oscpu,n.platform=t.platform,n.userAgent=t.userAgent,n.host=i.host,n.hostname=i.hostname,n.href=i.href,n.protocol=i.protocol,n.search=i.search,n.pathname=i.pathname,n.hash=i.hash,n.screenHeight=a.documentElement.clientHeight,n.screenWidth=a.documentElement.clientWidth,n.origin=o.origin,n.title=a.title,n.referrer=a.referrer,n.loadTime=e||o.performance.timing.domContentLoadedEventEnd-o.performance.timing.navigationStart,n.zoom=o.devicePixelRatio,n.sessionId=d(),n.pageId=c(),n.pageTime=(new Date).getTime()-s.getTime(),n},d=function d(e){return"clear"==e?(sessionStorage.removeItem("_sid"),!1):("reset"!=e&&"undefined"!=typeof sessionStorage._sid||(sessionStorage._sid=btoa((new Date).toString()),c("reset"),s=new Date),sessionStorage._sid)},c=function c(e){return"reset"!=e&&"undefined"!=typeof sessionStorage._pid||(s=new Date,sessionStorage._pid=btoa((new Date).toString())),sessionStorage._pid},o=function o(e,n){var t;"newpage"==n&&(c("reset"),window.ajaxOn=!0),!0===window.ajaxOn&&(navigator.sendBeacon?navigator.sendBeacon("/analytics?handler=Beacon",JSON.stringify(r(e))):((t=new XMLHttpRequest).open("post","/analytics?handler=Beacon",!0),t.setRequestHeader("Content-Type","text/plain;charset=UTF-8`"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(JSON.stringify(r(e))))),m()},e=function e(){u=window.setTimeout(t,12e4),d()},n=function n(){debounce((window.clearTimeout(u),e(),void(window.ajaxOn=!0)),500)},t=function t(){window.ajaxOn=!1,d("clear"),sessionStorage.clear()},a=function a(){document.addEventListener("mousemove",n,!1),document.addEventListener("mousedown",n,!1),document.addEventListener("keypress",n,!1),document.addEventListener("touchmove",n,!1),document.addEventListener("scroll",n,{passive:!0},!1),e()},i=function i(){p=window.setTimeout(o,3e4)},m=function m(){window.clearTimeout(p),i()},"complete"==document.readyState&&(a(),o(0,"newpage")),window.addEventListener("load",function(){a(),o(0,"newpage")},!1),document.addEventListener("analytics-post",function(e){"undefined"!=typeof e.detail&&o(e.detail.value,e.detail.type)})}();