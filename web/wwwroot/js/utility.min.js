!function(){"use strict";function t(e){var t=Array.prototype.slice.call(e.parentElement.children).filter(function(e){return e.classList.contains("tab-lnk")}),n=a.querySelector("#".concat(e.getAttribute("href").replace("#",""))),i=Array.prototype.slice.call(n.parentElement.children).filter(function(e){return e.classList.contains("tab-dta")});Array.prototype.forEach.call(i,function(e){e.classList.remove("active")}),Array.prototype.forEach.call(t,function(e){e.classList.remove("active")}),n.classList.add("active"),e.classList.add("active"),a.dispatchEvent(new CustomEvent("tab-opened")),history.pushState&&history.pushState(null,null,"#"+e.getAttribute("href").replace("#",""))}var a,r,o;function n(e){var t=Array.prototype.slice.call(e.parentElement.children).filter(function(e){return e.classList.contains("panel-tab")}),n=r.querySelector("#".concat(e.getAttribute("href").replace("#",""))),i=Array.prototype.slice.call(n.parentElement.children).filter(function(e){return e.classList.contains("panel-tab-data")});Array.prototype.forEach.call(i,function(e){e.classList.remove("is-active")}),Array.prototype.forEach.call(t,function(e){e.classList.remove("is-active")}),n.classList.add("is-active"),e.classList.add("is-active"),r.dispatchEvent(new CustomEvent("panel-tab-opened")),history.pushState&&history.pushState(null,null,"#"+e.getAttribute("href").replace("#",""))}function i(e){var t=Array.prototype.slice.call(e.closest(".steps").querySelectorAll(".steps-segment")),n=o.querySelector("#".concat(e.getAttribute("href").replace("#",""))),i=Array.prototype.slice.call(n.parentElement.children).filter(function(e){return e.classList.contains("step-tab-data")});Array.prototype.forEach.call(i,function(e){e.classList.remove("is-active")}),Array.prototype.forEach.call(t,function(e){e.classList.remove("is-active")}),n.classList.add("is-active"),e.closest(".steps-segment").classList.add("is-active"),o.dispatchEvent(new CustomEvent("step-tab-opened")),history.pushState&&history.pushState(null,null,"#"+e.getAttribute("href").replace("#",""))}(a=document).addEventListener("click",function(e){e.target.closest(".tab-lnk")&&(e.preventDefault(),t(e.target.closest(".tab-lnk")))},!1),a.addEventListener("tab-open",function(e){"undefined"!=typeof e.detail&&Boolean(e.detail.el)&&t(e.detail.el)},!1),""!==document.location.hash&&null!==document.location.hash&&document.dispatchEvent(new CustomEvent("tab-open",{cancelable:!0,detail:{el:document.querySelector('.tab-lnk[href="'+document.location.hash.replace("#","")+'"], .tab-lnk[href="'+document.location.hash+'"]')}})),(document.querySelectorAll(".panel-tab[href]")||[]).forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),n(t)},!1)}),(r=document).addEventListener("panel-tab-open",function(e){"undefined"!=typeof e.detail&&Boolean(e.detail.el)&&n(e.detail.el)},!1),""!==document.location.hash&&null!==document.location.hash&&document.dispatchEvent(new CustomEvent("panel-tab-open",{cancelable:!0,detail:{el:document.querySelector('.panel-tab[href="'+document.location.hash.replace("#","")+'"], .panel-tab[href="'+document.location.hash+'"]')}})),(document.querySelectorAll(".step-tab[href]")||[]).forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),i(t)},!1)}),(o=document).addEventListener("step-tab-open",function(e){"undefined"!=typeof e.detail&&Boolean(e.detail.el)&&i(e.detail.el)},!1),""!==document.location.hash&&null!==document.location.hash&&document.dispatchEvent(new CustomEvent("step-tab-open",{cancelable:!0,detail:{el:document.querySelector('.step-tab[href="'+document.location.hash.replace("#","")+'"], .step-tab[href="'+document.location.hash+'"]')}}))}(),function(){"use strict";function r(e){e.style.maxHeight=e.scrollHeight+20+"px"}function o(e){e.style.maxHeight="",e.style.overflow="hidden",e.classList.remove("clps-o")}function n(t){t.classList.add("clps-o"),r(t);for(var e=t;e=e.parentElement.closest(".clps-o");)e.style.removeProperty("max-height");s.dispatchEvent(new CustomEvent("collapse-opened"));for(var n=t.parentElement.querySelector(".clps-o"),i=[];n;)n!==t&&n.nodeType===Node.ELEMENT_NODE&&i.push(n),n=n.nextElementSibling||n.nextSibling;for(var a=0;a<i.length;a++)o(i[a]);window.setTimeout(function(){for(var e=t.parentElement.closest(".clps-o");e;)r(e),e=e.parentElement.closest(".clps-o");t.classList.contains("clps-o")&&(t.style.overflow="visible")},300)}var s,i;(s=document).addEventListener("click",function(e){var t;e.target.closest('[data-toggle="clps"]')?null!==(t=s.querySelector("#".concat(e.target.closest("[data-toggle]").getAttribute("data-target").replace("#",""))))&&(t.style.maxHeight||t.classList.contains("clps-o")?o:n)(t):e.target.closest(".clps:not(.clps-o")&&n(e.target.closest(".clps:not(.clps-o"))}),s.addEventListener("change",function(t){if(t.target.closest(".clps-o")){for(var e=t.target.closest(".clps-o");e;)e.style.removeProperty("max-height"),e=e.parentElement.closest(".clps-o");window.setTimeout(function(){for(var e=t.target.closest(".clps-o");e;)r(e),e=e.parentElement.closest(".clps-o")},300)}}),s.addEventListener("clps-close",function(e){"undefined"!=typeof e.detail&&o(e.detail.el)},!1),s.addEventListener("clps-open",function(e){"undefined"!=typeof e.detail&&n(e.detail.el)},!1),(i=document).addEventListener("click",function(e){var t,n;e.target.closest('[data-action="collapse"]')&&(n=e.target.closest('[data-action="collapse"]'),null!==(t=i.querySelector("#".concat(n.getAttribute("data-target").replace("#",""))))&&(t.style.maxHeight||t.classList.contains("is-active")?(t.classList.remove("is-active"),n.classList.remove("is-active")):(t.classList.add("is-active"),n.classList.add("is-active"))))})}(),function(){"use strict";function e(){for(var e=document.querySelectorAll(".carousel"),t=0;t<e.length;t++)e[t].classList.contains("carousel-p")||new n(e[t])}function n(e){this.target=e,this.next=e.querySelector(".carousel-next"),this.prev=e.querySelector(".carousel-prev"),this.dots=e.querySelectorAll(".carousel-dot"),this.slides=e.querySelectorAll(".carousel-itm"),this.target.classList.add("carousel-p"),this.next.addEventListener("click",this.showSlides.bind(this,1),!1),this.prev.addEventListener("click",this.showSlides.bind(this,-1),!1);for(var t=0;t<this.dots.length;t++)this.dots[t].addEventListener("click",this.showSlides.bind(this,0),!1)}var t,o;t=document,o=t.requestAnimationFrame||t.setImmediate||function(e){return setTimeout(e,0)},n.prototype={showSlides:function(e,t){var n,i,a=this.slides,r=this.dots;o(function(){if(t.target.matches(".carousel-dot"))e=t.target.getAttribute("slide");else{for(n=0;n<a.length;n++)if(0<a[n].offsetHeight&&0<a[n].offsetWidth){i=a[n];break}e+=Array.prototype.indexOf.call(a,i)}for((e=e>=a.length?0:e)<0&&(e=a.length-1),n=0;n<a.length;n++)a[n].style.display="none";for(n=0;n<r.length;n++)r[n].classList.remove("active");a[e].style.display="block",r[e].classList.add("active")})}},e(),t.addEventListener("load-carousel",function(){e()})}(),function(){"use strict";var o,e,s,r,l,d;o=document,e=function e(){setTimeout(function(){for(var e=o.querySelectorAll("table.sort"),t=0;t<e.length;t++){var n=e[t];if(0===n.querySelectorAll("th .icon-sm").length)for(var i=n.querySelectorAll("th"),a=0;a<i.length;a++){var r=i[a];r.style.cursor="pointer",r.innerHTML+='<svg class="icon-sm" viewBox="0 0 320 512" xmlns="http://www.w3.org/2000/svg"><path d="M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"/></svg>',r.parentElement.style.whiteSpace="nowrap",function(i){i.addEventListener("click",function(){var e=this.closest("table.sort"),t=Array.from(e.querySelectorAll("tr")).slice(1).sort(s(d(i)-1));this.asc=!this.asc,this.asc||(t=t.reverse());for(var n=0;n<t.length;n++)e.append(t[n])})}(r)}}},0)},s=function s(a){return function(e,t){var n=l(e,a).replace("$",""),i=l(t,a).replace("$","");return/^(?:\d{1,2}\/){2}\d{2,4}$/.test(n)&&/^(?:\d{1,2}\/){2}\d{2,4}$/.test(i)?new Date(n)-new Date(i):r(n)&&r(i)?n-i:n.toString().localeCompare(i)}},r=function r(e){return!isNaN(parseFloat(e))&&isFinite(e)},l=function l(e,t){return e.querySelectorAll("td")[t].textContent},d=function d(e){if(!e)return-1;for(var t=0;e;)t++,e=e.previousElementSibling;return t},o.addEventListener("ajax",function(){e()}),e()}(),function(){"use strict";var n,i,t,a,r,o,s,l;t=document,r=a=0,t.addEventListener("mousedown",function(e){var t;e.target.closest(".drg-hdl")&&(i=e.target.closest(".drg"),n=i.cloneNode(!0),i.classList.add("drag-source"),n.classList.add("drag"),n.style.width=i.offsetWidth+1+"px",t=getComputedStyle(i),a=e.clientY-getOffset(i).top+parseInt(t.marginTop,10),r=e.clientX-getOffset(i).left+parseInt(t.marginLeft,10),i.parentElement.style.position="relative",i.parentElement.append(n),n.style.top=e.clientY-a+"px",n.style.left=e.clientX-r+"px",o(e))},!1),o=function o(e){(e=e||window.event).preventDefault(),t.addEventListener("mouseup",l),t.addEventListener("mousemove",s)},s=function s(e){(e=e||window.event).preventDefault(),n.style.top=e.clientY-a+"px",n.style.left=e.clientX-r+"px",n.dispatchEvent(new CustomEvent("dragMove",{cancelable:!0,bubbles:!0,detail:{el:n,x:e.clientX,y:e.clientY}}))},l=function l(e){i.parentElement.replaceChild(n,i),n.classList.remove("drag"),n.dispatchEvent(new CustomEvent("dragEnd",{cancelable:!0,bubbles:!0,detail:{el:n,x:e.clientX,y:e.clientY}})),n.style.width="",n.style.top="",n.style.left="",t.removeEventListener("mouseup",l),t.removeEventListener("mousemove",s)}}(),function(){"use strict";var a;a=function a(e){var s,l,d,t=e.detail.el,n=e.detail.x,i=e.detail.y;t.closest(".reorder")&&(s=i,l=n,d=t.closest(".reorder").querySelector(".drg.drag-source"),t.closest(".reorder").querySelectorAll(".drg:not(.drag-source):not(.drag)").forEach(function(e){var t=getOffset(e),n=t.top,i=t.top+e.clientHeight,a=t.left,t=t.left+e.clientWidth,r=Array.prototype.indexOf.call(d.parentNode.children,e),o=Array.prototype.indexOf.call(d.parentNode.children,d);a<=l&&n<=s&&s<=i&&o<r?d.parentNode.insertBefore(e,d):l<=t&&n<=s&&s<=i&&r<o&&d.parentNode.insertBefore(d,e),s<n&&r<o?d.parentNode.insertBefore(d,e):i<s&&o<r&&d.parentNode.insertBefore(e,d)}))},document.addEventListener("dragMove",function(e){return(e=e||window.event).detail!==undefined&&e.detail.el!==undefined&&void debounce(a(e),250)}),document.addEventListener("dragEnd",function(e){return(e=e||window.event).detail!==undefined&&e.detail.el!==undefined&&void(e.detail.el.closest(".reorder")&&e.detail.el.closest(".reorder").dispatchEvent(new CustomEvent("reorder",{bubbles:!0})))})}(),function(){"use strict";function n(e){void 0===e?Array.prototype.forEach.call(document.querySelectorAll(".mdl-o"),function(e){e.classList.remove("mdl-o"),e.dispatchEvent(new CustomEvent("mdl-close"))}):(e.classList.remove("mdl-o"),e.dispatchEvent(new CustomEvent("mdl-close"))),0===document.querySelectorAll(".mdl-o").length&&document.querySelectorAll("body")[0].classList.remove("b-mdl")}function i(e,t){document.querySelectorAll("body")[0].classList.toggle("b-mdl"),e.classList.toggle("mdl-o"),e.dispatchEvent(new CustomEvent("mdl-open",{cancelable:!0,detail:{child:t}}))}function s(e){e.classList.remove("is-active")}function l(){(document.querySelectorAll(".modal")||[]).forEach(function(e){s(e)})}document.addEventListener("click",function(e){var t=document;e.target.closest("[data-toggle]")&&"mdl"===e.target.closest("[data-toggle]").getAttribute("data-toggle")?i(t.querySelector("#".concat(e.target.closest("[data-toggle]").getAttribute("data-target"))),e.target.closest("[data-toggle]")):e.target.closest("[data-dismiss]")&&"mdl"===e.target.closest("[data-dismiss]").getAttribute("data-dismiss")||e.target.closest(".editorMdl-close")?n(e.target.closest(".mdl")):e.target.closest(".pop")&&(t.querySelectorAll(".imagepreview")[0].setAttribute("src",e.target.closest(".pop").children[0].getAttribute("src")),i(t.querySelector("#image-modal"),null))},!0),document.addEventListener("modal-close",function(){n()}),document.addEventListener("keydown",function(e){e=e||window.event,27===Number(e.keyCode)&&l()}),document.addEventListener("modal-close",function(){l()}),document.addEventListener("click",function(e){var t,n,i,a,r,o=e.target;o.closest(".js-modal-trigger")?(t=o.closest(".js-modal-trigger"),document.querySelector("#".concat(t.dataset.target)).classList.add("is-active"),document.dispatchEvent(new CustomEvent("modal-open"))):o.closest(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")?s((t=o.closest(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")).closest(".modal")):o.closest(".modal button.share-feedback")?(n=(t=o.closest(".modal button.share-feedback")).parentNode.querySelectorAll("textarea")[0],i={reportName:t.hasAttribute("data-name")?t.getAttribute("data-name"):document.title,description:n.value,reportUrl:t.hasAttribute("data-url")?t.getAttribute("data-url"):window.location.href},a=Object.keys(i).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(i[e])}).join("&"),(r=new XMLHttpRequest).open("post","/Requests?handler=ShareFeedback&"+a,!0),r.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(),n.value="",l()):o.closest(".modal button.request-access")&&(t=o.closest(".modal button.request-access"),i={reportName:t.getAttribute("report-name"),directorName:t.closest(".modal").querySelector(".director-name").value,reportUrl:window.location.href},a=Object.keys(i).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(i[e])}).join("&"),(r=new XMLHttpRequest).open("post","/Requests?handler=AccessRequest&"+a,!0),r.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(),l())})}(),function(){"use strict";var e,n,t,i,a;n=document,t=function t(e){Array.prototype.forEach.call(e.querySelectorAll("source[data-srcset]"),function(e){var t;a(e)&&(t=e.dataset.srcset,e.setAttribute("srcset",""),e.removeAttribute("srcset"),e.setAttribute("srcset",t))})},i=function i(e){Array.prototype.forEach.call(e.querySelectorAll("img[data-src]"),function(e){var t;a(e)&&(t=e.dataset.src,e.setAttribute("src",""),delete e.dataset.src,e.setAttribute("src",t))})},a=function a(e){var t=e.getBoundingClientRect();return-600<=t.top&&0<=t.left&&t.bottom-e.clientHeight-600<=(document.documentElement.clientHeight||n.documentElement.clientHeight)&&t.right-600-e.clientWidth<=(document.documentElement.clientWidth||n.documentElement.clientWidth)&&null!==e.offsetParent},(e=function e(){Array.prototype.forEach.call(n.querySelectorAll("picture"),function(e){i(e),t(e)}),i(n),t(n)})(),n.addEventListener("ajax",function(){setTimeout(function(){e()},0)}),n.addEventListener("modal-open",function(){e()}),n.addEventListener("scroll",function(){debounce(e(),100)},{passive:!0})}(),function(){"use strict";!function(){var e=document.title.includes(" | ")?document.title.split(" | ")[0]:document.title,t=window.location.href,n={},i=sessionStorage.getItem("breadcrumbs"),e=(0!==(i=null!==i?JSON.parse(i):[]).length&&i[i.length-1].title===e&&i[i.length-1].url===t||(n.title=e,n.url=t,0<i.length&&i[i.length-1].title.startsWith("Search")&&n.title.startsWith("Search")&&i.pop(),i.push(n),sessionStorage.setItem("breadcrumbs",JSON.stringify(i))),document.querySelector(".breadcrumb"));i.length<=1||(e.innerHTML=DOMPurify.sanitize(function(e){var t=document.createElement("ul");(e=e.slice(Math.max(e.length-7,0))).reverse();for(var n=0;n<e.length;n++){for(var i=document.createElement("li"),a=document.createElement("a"),r=(0===n?(a.setAttribute("href","#"),i.classList.add("is-active")):a.setAttribute("href",e[n].url),e[n].title.split(" ")),o="",s=0;s<r.length;s++)if(15<(o+=r[s]+" ").length){s<r.length&&(o+="…",a.classList.add("is-block","has-tooltip-bottom","has-tooltip-arrow"),a.setAttribute("data-tooltip",e[n].title));break}a.textContent=o,i.append(a),t.append(i)}return t}(i).outerHTML),e.style.opacity=1)}()}(),function(){"use strict";1!==Number(getUrlVars().EPIC)&&1!==Number(getCookie("EPIC"))||setCookie("EPIC",1,99)}(),function(){"use strict";function o(e,t,n){if(e.classList.contains("favorite")){for(var i,a,r,o,s,l=c.querySelectorAll(".favorite-folders .favorites-show-all,.favorite-folders .favorites-folder"),d=0;d<l.length;d++)if(i=l[d],a=(s=getOffset(i)).top,r=s.top+i.offsetHeight,o=s.left,s=s.left+i.offsetWidth,a<n&&n<r&&o<t&&t<s)return i;return!1}}var c;(c=document).addEventListener("click",function(e){var n,t;e.target.closest(".favorites-show-all")?((document.querySelectorAll(".favorites .favorite")||[]).forEach(function(e){e.style.display=""}),(document.querySelectorAll("a.favorites-filter.is-active")||[]).forEach(function(e){e.classList.remove("is-active")}),document.querySelector("input.favorites-filter").value="",(document.querySelectorAll(".favorites-folder.is-active")||[]).forEach(function(e){e.classList.remove("is-active")}),document.querySelector(".favorites-show-all .fa-folder")&&((t=document.querySelector(".favorites-show-all .fa-folder")).classList.remove("fa-folder"),t.classList.add("fa-folder-open")),(document.querySelectorAll(".favorites-folder .fa-folder-open")||[]).forEach(function(e){e.classList.remove("fa-folder-open"),e.classList.add("fa-folder")})):e.target.closest(".favorites-folder")&&(n=e.target.closest(".favorites-folder"),(document.querySelectorAll(".favorites-folder.is-active,.favorites-show-all.is-active")||[]).forEach(function(e){e.classList.remove("is-active")}),(document.querySelectorAll(".favorites-folder .fa-folder-open,.favorites-show-all .fa-folder-open")||[]).forEach(function(e){e.classList.remove("fa-folder-open"),e.classList.add("fa-folder")}),n.querySelector(".fa-folder")&&((t=n.querySelector(".fa-folder")).classList.remove("fa-folder"),t.classList.add("fa-folder-open")),n.classList.add("is-active"),document.querySelectorAll(".favorites .favorite").forEach(function(e){var t=n.dataset.folderid===e.dataset.folderid;e.style.display=t?"":"None"}))}),document.addEventListener("click",function(e){var t,n;e.target.closest(".favorite-folder-delete")&&(e.preventDefault(),t=e.target.closest(".favorite-folder-delete"),(n=new XMLHttpRequest).open("post","/users/favorites?handler=DeleteFolder&id="+t.dataset.folderid,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(),e.target.closest(".favorites-folder").remove(),document.querySelector(".favorites-show-all").click())}),c.addEventListener("submit",function(e){var t,n;e.target.closest(".favorite-folder-new")&&(e.preventDefault(),t=e.target.closest(".favorite-folder-new"),(n=new XMLHttpRequest).open("post",t.getAttribute("action")+"&name="+t.querySelector("input").value,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(),window.location.reload()),e.target.closest(".favorite-folder-rename")&&(e.preventDefault(),t=e.target.closest(".favorite-folder-rename"),document.querySelector('.favorite-folders .favorites-folder[data-folderid="'+t.dataset.folderid+'"] .favorite-folder-name').textContent=t.querySelector("input").value,(n=new XMLHttpRequest).open("post",t.getAttribute("action")+"&name="+t.querySelector("input").value,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(),document.dispatchEvent(new CustomEvent("modal-close")))},!1),c.addEventListener("reorder",function(e){var t,n=[],i=0;e.target.closest(".favorite-folders.reorder")?(document.querySelectorAll(".favorites-folder").forEach(function(e){var t={};t.FolderId=e.dataset.folderid,t.FolderRank=i,i++,n.push(t)}),(t=new XMLHttpRequest).open("post","/Users/Favorites?handler=ReorderFolders",!0),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(JSON.stringify(n))):e.target.closest(".favorites .reorder")&&(document.querySelectorAll(".favorite").forEach(function(e){var t={};t.FavoriteId=e.dataset.favoriteid,t.FavoriteRank=i,t.FavoriteType=e.dataset.type,i++,n.push(t)}),(t=new XMLHttpRequest).open("post","/Users/Favorites?handler=ReorderFavorites",!0),t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(JSON.stringify(n)))},!1),c.addEventListener("dragEnd",function(e){var t,n,i,a,r;"undefined"!=typeof e.detail&&(t=o(e.detail.el,e.detail.x,e.detail.y),e.target.closest(".favorite")&&t&&(a=e.detail.el.dataset.folderid,r=document.querySelector('.favorite-folders .favorites-folder[data-folderid="'+a+'"]'),a&&null!==r&&((n=r.querySelector(".fav-count")).textContent=parseInt(n.textContent,10)-1),e=e.detail.el,i=t,a={},e.dataset.folderid=i.dataset.folderid,a.FavoriteId=e.dataset.favoriteid,a.FolderId=i.dataset.folderid,a.FavoriteType=e.dataset.type,(r=new XMLHttpRequest).open("post","/Users/Favorites?handler=UpdateFavoriteFolder",!0),r.setRequestHeader("Content-Type","application/json; charset=utf-8"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(JSON.stringify(a)),"0"!==t.dataset.folderid&&((n=t.querySelector(".fav-count")).textContent=parseInt(n.textContent,10)+1),t.click())),document.querySelectorAll(".favorite-folders .is-hover").forEach(function(e){e.classList.remove("is-hover")})}),c.addEventListener("dragMove",function(e){if("undefined"!=typeof e.detail){for(var t=c.querySelectorAll(".favorite-folders .favorites-show-all,.favorite-folders .favorites-folder"),n=0;n<t.length;n++)t[n].classList.remove("is-hover");var i=o(e.detail.el,e.detail.x,e.detail.y);i&&null!==i&&i.classList.add("is-hover")}},!1),document.addEventListener("click",function(e){var n,t,i;e.target.closest("a.star")?(e.preventDefault(),t=(n=e.target.closest("a.star")).dataset,(i=new XMLHttpRequest).open("get",t.href,!0),i.send(),i.addEventListener("load",function(){var e,t;n.querySelector(".fa-star").classList.contains("fas")?(n.querySelector(".fa-star").classList.remove("fas"),n.querySelector(".fa-star").classList.add("far"),n.querySelector(".icon").classList.remove("has-text-gold"),n.querySelector(".icon").classList.add("has-text-grey")):(n.querySelector(".fa-star").classList.remove("far"),n.querySelector(".fa-star").classList.add("fas"),n.querySelector(".icon").classList.remove("has-text-grey"),n.querySelector(".icon").classList.add("has-text-gold")),n.querySelector(".star-count")&&"error"!==i.responseText&&(n.querySelector(".star-count").textContent=i.responseText),null!==n.closest(".favorite")&&(t=n.closest(".favorite"),e=n.closest(".favorite").dataset.folderid,t.remove(),t=document.querySelector('.favorite-folders .favorites-folder[data-folderid="'+e+'"]'),null!==e&&"0"!==e&&null!==t&&(t.querySelector(".fav-count").textContent=parseInt(t.querySelector(".fav-count").textContent,10)-1),document.querySelector(".favorites-show-all .fav-count").textContent=parseInt(document.querySelector(".favorites-show-all .fav-count").textContent,10)-1)})):e.target.closest("a.favorites-filter.is-active")?(n=e.target.closest("a.favorites-filter.is-active"),t=n.dataset,n.classList.remove("is-active"),document.querySelectorAll(".favorites .favorite").forEach(function(e){e.style.display=""})):e.target.closest("a.favorites-filter")&&(n=e.target.closest("a.favorites-filter"),t=n.dataset,document.querySelectorAll("a.favorites-filter.is-active").forEach(function(e){e.classList.remove("is-active")}),document.querySelector("input.favorites-filter").value="",n.classList.add("is-active"),document.querySelectorAll(".favorites .favorite").forEach(function(e){e.style.display=e.classList.contains(t.type)?"":"None"}))}),document.addEventListener("input",function(e){var a;e.target.closest("input.favorites-filter")&&(a=e.target,document.querySelectorAll("a.favorites-filter.is-active").forEach(function(e){e.classList.remove("is-active")}),document.querySelectorAll(".favorites .favorite").forEach(function(e){var t,n,i;""===a.value.trim()?e.style.display="":(t=a.value,n=e.textContent,i=t.toLowerCase().split(" "),n.toLowerCase().split(" ").some(function(t){return i.includes(t)||i.some(function(e){return t.includes(e)})})?e.style.display="":e.style.display="None")}))})}(),function(){"use strict";var e,d,r,o,c,t;d=document,r=function r(e){var t=e.getBoundingClientRect();return 0<=t.top&&0<=t.left&&t.bottom-e.clientHeight-400<=(document.documentElement.clientHeight||d.documentElement.clientHeight)&&t.right-400-e.clientWidth<=(document.documentElement.clientWidth||d.documentElement.clientWidth)},o=function o(e){var t=e.getAttribute("data-url"),n=e.getAttribute("data-parameters"),i=e.getAttribute("data-page"),a=e.getAttribute("data-loadtag");e.classList.contains("no-loader")||(e.innerHTML='<div class="ajaxLoader"><img class="ajaxLoader-img" src="/img/loader.gif" /></div>'),e.classList.contains("ajax-fade")&&(e.style.opacity=".5",e.clientHeight),null!==n&&""!==n&&(t=(t+=t.includes("?")?"&":"?")+n.replace(/^(&|\?)+/gm,"")),null!==i&&""!==i&&(t=(t+=t.includes("?")?"&":"?")+i.replace(/^(&|\?)+/gm,"")),e.q!==undefined&&null!==e.q&&e.q.abort(),e.q=new XMLHttpRequest,e.q.open("get",t,!0),e.q.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),e.q.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.q.send(),e.q.addEventListener("load",function(){c(e,a,e.q.responseText),e.classList.contains("ajax-fade")&&(e.style.opacity="1")})},c=function c(e,t,n){if(e!==undefined)try{if(e.style.visibility="hidden",e.style.transition="visibility 0.3s ease-in-out",!e.parentNode)return;var i=d.createElement("div");if(i.innerHTML=n,null!==t&&""!==t?(i=e.querySelector(t)).setAttribute("data-loadtag",t):i=i.children[0],e.innerHTML=i.innerHTML,e.querySelector('script:not([type="application/json"])'))for(var a=Array.prototype.slice.call(e.querySelectorAll('script:not([type="application/json"])')),r=0;r<a.length;r++){var o=a[r],s=d.createElement("script");s.innerHTML=o.innerHTML,s.type="text/javascript",o.hasAttribute("src")&&(s.setAttribute("src",o.hasAttribute("src")),s.setAttribute("async","true")),e.append(s),o.remove()}e.style.visibility="visible",d.dispatchEvent(new CustomEvent("ajax"))}catch(l){console.log(l)}},t=function t(){Array.prototype.forEach.call(d.querySelectorAll('#AdColTwo [data-ajax="yes"]'),function(e){var t,n,i,a;r(e)&&(t=e.getAttribute("data-url"),n=e.getAttribute("data-parameters"),i=e.getAttribute("data-loadtag"),e.classList.contains("no-loader")||(e.innerHTML='<div class="ajaxLoader"><img class="ajaxLoader-img" src="/img/loader.gif" /></div>'),null!==n&&""!==n&&(t=(t+=t.includes("?")?"&":"?")+n.replace(/^(&|\?)+/gm,""),console.log(t)),e.style.visibility="hidden",e.removeAttribute("data-ajax"),(a=new XMLHttpRequest).open("get",t,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(),a.addEventListener("load",function(){c(e,i,a.responseText)}))})},(e=function e(){Array.prototype.forEach.call(d.querySelectorAll('[data-ajax="yes"]'),function(e){e.closest("#AdColOne")||e.closest('#AdColTwo [data-ajax="yes"]')||!r(e)||null===e.offsetParent||(o(e),e.removeAttribute("data-ajax"),e.addEventListener("reload",function(){o(e)}))})})(),t(),d.addEventListener("load-ajax-content",function(){e(),t()}),d.addEventListener("modal-open",function(){e()}),d.addEventListener("panel-tab-opened",function(){e()}),d.addEventListener("step-tab-opened",function(){e()}),d.addEventListener("tab-opened",function(){e()}),d.addEventListener("scroll",function(){debounce(e(),100),debounce(t(),100)},{passive:!0}),document.addEventListener("click",function(e){e.target.closest("[data-url][data-page]")&&e.target.closest(".pagination-link[data-page]")&&(e.target.closest("[data-url][data-page]").setAttribute("data-page",e.target.closest(".pagination-link[data-page]").getAttribute("data-page")),e.target.closest("[data-url][data-page]").dispatchEvent(new CustomEvent("reload")))})}(),function(){"use strict";document.addEventListener("click",function(e){e.target.matches(".message-close")&&e.target.parentElement.matches(".message-wrapper")&&e.target.parentElement.classList.add("hidden")}),document.addEventListener("show-message",function(e){var t,n;"undefined"!=typeof e.detail&&Boolean(e.detail)&&Boolean(e.detail.value)&&(e=e.detail.value,t=document,n=t.querySelectorAll(".message-wrapper")[0],t.querySelector(".message-container .message-inner").innerHTML=DOMPurify.sanitize(e),n.classList.remove("hidden"),setTimeout(function(){n.classList.add("hidden")},2e3))},!1)}(),function(){"use strict";var g,t,i,d,r,h,f,m,o,c,l,u,p,s,v,b;document.execCommand("defaultParagraphSeparator",!1,"div"),g=document,h=r=d=i=t=null,f=function f(){var e=document.createElement("div");null!==t&&t.abort(),(t=new XMLHttpRequest).open("post","/mail?handler=CheckForMail",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(),t.addEventListener("load",function(){e.innerHTML=DOMPurify.sanitize(t.responseText),m(e)})},m=function m(e){var t,n=g.querySelectorAll(".mail-unread-cnt"),i=g.querySelectorAll(".mail-all-cnt"),a=0,r=e.querySelector("#unread_message_count").innerHTML,c=e.querySelector("#total_message_count").innerHTML,o=e.querySelector("#draft_message_count").innerHTML,s=e.querySelector("#new_message_alerts");for(g.querySelector("#mlbx-fldrsDrafts .mail-draft-cnt")&&(g.querySelector("#mlbx-fldrsDrafts .mail-draft-cnt").innerHTML=0<o?o:""),a=0;a<n.length;a++)0<r?(n[a].style.display="inline-block",n[a].innerHTML=DOMPurify.sanitize(r)):(n[a].style.display="none",n[a].innerHTML="");for(a=0;a<i.length;a++)i[a].innerHTML=DOMPurify.sanitize(c);if(0<s.innerHTML.length&&((t=document.querySelectorAll(".mail-notification-container")[0]).innerHTML=DOMPurify.sanitize(s.innerHTML),t.style.transition="margin-right .5s",t.style.marginRight="500px",t.clientWidth,setTimeout(function(){t.style.marginRight="0px"},1e4)),null!==g.querySelector("#mlbx-fldrsInbox.active")){var l=document.createElement("div");if(l.innerHTML=DOMPurify.sanitize(e.querySelector("#new_message_previews").innerHTML),0<l.innerHTML.length)for(var d,u=Array.prototype.slice.call(g.querySelectorAll(".mlbx-msgsMsg[data-rep-id]")),a=0;a<u.length;a++)null!==(d=l.querySelector('.mlbx-msgsMsg[data-rep-id="'+u[a].getAttribute("data-rep-id")+'"]'))&&(d.nextElementSibling.remove(),d.remove());l.querySelector(".mlbx-msgsMsg.active")&&l.querySelector(".mlbx-msgsMsg.active").classList.remove("active"),0<g.querySelector(".mlbx-msgs .ss-content").children.length?g.querySelector(".mlbx-msgs .ss-content").children[0].insertAdjacentHTML("beforebegin",DOMPurify.sanitize(l.innerHTML)):g.querySelector(".mlbx-msgs .ss-content").innerHTML=DOMPurify.sanitize(l.innerHTML)}},o=function o(t,n){g.querySelectorAll(".mlbx-rdr")[0].innerHTML="",null!==i&&i.abort(),i=new XMLHttpRequest,null!==t&&i.open("get","mail?handler=Messages&folder="+t,!0),null!=n&&i.open("get","mail?handler=Messages?folderId="+n,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(),i.addEventListener("load",function(){var e=g.querySelectorAll(".mlbx-msgsScroll")[0];e.classList.remove("ss-container"),e.innerHTML=DOMPurify.sanitize(i.responseText),document.dispatchEvent(new CustomEvent("ss-load",{cancelable:!0,detail:{el:e}})),"inbox"===t||"deleted"===t||"sent"===t||null!=n?g.querySelector(".mlbx-msgs .mlbx-msgsMsg.active")&&s(g.querySelector(".mlbx-msgs .mlbx-msgsMsg.active").getAttribute("data-rep-id")):"drafts"===t&&(g.querySelector(".mlbx-msgs .mlbx-msgsMsg.active")?l(g.querySelector(".mlbx-msgs .mlbx-msgsMsg.active").getAttribute("data-draft-id")):p())})},c=function c(t){var e;null!==d&&t.querySelector('input[name="draftId')&&d.abort(),null!==d&&!t.querySelector('input[name="draftId')||(e={To:t.querySelector(".dd-cntr .dd-hdn").innerHTML,Subject:t.querySelector(".mlbx-newMsgSubjIpt").innerHTML,Message:t.querySelector(".mlbx-newMsgMsg").innerHTML,Text:t.querySelector(".mlbx-newMsgMsgBx").textContent.replace(/\n/g," "),MsgId:null,ConvId:null},t.querySelector('input[name="draftId')&&(e.DraftId=t.querySelector('input[name="draftId').getAttribute("value")),(d=new XMLHttpRequest).open("post","mail?handler=SaveDraft",!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(JSON.stringify(e)),d.addEventListener("load",function(){var e;null===t.querySelector('input[name="draftId')&&((e=g.createElement("input")).setAttribute("name","draftId"),e.setAttribute("value",d.responseText),e.style.display="none",t.append(e))}))},l=function l(n){d=null,i&&i.abort(),(i=new XMLHttpRequest).open("get","mail?handler=DraftDetails&id="+n,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(),i.addEventListener("load",function(){var e=g.createElement("div"),t=(e.innerHTML=i.responseText,g.createElement("input"));t.setAttribute("name","draftId"),t.setAttribute("value",n),t.style.display="none",e.querySelector("form").append(t),g.querySelectorAll(".mlbx-rdr")[0].innerHTML=DOMPurify.sanitize(e.querySelectorAll(".mlbx-newMsg")[0].outerHTML),document.dispatchEvent(new CustomEvent("dropdown",{cancelable:!0,detail:{el:g.querySelector("#new_msg_dynamic-dropdown")}})),document.dispatchEvent(new CustomEvent("ss-load",{cancelable:!0,detail:{el:g.querySelector(".mlbx-rdr .mlbx-newMsg")}})),g.querySelector(".mlbx-newMsg form.mlbx-newMsgForm").addEventListener("input",function(){c(this)}),g.querySelector(".mlbx-newMsg form.mlbx-newMsgForm").addEventListener("change",function(){c(this)})})},u=function u(e){var t=new XMLHttpRequest;t.open("post","mail?handler=markMessageRead&id="+e,!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send()},p=function p(e,t,n,i){d=null;for(var a=g.querySelectorAll(".mlbx-msgsMsg.active.unread"),r=0;r<a.length;r++)a[r].classList.remove("unread"),u(a[r].getAttribute("data-rep-id"));g.querySelector(".mlbx-msgsMsg.active")&&g.querySelector(".mlbx-msgsMsg.active").classList.remove("active");var o,s,l=g.querySelectorAll(".mlbx-rdr")[0];l.innerHTML="",l.append(g.querySelector(".new_message_template .mlbx-newMsg").cloneNode(!0)),l.querySelector("form.mlbx-newMsgForm").addEventListener("input",function(){c(this)}),l.querySelector("form.mlbx-newMsgForm").addEventListener("change",function(){c(this)}),document.dispatchEvent(new CustomEvent("dropdown",{cancelable:!0,detail:{el:l.querySelector("#new_msg_dynamic-dropdown")}})),void 0!==i&&(l.querySelector("#convid").value=i),void 0!==t&&(l.querySelector(".mlbx-newMsgSubjIpt").innerHTML=DOMPurify.sanitize(t)),void 0!==n&&(l.querySelector(".mlbx-newMsgMsg").innerHTML=DOMPurify.sanitize(n.innerHTML)),null!=e&&(o=l.querySelector(".dd-cntr .dd-wrp"),s=l.querySelector(".dd-cntr select.dd-hdn"),e.forEach(function(e){s.innerHTML+='<option selected="selected" class="'+DOMPurify.sanitize(e[2])+'" value="'+DOMPurify.sanitize(e[0])+'">'+DOMPurify.sanitize(e[1])+"</option>",o.children[0].insertAdjacentHTML("beforebegin",'<div class="dd-itm '+DOMPurify.sanitize(e[2])+'">'+DOMPurify.sanitize(e[1])+"</div>")})),document.dispatchEvent(new CustomEvent("ss-load",{cancelable:!0,detail:{el:l.querySelector(".mlbx-newMsg")}}))},s=function s(e){if(!g.querySelectorAll(".mlbx-rdr")[0])return!1;i&&i.abort(),(i=new XMLHttpRequest).open("get","mail?handler=MessageDetails&id="+e,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(),i.addEventListener("load",function(){g.querySelectorAll(".mlbx-rdr")[0]&&(g.querySelectorAll(".mlbx-rdr")[0].innerHTML=DOMPurify.sanitize(i.responseText)),document.dispatchEvent(new CustomEvent("ss-load"))})},v=function v(e,t){var n=e.nextElementSibling;if(!t)return n;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}if(n=e.previousElementSibling,!t)return n;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}},b=function b(e){for(var t=g.querySelectorAll(".mlbx-msgsMsg.active:not(.deleted"),n=0;n<t.length;n++)t[n].classList.remove("active"),g.querySelector("#mlbx-fldrsInbox.active")&&t[n].classList.contains("unread")&&(t[n].classList.remove("unread"),u(t[n].getAttribute("data-rep-id")));e.classList.add("active"),g.querySelector("#mlbx-fldrsInbox.active")&&e.classList.contains("unread")&&(e.classList.remove("unread"),u(e.getAttribute("data-rep-id"))),g.querySelector("#mlbx-fldrsDrafts.active")?l(e.getAttribute("data-draft-id")):s(e.getAttribute("data-rep-id")),f()},setInterval(function(){"undefined"!=typeof window.ajaxOn&&!0!==window.ajaxOn||f()},1e4),document.addEventListener("loadMessage",function(e){"undefined"!=typeof e.detail&&s(e.detail.id)}),g.addEventListener("click",function(e){var t,n,i;e.target.closest(".mlbx-msgsMsg")?b(e.target.closest(".mlbx-msgsMsg")):e.target.closest(".mail-new-message")?(n=e.target.closest(".mail-new-message").getAttribute("data-from"),i=e.target.closest(".mail-new-message").getAttribute("data-fromid"),n&&i?p([[i,n]]):p()):e.target.closest(".mlbx-usrDrp")?(e.target.closest(".mlbx-usrDrp").querySelector(".mlbx-usrDrpCtr").style.display="block",e.target.closest(".mlbx-usrDrp").querySelector(".mlbx-usrDrpCtr").addEventListener("mouseleave",function a(){this.style.removeProperty("display"),this.removeEventListener("mouseleave",a,!1)})):e.target.closest("#mlbx-fldrsDrafts")?(o("drafts"),document.querySelector(".mlbx-fldrsFldr.active").classList.remove("active"),e.target.closest("#mlbx-fldrsDrafts").classList.add("active")):e.target.closest("#mlbx-fldrsInbox")?(o("inbox"),document.querySelector(".mlbx-fldrsFldr.active").classList.remove("active"),e.target.closest("#mlbx-fldrsInbox").classList.add("active")):e.target.closest("#mlbx-fldrsSent")?(o("sent"),document.querySelector(".mlbx-fldrsFldr.active").classList.remove("active"),e.target.closest("#mlbx-fldrsSent").classList.add("active")):e.target.closest("#mlbx-fldrsDeleted")?(o("deleted"),document.querySelector(".mlbx-fldrsFldr.active").classList.remove("active"),e.target.closest("#mlbx-fldrsDeleted").classList.add("active")):!e.target.closest(".mail-delete-message")||null!==(t=g.querySelector(".mlbx-msgsMsg.active:not(.deleted)"))&&(i=v(t,".mlbx-msgsMsg"),t.hasAttribute("data-draft-id")?((r=new XMLHttpRequest).open("post","mail?handler=DeleteDraft&id="+t.getAttribute("data-draft-id"),!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(),void 0!==i?(l(i.getAttribute("data-draft-id")),i.classList.add("active")):g.querySelector(".mlbx-rdr").innerHTML=""):t.hasAttribute("data-rep-id")&&((r=new XMLHttpRequest).open("post","mail?handler=DeleteMessage&id="+t.getAttribute("data-rep-id"),!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.send(),void 0!==i?(s(i.getAttribute("data-rep-id")),i.classList.add("active")):g.querySelector(".mlbx-rdr").innerHTML=""),n=parseFloat(t.clientWidth),i=parseFloat(t.clientHeight),t.style.transition="margin-left 150ms, margin-right 150ms, margin-top 150ms",t.style.zIndex="-1",t.clientHeight,t.style.marginLeft=-n+"px",t.style.marginRight=n+"px",t.style.marginTop=-i+"px",t.classList.add("deleted"),setTimeout(function(){null!==t&&(t.nextElementSibling.remove(),t.remove())},150))}),g.addEventListener("submit",function(e){if(e.target.closest(".mlbx-newMsgForm")){e.preventDefault();var t=e.target.closest(".mlbx-newMsgForm"),n=[],i=t.querySelectorAll('.mlbx-newMsgRecip select option, .mail-to input[type="hidden"]');if(!(null!==i&&0<i.length))return(s=t.querySelector(".mlbx-newMsgRecip,.mail-to").parentElement.querySelector("label"))&&s.insertAdjacentHTML("afterend",'<p class="help is-danger">Recipients are required.</p>'),!1;for(var a=0;a<i.length;a++){var r=i[a].classList.contains("group")?"g":"";n.push({UserId:i[a].value,Type:r})}var o,s=t.querySelector(".mlbx-newMsgSubjIpt")?t.querySelector(".mlbx-newMsgSubjIpt").textContent:t.querySelector("input.mail-subject").value,l=t.querySelector(".mlbx-newMsgMsg")?(o=t.querySelector(".mlbx-newMsgMsg").innerHTML,t.querySelector(".mlbx-newMsgMsg").textContent.replace(/\n/g," ")):o=t.querySelector('textarea[name="mail-message"]').value,d=t.querySelector(".mlbx-share")?"1":"0",c=t.querySelector(".mlbx-shareName")?t.querySelector(".mlbx-shareName").value:"",u=t.querySelector(".mlbx-shareUrl")?t.querySelector(".mlbx-shareUrl").value:window.location.href,s={To:JSON.stringify(n),Subject:s,Message:o,Text:l,Share:d,ShareName:c,ShareUrl:u};null!==t.querySelector('input[name="draftId"]')&&(o=t.querySelector('input[name="draftId"]').value,s.DraftId=o,g.querySelector('.mlbx-msgsMsg[data-draft-id="'+o+'"]')&&g.querySelector('.mlbx-msgsMsg[data-draft-id="'+o+'"]').remove()),(h=new XMLHttpRequest).open("post",t.getAttribute("action"),!0),h.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.send(JSON.stringify(s)),h.addEventListener("load",function(){f()}),document.dispatchEvent(new CustomEvent("show-message",{cancelable:!0,detail:{value:"Messages sent! ¯\\_(ツ)_/¯"}})),null!==g.querySelector(".mlbx-rdr")&&(g.querySelector(".mlbx-rdr").innerHTML=""),g.dispatchEvent(new CustomEvent("modal-close"))}},!1),g.addEventListener("click",function(c){var e,t,n;if(c.target.closest(".mail-reply")&&null!==g.querySelector("#mlbx-fldrsInbox.active")){for(a=(i=g.querySelector(".mlbx-rdrHead")).getAttribute("data-conv-id"),u="Re: "+i.querySelector(".mailbox-subject").textContent,s=[[(r=i.querySelector("div.mailbox-sender-user")).getAttribute("data-user-id"),r.querySelector("span").textContent,""]],e=document.createElement("div"),(t=document.createElement("div")).classList.add("message-reply"),t.innerHTML=DOMPurify.sanitize(g.querySelector(".mlbx-rdr .ss-content").innerHTML),t.querySelector(".mlbx-rdrHead-controls").remove(),n=t.querySelectorAll(".mlbx-usrDrp"),l=0;l<n.length;l++)n[l].remove();e.innerHTML="<br><br><br>",e.append(t),p(s,u,e,a)}else if(c.target.closest(".mail-reply-all")&&null!==g.querySelector("#mlbx-fldrsInbox.active")){for(var i,a=(i=g.querySelector(".mlbx-rdrHead")).getAttribute("data-conv-id"),u="Re: "+i.querySelector(".mailbox-subject").textContent,r=i.querySelectorAll("div.mailbox-sender-user"),o=i.querySelectorAll("div.mailbox-to-user"),s=[],l=0;l<r.length;l++)s.push([r[l].getAttribute("data-user-id"),r[l].querySelector("span").textContent,r[l].classList.contains("group")?"group":""]);for(l=0;l<o.length;l++)s.push([o[l].getAttribute("data-user-id"),o[l].querySelector("span").textContent,o[l].classList.contains("group")?"group":""]);for(var h={},f=[],d=0;d<s.length;d++)s[d]in h||(f.push(s[d]),h[s[d]]=!0);for(s=f,e=document.createElement("div"),(t=document.createElement("div")).classList.add("message-reply"),t.innerHTML=DOMPurify.sanitize(g.querySelector(".mlbx-rdr .ss-content").innerHTML),t.querySelector(".mlbx-rdrHead-controls").remove(),n=t.querySelectorAll(".mlbx-usrDrp"),l=0;l<n.length;l++)n[l].remove();e.innerHTML="<br><br><br>",e.append(t),p(s,u,e,a)}})}(),function(){"use strict";(document.querySelectorAll(".navbar-burger")||[]).forEach(function(t){t.addEventListener("click",function(){var e=t.dataset.target,e=document.querySelector("#".concat(e));t.classList.toggle("is-active"),e.classList.toggle("is-active")})})}(),function(){"use strict";function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t){var n,i,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),n=0,{s:i=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==a["return"]||a["return"]()}finally{if(s)throw r}}}}function d(e){e.classList.add("is-active");var t=e.parentElement.querySelector("input.is-danger");t&&t.classList.remove("is-danger")}function n(e){e.classList.remove("is-active");var t=e.parentElement.querySelector("input.input-mini.multiselect"),t=(t&&t.value&&t.classList.add("is-danger"),e.parentElement.querySelector('input[type="hidden"]'));!t||""!==t.value||(t=e.parentElement.querySelector("input.input-mini:not(.multiselect)"))&&t.classList.add("is-danger")}function c(){(document.querySelectorAll(".mini.is-active")||[]).forEach(function(e){n(e)})}function u(e){for(var t=e.querySelectorAll('input[type="hidden"][name]:not(.drag)'),n=0;n<t.length;n++)t[n].setAttribute("name",t[n].getAttribute("name").replace(/\[\d*?]/,"["+n+"]"))}function h(s,e,l,d){var t=JSON.parse(e);if(0===t.length)s.innerHTML='<div class="mini-waiting">No matches found.</div>';else{s.textContent="";var n,i=m(t);try{for(i.s();!(n=i.n()).done;){var a=n.value,r=document.createElement("a");r.classList.add("mini-item"),r.textContent=a.Name,r.setAttribute("value",a.ObjectId||a.Description),r.addEventListener("click",function(e){var t,n,i,a,r,o;d.classList.contains("multiselect")?d.classList.contains("multiselect")&&(t=d.closest(".field").parentNode.querySelector(".mini-tags"),(n=document.createElement("div")).classList.add("control"),(i=document.createElement("input")).setAttribute("type","hidden"),i.setAttribute("value",e.target.getAttribute("value")),d.hasAttribute("data-name")&&i.setAttribute("name",d.getAttribute("data-name")),(a=document.createElement("div")).classList.add("tags","has-addons"),(r=document.createElement("span")).classList.add("tag","is-link"),r.textContent=e.target.textContent,(o=document.createElement("a")).classList.add("tag","is-delete"),o.addEventListener("click",function(){n.remove(),u(t)}),t.classList.contains("reorder")&&(n.classList.add("drg"),r.classList.add("drg-hdl")),n.append(a),a.append(r),a.append(i),a.append(o),t!==undefined&&(t.append(n),u(t)),d.value="",d.hasAttribute("lookup-area")&&f(d,s),d.classList.contains("mini-close-fast")&&c()):(d.value=e.target.textContent,l.value=e.target.getAttribute("value"),c())}),s.append(r)}}catch(o){i.e(o)}finally{i.f()}0===s.querySelectorAll(".mini-item:not(.hidden)").length&&(s.innerHTML+='<div class="mini-waiting">No matches found.</div>')}}function f(t,e){e.querySelectorAll(".mini-item").forEach(function(e){""===t.value||e.textContent.toLowerCase().includes(t.value.toLowerCase())?e.style.display="":e.style.display="none"})}function e(){(document.querySelectorAll(".mini-tags .tag.is-delete")||[]).forEach(function(n){n.addEventListener("click",function(){var e=n.closest(".control"),t=n.closest(".mini-tags");e.remove(),u(t)})}),(document.querySelectorAll(".input-mini:not(.loaded)")||[]).forEach(function(r){r.classList.add("loaded");var t,n,e,i,a,o=r.parentElement.querySelector(".mini"),s=r.parentElement.querySelector('input[type="hidden"], select.is-hidden'),l=r.parentElement.parentElement.querySelector(".mini-clear");r.addEventListener("click",function(){c(),d(o)}),r.addEventListener("focus",function(){""!==r.value&&(c(),d(o),o.dispatchEvent(new CustomEvent("input")))}),r.hasAttribute("search-area")?(r.addEventListener("keydown",function(e){var t,n;13===Number(e.keyCode)||3===Number(e.keyCode)?(e.preventDefault(),console.log(o),(t=o.querySelector(".mini-item.is-active"))&&t.dispatchEvent(new CustomEvent("click"))):40===Number(e.keyCode)?((t=o.querySelector(".mini-item.is-active"))?(t.nextElementSibling?t.nextElementSibling.classList.add("is-active"):(n=o.querySelector(".mini-item"))&&n.classList.add("is-active"),t.classList.remove("is-active")):(n=o.querySelector(".mini-item"))&&n.classList.add("is-active"),e.preventDefault(),console.log(o)):38===Number(e.keyCode)?(e.preventDefault(),(t=o.querySelector(".mini-item.is-active"))?(t.previousElementSibling?t.previousElementSibling.classList.add("is-active"):(n=o.querySelector(".mini-item:last-child"))&&n.classList.add("is-active"),t.classList.remove("is-active")):(n=o.querySelector(".mini-item:last-child"))&&n.classList.add("is-active")):9===Number(e.keyCode)&&c()}),r.addEventListener("input",function(){o.classList.contains("is-active")||d(o),s&&(s.value=""),window.clearTimeout(p),r.classList.remove("is-danger"),p=window.setTimeout(function(){var t,n,e,i,a;n=o,e=(t=r).getAttribute("search-area"),i=s,a=t.value,0<t.value.length?(null!==g&&g.abort(),(g=new XMLHttpRequest).open("post","/Search?handler="+e+"&s="+a,!0),g.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.send(),g.addEventListener("load",function(){var e=g.responseText;h(n,e,i,t)})):n.innerHTML='<div class="mini-waiting">\n                    <span class="icon">\n                        <i class="fas fa-circle-notch fa-spin"></i>\n                    </span>\n                </div>',window.clearTimeout(p)},250)})):r.hasAttribute("lookup-area")&&(n=o,e=(t=r).getAttribute("lookup-area"),i=s,(a=new XMLHttpRequest).open("post","/Search?handler=ValueList&s="+e,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(),a.addEventListener("load",function(){var e=a.responseText;h(n,e,i,t)}),r.classList.contains("multiselect")&&r.addEventListener("input",function(){r.classList.remove("is-danger"),f(r,o)})),l&&l.addEventListener("click",function(){s.value="",r.value="",r.classList.remove("is-danger")})}),(document.querySelectorAll(".mini-background:not(.loaded), .mini-close:not(.loaded), .mini-card-head:not(.loaded) .delete:not(.loaded), .mini-card-foot:not(.loaded) .button:not(.loaded)")||[]).forEach(function(e){var t=e.closest(".mini");e.classList.add("loaded"),e.addEventListener("click",function(){n(t)})}),window.addEventListener("click",function(e){e.target.closest(".mini,.input-mini")||c()}),document.addEventListener("keydown",function(e){e=e||window.event,27===Number(e.keyCode)&&c()}),(document.querySelectorAll(".mini-tags.reorder:not(.loaded)")||[]).forEach(function(e){e.classList.add("loaded"),e.addEventListener("reorder",function(){u(e)})})}var g,p;p=g=null,e(),document.addEventListener("ajax",function(){e()})}(),function(){"use strict";function t(){(document.querySelectorAll(".dropdown:not(.is-hoverable)")||[]).forEach(function(e){e.classList.remove("is-active")})}document.addEventListener("click",function(e){e.target.closest(".dropdown.is-active")||t()}),document.addEventListener("keydown",function(e){e=e||window.event,27===Number(e.keyCode)&&t()}),document.addEventListener("click",function(e){var t;e.target.closest(".dropdown:not(.is-hoverable)")&&(t=e.target.closest(".dropdown:not(.is-hoverable)"),e.stopPropagation(),t.classList.contains("is-active")?t.classList.remove("is-active"):t.classList.add("is-active"))})}();var module=function(){"use strict";function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}return function(i){i=i&&i.hasOwnProperty("default")?i["default"]:i;var u={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},d=(function(e){var t,l={};for(t in u)u.hasOwnProperty(t)&&(l[u[t]]=t);var n,r=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(n in r)if(r.hasOwnProperty(n)){if(!("channels"in r[n]))throw new Error("missing channels property: "+n);if(!("labels"in r[n]))throw new Error("missing channel labels property: "+n);if(r[n].labels.length!==r[n].channels)throw new Error("channel and label counts mismatch: "+n);var i=r[n].channels,a=r[n].labels;delete r[n].channels,delete r[n].labels,Object.defineProperty(r[n],"channels",{value:i}),Object.defineProperty(r[n],"labels",{value:a})}r.rgb.hsl=function(e){var t,n=e[0]/255,i=e[1]/255,a=e[2]/255,r=Math.min(n,i,a),o=Math.max(n,i,a),s=o-r;return o===r?t=0:n===o?t=(i-a)/s:i===o?t=2+(a-n)/s:a===o&&(t=4+(n-i)/s),(t=Math.min(60*t,360))<0&&(t+=360),a=(r+o)/2,[t,100*(o===r?0:a<=.5?s/(o+r):s/(2-o-r)),100*a]},r.rgb.hsv=function(e){var t,n,i,a,c,r=e[0]/255,o=e[1]/255,s=e[2]/255,l=Math.max(r,o,s),u=l-Math.min(r,o,s),d=function d(e){return(l-e)/6/u+.5};return 0==u?a=c=0:(c=u/l,t=d(r),n=d(o),i=d(s),r===l?a=i-n:o===l?a=1/3+t-i:s===l&&(a=2/3+n-t),a<0?a+=1:1<a&&--a),[360*a,100*c,100*l]},r.rgb.hwb=function(e){var t=e[0],n=e[1],i=e[2];return[r.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,i))),100*(1-1/255*Math.max(t,Math.max(n,i)))]},r.rgb.cmyk=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255,a=Math.min(1-t,1-n,1-i);return[100*((1-t-a)/(1-a)||0),100*((1-n-a)/(1-a)||0),100*((1-i-a)/(1-a)||0),100*a]},r.rgb.keyword=function(e){var t=l[e];if(t)return t;var n,i,a,r,o,s=Infinity;for(i in u)u.hasOwnProperty(i)&&(a=u[i],r=e,o=a,(a=Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)+Math.pow(r[2]-o[2],2))<s&&(s=a,n=i));return n},r.keyword.rgb=function(e){return u[e]},r.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=.04045<t?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=.04045<n?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=.04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]},r.rgb.lab=function(e){var t=r.rgb.xyz(e),n=t[0],i=t[1],t=t[2];return i/=100,t/=108.883,n=.008856<(n/=95.047)?Math.pow(n,1/3):7.787*n+16/116,[116*(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(t=.008856<t?Math.pow(t,1/3):7.787*t+16/116))]},r.hsl.rgb=function(e){var t,n,i=e[0]/360,a=e[1]/100,r=e[2]/100;if(0==a)return[n=255*r,n,n];for(var o,s=2*r-(o=r<.5?r*(1+a):r+a-r*a),l=[0,0,0],d=0;d<3;d++)(t=i+1/3*-(d-1))<0&&t++,1<t&&t--,l[d]=255*(n=6*t<1?s+6*(o-s)*t:2*t<1?o:3*t<2?s+(o-s)*(2/3-t)*6:s);return l},r.hsl.hsv=function(e){var t=e[0],n=e[1]/100,i=e[2]/100,a=n,r=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,a*=r<=1?r:2-r,[t,100*(0==i?2*a/(r+a):2*n/(i+n)),100*((i+n)/2)]},r.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,a=Math.floor(t)%6,t=t-Math.floor(t),r=255*i*(1-n),o=255*i*(1-n*t),s=255*i*(1-n*(1-t));switch(i*=255,a){case 0:return[i,s,r];case 1:return[o,i,r];case 2:return[r,i,s];case 3:return[r,o,i];case 4:return[s,r,i];case 5:return[i,r,o]}},r.hsv.hsl=function(e){var t=e[0],n=e[1]/100,i=e[2]/100,a=Math.max(i,.01),i=(2-n)*i,r=(2-n)*a,n=n*a;return[t,100*((n/=r<=1?r:2-r)||0),100*(i/=2)]},r.hwb.rgb=function(e){var t,n,i,a,r,o=e[0]/360,s=e[1]/100,l=e[2]/100,d=s+l;switch(1<d&&(s/=d,l/=d),o=6*o-(d=Math.floor(6*o)),n=s+(o=0!=(1&d)?1-o:o)*((t=1-l)-s),d){default:case 6:case 0:i=t,a=n,r=s;break;case 1:i=n,a=t,r=s;break;case 2:i=s,a=t,r=n;break;case 3:i=s,a=n,r=t;break;case 4:i=n,a=s,r=t;break;case 5:i=t,a=s,r=n}return[255*i,255*a,255*r]},r.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,i=e[2]/100,a=e[3]/100;return[255*(1-Math.min(1,t*(1-a)+a)),255*(1-Math.min(1,n*(1-a)+a)),255*(1-Math.min(1,i*(1-a)+a))]},r.xyz.rgb=function(e){var t=e[0]/100,n=e[1]/100,i=e[2]/100,a=3.2406*t+-1.5372*n+-.4986*i,r=-.9689*t+1.8758*n+.0415*i,t=.0557*t+-.204*n+1.057*i;return a=.0031308<a?1.055*Math.pow(a,1/2.4)-.055:12.92*a,r=.0031308<r?1.055*Math.pow(r,1/2.4)-.055:12.92*r,t=.0031308<t?1.055*Math.pow(t,1/2.4)-.055:12.92*t,[255*(a=Math.min(Math.max(0,a),1)),255*(r=Math.min(Math.max(0,r),1)),255*(t=Math.min(Math.max(0,t),1))]},r.xyz.lab=function(e){var t=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,t=.008856<(t/=95.047)?Math.pow(t,1/3):7.787*t+16/116,[116*(n=.008856<n?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(i=.008856<i?Math.pow(i,1/3):7.787*i+16/116))]},r.lab.xyz=function(e){var t=(e[0]+16)/116,n=e[1]/500+t,i=t-e[2]/200,a=Math.pow(t,3),r=Math.pow(n,3),o=Math.pow(i,3);return t=.008856<a?a:(t-16/116)/7.787,n=.008856<r?r:(n-16/116)/7.787,i=.008856<o?o:(i-16/116)/7.787,[n*=95.047,t*=100,i*=108.883]},r.lab.lch=function(e){var t=e[0],n=e[1],i=e[2],a=360*Math.atan2(i,n)/2/Math.PI;return a<0&&(a+=360),[t,Math.sqrt(n*n+i*i),a]},r.lch.lab=function(e){var t=e[0],n=e[1],i=e[2]/360*2*Math.PI;return[t,n*Math.cos(i),n*Math.sin(i)]},r.rgb.ansi16=function(e){var t=e[0],n=e[1],i=e[2],a=1 in arguments?arguments[1]:r.rgb.hsv(e)[2];if(0===(a=Math.round(a/50)))return 30;i=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===a&&(i+=60),i},r.hsv.ansi16=function(e){return r.rgb.ansi16(r.hsv.rgb(e),e[2])},r.rgb.ansi256=function(e){var t=e[0],n=e[1],i=e[2];return t===n&&n===i?t<8?16:248<t?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return 50<e&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(50<e));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},r.ansi256.rgb=function(e){var t;return 232<=e?[t=10*(e-232)+8,t,t]:(e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255])},r.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},r.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0],t=(3===t[0].length&&(n=n.split("").map(function(e){return e+e}).join("")),parseInt(n,16));return[t>>16&255,t>>8&255,255&t]},r.rgb.hcg=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255,a=Math.max(Math.max(t,n),i),r=Math.min(Math.min(t,n),i),o=a-r,r=o<1?r/(1-o):0,a=o<=0?0:a===t?(n-i)/o%6:a===n?2+(i-t)/o:4+(t-n)/o+4;return[360*(a=a/6%1),100*o,100*r]},r.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,i=1,a=0,i=n<.5?2*t*n:2*t*(1-n);return[e[0],100*i,100*(a=i<1?(n-.5*i)/(1-i):a)]},r.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,t=t*n,n=t<1?(n-t)/(1-t):0;return[e[0],100*t,100*n]},r.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,i=e[2]/100;if(0==n)return[255*i,255*i,255*i];var a=[0,0,0],t=t%1*6,r=t%1,o=1-r;switch(Math.floor(t)){case 0:a[0]=1,a[1]=r,a[2]=0;break;case 1:a[0]=o,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=r;break;case 3:a[0]=0,a[1]=o,a[2]=1;break;case 4:a[0]=r,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=o}return[255*(n*a[0]+(t=(1-n)*i)),255*(n*a[1]+t),255*(n*a[2]+t)]},r.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),t=0<n?t/n:0;return[e[0],100*t,100*n]},r.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return 0<n&&n<.5?i=t/(2*n):.5<=n&&n<1&&(i=t/(2*(1-n))),[e[0],100*i,100*n]},r.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},r.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,t=n-t,n=t<1?(n-t)/(1-t):0;return[e[0],100*t,100*n]},r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},r.gray.hsl=r.gray.hsv=function(e){return[0,0,e[0]]},r.gray.hwb=function(e){return[0,100,e[0]]},r.gray.cmyk=function(e){return[0,0,0,e[0]]},r.gray.lab=function(e){return[e[0],0,0]},r.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),t=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(t.length)+t},r.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}(et={exports:{}}),et.exports);function l(e){var t=function(){for(var e={},t=Object.keys(d),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),a=Object.keys(d[i]),r=a.length,o=0;o<r;o++){var s=a[o],l=t[s];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(s))}return t}function h(e,t){for(var n=[t[e].parent,e],i=d[t[e].parent][e],a=t[e].parent;t[a].parent;)n.unshift(t[a].parent),i=function(t,n){return function(e){return n(t(e))}}(d[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}d.rgb,d.hsl,d.hsv,d.hwb,d.cmyk,d.xyz,d.lab,d.lch,d.hex,d.keyword,d.ansi16,d.ansi256,d.hcg,d.apple,d.gray;var f=function f(e){for(var t=l(e),n={},i=Object.keys(t),a=i.length,r=0;r<a;r++){var o=i[r];null!==t[o].parent&&(n[o]=h(o,t))}return n},g={};Object.keys(d).forEach(function(o){g[o]={},Object.defineProperty(g[o],"channels",{value:d[o].channels}),Object.defineProperty(g[o],"labels",{value:d[o].labels});var s=f(o);Object.keys(s).forEach(function(e){var a,r,t,n,i=s[e];g[o][e]=(r=function r(e){if(e===undefined||null===e)return e;1<arguments.length&&(e=Array.prototype.slice.call(arguments));var t=a(e);if("object"===Kn(t))for(var n=t.length,i=0;i<n;i++)t[i]=Math.round(t[i]);return t},"conversion"in(a=i)&&(r.conversion=a.conversion),r),g[o][e].raw=(n=function n(e){return e===undefined||null===e?e:(1<arguments.length&&(e=Array.prototype.slice.call(arguments)),t(e))},"conversion"in(t=i)&&(n.conversion=t.conversion),n)})});var p=g,m={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n={getRgba:r,getHsla:v,getRgb:function(e){var t=r(e);return t&&t.slice(0,3)},getHsl:function(e){var t=v(e);return t&&t.slice(0,3)},getHwb:b,getAlpha:function(e){var t=r(e);return(t=t||v(e))||(t=b(e))?t[3]:void 0},hexString:y,rgbString:x,rgbaString:w,percentString:M,percentaString:_,hslString:S,hslaString:k,hwbString:L,keyword:A};function r(e){if(e){var t=[0,0,0],n=1,i="";if(a=e.match(/^#([a-fA-F0-9]{3,4})$/i)){for(var a,i=(a=a[1])[3],r=0;r<t.length;r++)t[r]=parseInt(a[r]+a[r],16);i&&(n=Math.round(parseInt(i+i,16)/255*100)/100)}else if(a=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){i=a[2],a=a[1];for(r=0;r<t.length;r++)t[r]=parseInt(a.slice(2*r,2*r+2),16);i&&(n=Math.round(parseInt(i,16)/255*100)/100)}else if(a=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<t.length;r++)t[r]=parseInt(a[r+1]);n=parseFloat(a[4])}else if(a=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<t.length;r++)t[r]=Math.round(2.55*parseFloat(a[r+1]));n=parseFloat(a[4])}else if(a=e.match(/(\w+)/)){if("transparent"==a[1])return[0,0,0,0];if(!(t=m[a[1]]))return}for(r=0;r<t.length;r++)t[r]=C(t[r],0,255);return n=n||0==n?C(n,0,1):1,t[3]=n,t}}function v(e){var t,n;if(e)return t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/),t?(n=parseFloat(t[4]),[C(parseInt(t[1]),0,360),C(parseFloat(t[2]),0,100),C(parseFloat(t[3]),0,100),C(isNaN(n)?1:n,0,1)]):void 0}function b(e){var t,n;if(e)return t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/),t?(n=parseFloat(t[4]),[C(parseInt(t[1]),0,360),C(parseFloat(t[2]),0,100),C(parseFloat(t[3]),0,100),C(isNaN(n)?1:n,0,1)]):void 0}function y(e,t){t=t!==undefined&&3===e.length?t:e[3];return"#"+E(e[0])+E(e[1])+E(e[2])+(0<=t&&t<1?E(Math.round(255*t)):"")}function x(e,t){return t<1||e[3]&&e[3]<1?w(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function w(e,t){return t===undefined&&(t=e[3]!==undefined?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function M(e,t){return t<1||e[3]&&e[3]<1?_(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"}function _(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function S(e,t){return t<1||e[3]&&e[3]<1?k(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function k(e,t){return t===undefined&&(t=e[3]!==undefined?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function L(e,t){return t===undefined&&(t=e[3]!==undefined?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(t!==undefined&&1!==t?", "+t:"")+")"}function A(e){return P[e.slice(0,3)]}function C(e,t,n){return Math.min(Math.max(t,e),n)}function E(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var D,P={};for(D in m)P[m[D]]=D;(o=function o(e){return e instanceof o?e:this instanceof o?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=n.getRgba(e))?this.setValues("rgb",t):(t=n.getHsla(e))?this.setValues("hsl",t):(t=n.getHwb(e))&&this.setValues("hwb",t):"object"===Kn(e)&&((t=e).r!==undefined||t.red!==undefined?this.setValues("rgb",t):t.l!==undefined||t.lightness!==undefined?this.setValues("hsl",t):t.v!==undefined||t.value!==undefined?this.setValues("hsv",t):t.w!==undefined||t.whiteness!==undefined?this.setValues("hwb",t):t.c===undefined&&t.cyan===undefined||this.setValues("cmyk",t)))):new o(e);var t}).prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return e===undefined?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e=e&&((e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function y(){return n.hexString(this.values.rgb)},rgbString:function x(){return n.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function w(){return n.rgbaString(this.values.rgb,this.values.alpha)},percentString:function M(){return n.percentString(this.values.rgb,this.values.alpha)},hslString:function S(){return n.hslString(this.values.hsl,this.values.alpha)},hslaString:function k(){return n.hslaString(this.values.hsl,this.values.alpha)},hwbString:function L(){return n.hwbString(this.values.hwb,this.values.alpha)},keyword:function A(){return n.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((.055+i)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return n<t?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return 7.1<=t?"AAA":4.5<=t?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,e=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=this,i=e,a=t===undefined?.5:t,r=2*a-1,o=n.alpha()-i.alpha(),r=(1+(r*o==-1?r:(r+o)/(1+r*o)))/2,o=1-r;return this.rgb(r*n.red()+o*i.red(),r*n.green()+o*i.green(),r*n.blue()+o*i.blue()).alpha(n.alpha()*a+i.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n,i=new o,a=this.values,r=i.values;for(n in a)a.hasOwnProperty(n)&&(e=a[n],"[object Array]"===(t={}.toString.call(e))?r[n]=e.slice(0):"[object Number]"===t?r[n]=e:console.error("unexpected color value:",e));return i}},o.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},o.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},o.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},o.prototype.setValues=function(e,t){var n,i,a=this.values,r=this.spaces,o=this.maxes,s=1;if(this.valid=!0,"alpha"===e)s=t;else if(t.length)a[e]=t.slice(0,e.length),s=t[e.length];else if(t[e.charAt(0)]!==undefined){for(d=0;d<e.length;d++)a[e][d]=t[e.charAt(d)];s=t.a}else if(t[r[e][0]]!==undefined){for(var l=r[e],d=0;d<e.length;d++)a[e][d]=t[l[d]];s=t.alpha}if(a.alpha=Math.max(0,Math.min(1,s===undefined?a.alpha:s)),"alpha"===e)return!1;for(d=0;d<e.length;d++)n=Math.max(0,Math.min(o[e][d],a[e][d])),a[e][d]=Math.round(n);for(i in r)i!==e&&(a[i]=p[e][i](a[e]));return!0},o.prototype.setSpace=function(e,t){var n=t[0];return n===undefined?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},o.prototype.setChannel=function(e,t,n){var i=this.values[e];return n===undefined?i[t]:(n===i[t]||(i[t]=n,this.setValues(e,i)),this)},"undefined"!=typeof window&&(window.Color=o);var o,q=o;function I(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}var R,F,c={noop:function Qt(){},uid:(F=0,function(){return F++}),isNullOrUndef:function zt(e){return null==e},isArray:function Nt(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:(R=function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},O.toString=function(){return R.toString()},O),valueOrDefault:function J(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function Bt(e,t,n){return c.valueOrDefault(c.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,i){var a,r,o;if(c.isArray(e))if(r=e.length,i)for(a=r-1;0<=a;a--)t.call(n,e[a],a);else for(a=0;a<r;a++)t.call(n,e[a],a);else if(c.isObject(e))for(r=(o=Object.keys(e)).length,a=0;a<r;a++)t.call(n,e[o[a]],o[a])},arrayEquals:function(e,t){var n,i,a,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(a=e[n],r=t[n],a instanceof Array&&r instanceof Array){if(!c.arrayEquals(a,r))return!1}else if(a!==r)return!1;return!0},clone:function(e){if(c.isArray(e))return e.map(c.clone);if(c.isObject(e)){for(var t=Object.create(e),n=Object.keys(e),i=n.length,a=0;a<i;++a)t[n[a]]=c.clone(e[n[a]]);return t}return e},_merger:function(e,t,n,i){var a,r;I(e)&&(a=t[e],r=n[e],c.isObject(a)&&c.isObject(r)?c.merge(a,r,i):t[e]=c.clone(r))},_mergerIf:function(e,t,n){var i,a;I(e)&&(i=t[e],a=n[e],c.isObject(i)&&c.isObject(a)?c.mergeIf(i,a):t.hasOwnProperty(e)||(t[e]=c.clone(a)))},merge:function Xn(e,t,n){var Xn,i,a,r,o,s=c.isArray(t)?t:[t],l=s.length;if(!c.isObject(e))return e;for(Xn=(n=n||{}).merger||c._merger,i=0;i<l;++i)if(t=s[i],c.isObject(t))for(o=0,r=(a=Object.keys(t)).length;o<r;++o)Xn(a[o],e,t,n);return e},mergeIf:function(e,t){return c.merge(e,t,{merger:c._mergerIf})},extend:Object.assign||function(e){return c.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t,n=this,i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return n.apply(this,arguments)};return(t=function t(){this.constructor=i}).prototype=n.prototype,i.prototype=new t,i.extend=c.inherits,e&&c.extend(i.prototype,e),i.__super__=n.prototype,i},_deprecated:function(e,t,n,i){t!==undefined&&console.warn(e+': "'+n+'" is deprecated. Please use "'+i+'" instead')}};function O(e){return R.apply(this,arguments)}var H=c,N=(c.callCallback=c.callback,c.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},c.getValueOrDefault=c.valueOrDefault,c.getValueAtIndexOrDefault=c.valueAtIndexOrDefault,{linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return 1<=e?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t,n=0;return 0===e?0:1===e?1:(t=(n=n||.3)/(2*Math.PI)*Math.asin(1),-(+Math.pow(2,10*--e)*Math.sin((e-t)*(2*Math.PI)/n)))},easeOutElastic:function(e){var t,n=0;return 0===e?0:1===e?1:(t=(n=n||.3)/(2*Math.PI)*Math.asin(1),+Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t,n=0;return 0===e?0:2==(e/=.5)?1:(t=(n=n||.45)/(2*Math.PI)*Math.asin(1),e<1?+Math.pow(2,10*--e)*Math.sin((e-t)*(2*Math.PI)/n)*-.5:+Math.pow(2,-10*--e)*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){return e*e*(2.70158*e-1.70158)},easeOutBack:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-N.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*N.easeInBounce(2*e):.5*N.easeOutBounce(2*e-1)+.5}}),z={effects:N},W=(H.easingEffects=N,Math.PI),B=W/180,V=2*W,j=W/2,X=W/4,U=2*W/3,G={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,i,a,c){var r,o,s,l,d;c?(o=t+(r=Math.min(c,a/2,i/2)),l=t+i-r,d=n+a-r,e.moveTo(t,s=n+r),o<l&&s<d?(e.arc(o,s,r,-W,-j),e.arc(l,s,r,-j,0),e.arc(l,d,r,0,j),e.arc(o,d,r,j,W)):o<l?(e.moveTo(o,n),e.arc(l,s,r,-j,j),e.arc(o,s,r,j,W+j)):s<d?(e.arc(o,s,r,-W,0),e.arc(o,d,r,0,W)):e.arc(o,s,r,-W,W),e.closePath(),e.moveTo(t,n)):e.rect(t,n,i,a)},drawPoint:function(e,t,n,i,a,c){var u,r,o,s,l,d=(c||0)*B;if(t&&"object"===Kn(t)&&("[object HTMLImageElement]"===(u=t.toString())||"[object HTMLCanvasElement]"===u))return e.save(),e.translate(i,a),e.rotate(d),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(i,a,n,0,V),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(d)*n,a-Math.cos(d)*n),d+=U,e.lineTo(i+Math.sin(d)*n,a-Math.cos(d)*n),d+=U,e.lineTo(i+Math.sin(d)*n,a-Math.cos(d)*n),e.closePath();break;case"rectRounded":s=n-(l=.516*n),r=Math.cos(d+X)*s,o=Math.sin(d+X)*s,e.arc(i-r,a-o,l,d-W,d-j),e.arc(i+o,a-r,l,d-j,d),e.arc(i+r,a+o,l,d,d+j),e.arc(i-o,a+r,l,d+j,d+W),e.closePath();break;case"rect":if(!c){s=Math.SQRT1_2*n,e.rect(i-s,a-s,2*s,2*s);break}d+=X;case"rectRot":r=Math.cos(d)*n,o=Math.sin(d)*n,e.moveTo(i-r,a-o),e.lineTo(i+o,a-r),e.lineTo(i+r,a+o),e.lineTo(i-o,a+r),e.closePath();break;case"crossRot":d+=X;case"cross":r=Math.cos(d)*n,o=Math.sin(d)*n,e.moveTo(i-r,a-o),e.lineTo(i+r,a+o),e.moveTo(i+o,a-r),e.lineTo(i-o,a+r);break;case"star":r=Math.cos(d)*n,o=Math.sin(d)*n,e.moveTo(i-r,a-o),e.lineTo(i+r,a+o),e.moveTo(i+o,a-r),e.lineTo(i-o,a+r),d+=X,r=Math.cos(d)*n,o=Math.sin(d)*n,e.moveTo(i-r,a-o),e.lineTo(i+r,a+o),e.moveTo(i+o,a-r),e.lineTo(i-o,a+r);break;case"line":r=Math.cos(d)*n,o=Math.sin(d)*n,e.moveTo(i-r,a-o),e.lineTo(i+r,a+o);break;case"dash":e.moveTo(i,a),e.lineTo(i+Math.cos(d)*n,a+Math.sin(d)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){return e.x>t.left-1e-6&&e.x<t.right+1e-6&&e.y>t.top-1e-6&&e.y<t.bottom+1e-6},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,i){var a,r=n.steppedLine;if(r)return"middle"===r?(a=(t.x+n.x)/2,e.lineTo(a,(i?n:t).y),e.lineTo(a,(i?t:n).y)):"after"===r&&!i||"after"!==r&&i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y),void e.lineTo(n.x,n.y);n.tension?e.bezierCurveTo(i?t.controlPointPreviousX:t.controlPointNextX,i?t.controlPointPreviousY:t.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},K=G,$=(H.clear=G.clear,H.drawRoundedRectangle=function(e){e.beginPath(),G.roundedRect.apply(G,arguments)},{_set:function(e,t){return H.merge(this[e]||(this[e]={}),t)}}),T=($._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0}),$),J=H.valueOrDefault;var $={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,i,a;return H.isObject(e)?(t=+e.top||0,n=+e.right||0,i=+e.bottom||0,a=+e.left||0):t=n=i=a=+e||0,{top:t,right:n,bottom:i,left:a,height:t+i,width:a+n}},_parseFont:function(e){var t=T.global,n=J(e.fontSize,t.defaultFontSize),n={family:J(e.fontFamily,t.defaultFontFamily),lineHeight:H.options.toLineHeight(J(e.lineHeight,t.defaultLineHeight),n),size:n,style:J(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return n.string=!(e=n)||H.isNullOrUndef(e.size)||H.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family,n},resolve:function ie(e,t,n,i){for(var a,r=!0,o=0,s=e.length;o<s;++o)if((a=e[o])!==undefined&&(t!==undefined&&"function"==typeof a&&(a=a(t),r=!1),n!==undefined&&H.isArray(a)&&(a=a[n],r=!1),a!==undefined))return i&&!r&&(i.cacheable=!1),a}},e={_factorize:function(e){for(var t=[],n=Math.sqrt(e),i=1;i<n;i++)e%i==0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort(function(e,t){return e-t}).pop(),t},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},t=e,Z=(H.log10=e.log10,function Z(t,n){return{x:function(e){return t+t+n-e},setWidth:function(e){n=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}),Q=function Q(){return{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},Y=H,e=K,K=$,$=t,t={getRtlAdapter:function(e,t,n){return e?Z(t,n):Q()},overrideTextDirection:function(e,t){var n,i;"ltr"!==t&&"rtl"!==t||(i=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)},restoreTextDirection:function(e){var t=e.prevTextDirection;t!==undefined&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};Y.easing=z,Y.canvas=e,Y.options=K,Y.math=$,Y.rtl=t;var ee=function ee(e){Y.extend(this,e),this.initialize.apply(this,arguments)},z=(Y.extend(ee.prototype,{_type:undefined,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=Y.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,c=t._start,u=t._view;if(!n||1===e)return t._view=Y.extend({},n),t._start=null,t;for(var i,a,r,o,h,u=u||(t._view={}),s=c=c||(t._start={}),l=u,f=n,g=e,p=Object.keys(f),d=0,m=p.length;d<m;++d)if(r=f[i=p[d]],l.hasOwnProperty(i)||(l[i]=r),(a=l[i])!==r&&"_"!==i[0]){if(s.hasOwnProperty(i)||(s[i]=a),a=s[i],(o=Kn(r))===Kn(a))if("string"===o){if((o=q(a)).valid&&(h=q(r)).valid){l[i]=h.mix(o,g).rgbString();continue}}else if(Y.isFinite(a)&&Y.isFinite(r)){l[i]=a+(r-a)*g;continue}l[i]=r}return t},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return Y.isNumber(this._model.x)&&Y.isNumber(this._model.y)}}),ee.extend=Y.inherits,ee),e=z.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),te=e,ne=(Object.defineProperty(e.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(e.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),T._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:Y.noop,onComplete:Y.noop}}),{animations:[],request:null,addAnimation:function(e,t,n,i){var a,r,o=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,i||(e.animating=!0),a=0,r=o.length;a<r;++a)if(o[a].chart===e)return void(o[a]=t);o.push(t),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=Y.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=Y.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){this.advance(),0<this.animations.length&&this.requestAnimationFrame()},advance:function(){for(var e,t,n,i,a=this.animations,r=0;r<a.length;)t=(e=a[r]).chart,n=e.numSteps,i=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(i,n),Y.callback(e.render,[t,e],t),Y.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(Y.callback(e.onAnimationComplete,[e],t),t.animating=!1,a.splice(r,1)):++r}}),ie=Y.options.resolve,ae=["push","pop","shift","splice","unshift"];function re(t,e){var n,i=t._chartjs;i&&(-1!==(n=(i=i.listeners).indexOf(e))&&i.splice(n,1),0<i.length||(ae.forEach(function(e){delete t[e]}),delete t._chartjs))}var oe=function oe(e,t){this.initialize(e,t)},se=(Y.extend(oe.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.chart,n=t.scales,i=this.getDataset(),t=t.options.scales;null!==e.xAxisID&&e.xAxisID in n&&!i.xAxisID||(e.xAxisID=i.xAxisID||t.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in n&&!i.yAxisID||(e.yAxisID=i.yAxisID||t.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&re(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){for(var e=this.getMeta(),t=this.getDataset().data||[],n=e.data,i=0,a=t.length;i<a;++i)n[i]=n[i]||this.createMetaData(i);e.dataset=e.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var a,e,t=this,n=t.getDataset(),n=n.data||(n.data=[]);t._data!==n&&(t._data&&re(t._data,t),n&&Object.isExtensible(n)&&(e=t,(a=n)._chartjs?a._chartjs.listeners.push(e):(Object.defineProperty(a,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ae.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),i=a[e];Object.defineProperty(a,e,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),e=i.apply(this,t);return Y.each(a._chartjs.listeners,function(e){"function"==typeof e[n]&&e[n].apply(e,t)}),e}})}))),t._data=n),t.resyncElements()},_configure:function(){this._config=Y.merge(Object.create(null),[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(e,t,n){"_meta"!==e&&"data"!==e&&Y._merger(e,t,n)}})},_update:function(e){this._configure(),this._cachedDataOpts=null,this.update(e)},update:Y.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],i=n.length,a=0;a<i;++a)n[a].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,i=0;for(e.dataset&&e.dataset.draw();i<n;++i)t[i].draw()},getStyle:function(e){var t=this.getMeta(),n=t.dataset;return this._configure(),!1!==(n=n&&e===undefined?this._resolveDatasetElementOptions(n||{}):this._resolveDataElementOptions(t.data[e=e||0]||{},e)).fill&&null!==n.fill||(n.backgroundColor=n.borderColor),n},_resolveDatasetElementOptions:function(e,t){for(var n,i,a=this,r=a.chart,o=a._config,c=e.custom||{},u=r.options.elements[a.datasetElementType.prototype._type]||{},s=a._datasetElementOptions,l={},h={chart:r,dataset:a.getDataset(),datasetIndex:a.index,hover:t},d=0,f=s.length;d<f;++d)n=s[d],i=t?"hover"+n.charAt(0).toUpperCase()+n.slice(1):n,l[n]=ie([c[i],o[i],u[i]],h);return l},_resolveDataElementOptions:function(c,e){var t=this,n=c&&c.custom,i=t._cachedDataOpts;if(i&&!n)return i;var u,a,r,o,i=t.chart,s=t._config,h=i.options.elements[t.dataElementType.prototype._type]||{},l=t._dataElementOptions,d={},f={chart:i,dataIndex:e,dataset:t.getDataset(),datasetIndex:t.index},g={cacheable:!n},n=n||{};if(Y.isArray(l))for(a=0,r=l.length;a<r;++a)d[o=l[a]]=ie([n[o],s[o],h[o]],f,e,g);else for(a=0,r=(u=Object.keys(l)).length;a<r;++a)d[o=u[a]]=ie([n[o],s[l[o]],s[o],h[o]],f,e,g);return g.cacheable&&(t._cachedDataOpts=Object.freeze(d)),d},removeHoverStyle:function(e){Y.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},a=e._model,r=Y.getHoverColor;e.$previousStyle={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:a.borderWidth},a.backgroundColor=ie([i.hoverBackgroundColor,t.hoverBackgroundColor,r(a.backgroundColor)],undefined,n),a.borderColor=ie([i.hoverBorderColor,t.hoverBorderColor,r(a.borderColor)],undefined,n),a.borderWidth=ie([i.hoverBorderWidth,t.hoverBorderWidth,a.borderWidth],undefined,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e,t,n,i,a,r,o=this.getMeta().dataset,s={};if(o){for(r=o._model,a=this._resolveDatasetElementOptions(o,!0),e=0,t=(i=Object.keys(a)).length;e<t;++e)s[n=i[e]]=r[n],r[n]=a[n];o.$previousStyle=s}},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,n=e.data.length,t=t.length;t<n?e.data.splice(t,n-t):n<t&&this.insertElements(n,t-n)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),oe.extend=Y.inherits,oe),le=2*Math.PI;function de(e,t){var n=t.startAngle,i=t.endAngle,a=t.pixelMargin,r=a/t.outerRadius,o=t.x,s=t.y;e.beginPath(),e.arc(o,s,t.outerRadius,n-r,i+r),t.innerRadius>a?(r=a/t.innerRadius,e.arc(o,s,t.innerRadius-a,i+r,n-r,!0)):e.arc(o,s,a,i+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}function ce(e,t,n){var i="inner"===t.borderAlign;if(i?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles){var a,r=e,o=t,s=n,l=i,d=s.endAngle;for(l&&(s.endAngle=s.startAngle+le,de(r,s),s.endAngle=d,s.endAngle===s.startAngle&&s.fullCircles&&(s.endAngle+=le,s.fullCircles--)),r.beginPath(),r.arc(s.x,s.y,s.innerRadius,s.startAngle+le,s.startAngle,!0),a=0;a<s.fullCircles;++a)r.stroke();for(r.beginPath(),r.arc(s.x,s.y,o.outerRadius,s.startAngle,s.startAngle+le),a=0;a<s.fullCircles;++a)r.stroke()}i&&de(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}T._set("global",{elements:{arc:{backgroundColor:T.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var K=z.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var i=Y.getAngleFromPoint(n,{x:e,y:t}),a=i.angle,i=i.distance,r=n.startAngle,o=n.endAngle;o<r;)o+=le;for(;o<a;)a-=le;for(;a<r;)a+=le;i=i>=n.innerRadius&&i<=n.outerRadius;return r<=a&&a<=o&&i}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,i="inner"===n.borderAlign?.33:0,a={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/le)};if(t.save(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,a.fullCircles){for(a.endAngle=a.startAngle+le,t.beginPath(),t.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),t.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),t.closePath(),e=0;e<a.fullCircles;++e)t.fill();a.endAngle=a.startAngle+n.circumference%le}t.beginPath(),t.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),t.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),t.closePath(),t.fill(),n.borderWidth&&ce(t,n,a),t.restore()}}),ue=Y.valueOrDefault,$=T.global.defaultColor,t=(T._set("global",{elements:{line:{tension:.4,backgroundColor:$,borderWidth:3,borderColor:$,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),z.extend({_type:"line",draw:function(){var e,t,n,i=this,a=i._view,r=i._chart.ctx,c=a.spanGaps,o=i._children.slice(),u=T.global,s=u.elements.line,l=-1,d=i._loop;if(o.length){if(i._loop){for(e=0;e<o.length;++e)if(t=Y.previousItem(o,e),!o[e]._view.skip&&t._view.skip){o=o.slice(e).concat(o.slice(0,e)),d=c;break}d&&o.push(o[0])}for(r.save(),r.lineCap=a.borderCapStyle||s.borderCapStyle,r.setLineDash&&r.setLineDash(a.borderDash||s.borderDash),r.lineDashOffset=ue(a.borderDashOffset,s.borderDashOffset),r.lineJoin=a.borderJoinStyle||s.borderJoinStyle,r.lineWidth=ue(a.borderWidth,s.borderWidth),r.strokeStyle=a.borderColor||u.defaultColor,r.beginPath(),(n=o[0]._view).skip||(r.moveTo(n.x,n.y),l=0),e=1;e<o.length;++e)n=o[e]._view,t=-1===l?Y.previousItem(o,e):o[l],n.skip||(l!==e-1&&!c||-1===l?r.moveTo(n.x,n.y):Y.canvas.lineTo(r,t._view,n),l=e);d&&r.closePath(),r.stroke(),r.restore()}}})),he=Y.valueOrDefault,e=T.global.defaultColor;function fe(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}T._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:e,borderColor:e,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});$=z.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:fe,inXRange:fe,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,i=t.pointStyle,a=t.rotation,r=t.radius,o=t.x,s=t.y,l=T.global,d=l.defaultColor;t.skip||e!==undefined&&!Y.canvas._isPointInArea(t,e)||(n.strokeStyle=t.borderColor||d,n.lineWidth=he(t.borderWidth,l.elements.point.borderWidth),n.fillStyle=t.backgroundColor||d,Y.canvas.drawPoint(n,i,r,o,s,a))}}),e=T.global.defaultColor;function ge(e){return e&&e.width!==undefined}function pe(e){var t,n,i,a=ge(e)?(a=e.width/2,t=e.x-a,n=e.x+a,i=Math.min(e.y,e.base),Math.max(e.y,e.base)):(a=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),i=e.y-a,e.y+a);return{left:t,top:i,right:n,bottom:a}}function me(e,t,n){return e===t?n:e===n?t:e}function ve(e,t,n){var i,a,r,o,s,l=e.borderWidth,d=(d=(e=e).borderSkipped,i={},d&&(e.horizontal?e.base>e.x&&(d=me(d,"left","right")):e.base<e.y&&(d=me(d,"bottom","top")),i[d]=!0),i);return Y.isObject(l)?(a=+l.top||0,r=+l.right||0,o=+l.bottom||0,s=+l.left||0):a=r=o=s=+l||0,{t:d.top||a<0?0:n<a?n:a,r:d.right||r<0?0:t<r?t:r,b:d.bottom||o<0?0:n<o?n:o,l:d.left||s<0?0:t<s?t:s}}function be(e,t,n){var i=null===t,a=null===n,r=!(!e||i&&a)&&pe(e);return r&&(i||t>=r.left&&t<=r.right)&&(a||n>=r.top&&n<=r.bottom)}T._set("global",{elements:{rectangle:{backgroundColor:e,borderColor:e,borderSkipped:"bottom",borderWidth:0}}});var e=z.extend({_type:"rectangle",draw:function(){var e,t,n=this._chart.ctx,i=this._view,a=(a=pe(e=i),r=a.right-a.left,o=a.bottom-a.top,t=ve(e,r/2,o/2),{outer:{x:a.left,y:a.top,w:r,h:o},inner:{x:a.left+t.l,y:a.top+t.t,w:r-t.l-t.r,h:o-t.t-t.b}}),r=a.outer,o=a.inner;n.fillStyle=i.backgroundColor,n.fillRect(r.x,r.y,r.w,r.h),r.w===o.w&&r.h===o.h||(n.save(),n.beginPath(),n.rect(r.x,r.y,r.w,r.h),n.clip(),n.fillStyle=i.borderColor,n.rect(o.x,o.y,o.w,o.h),n.fill("evenodd"),n.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return be(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return ge(n)?be(n,e,null):be(n,null,t)},inXRange:function(e){return be(this._view,e,null)},inYRange:function(e){return be(this._view,null,e)},getCenterPoint:function(){var e,t=this._view,t=ge(t)?(e=t.x,(t.y+t.base)/2):(e=(t.x+t.base)/2,t.y);return{x:e,y:t}},getArea:function(){var e=this._view;return ge(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),ye={},xe=(ye.Arc=K,ye.Line=t,ye.Point=$,ye.Rectangle=e,Y._deprecated),we=Y.valueOrDefault;function Me(e,t,n){var i,a=n.barThickness,r=t.stackCount,o=t.pixels[e],s=Y.isNullOrUndef(a)?function(e,t){for(var n,i,a=e._length,r=1,o=t.length;r<o;++r)a=Math.min(a,Math.abs(t[r]-t[r-1]));for(r=0,o=e.getTicks().length;r<o;++r)i=e.getPixelForTick(r),a=0<r?Math.min(a,Math.abs(i-n)):a,n=i;return a}(t.scale,t.pixels):-1,s=Y.isNullOrUndef(a)?(i=s*n.categoryPercentage,n.barPercentage):(i=a*r,1);return{chunk:i/r,ratio:s,start:o-i/2}}T._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),T._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var K=se.extend({dataElementType:ye.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e,t=this;se.prototype.initialize.apply(t,arguments),(e=t.getMeta()).stack=t.getDataset().stack,e.bar=!0,e=t._getIndexScale().options,xe("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),xe("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),xe("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),xe("bar chart",t._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),xe("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,n=i.length;t<n;++t)this.updateElement(i[t],t,e)},updateElement:function(e,t,n){var i=this,a=i.getMeta(),r=i.getDataset(),o=i._resolveDataElementOptions(e,t);e._xScale=i.getScaleForId(a.xAxisID),e._yScale=i.getScaleForId(a.yAxisID),e._datasetIndex=i.index,e._index=t,e._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:r.label,label:i.chart.data.labels[t]},Y.isArray(r.data[t])&&(e._model.borderSkipped=null),i._updateElementGeometry(e,t,n,o),e.pivot()},_updateElementGeometry:function(e,t,n,i){var a=this,r=e._model,o=a._getValueScale(),s=o.getBasePixel(),o=o.isHorizontal(),l=a._ruler||a.getRuler(),d=a.calculateBarValuePixels(a.index,t,i),l=a.calculateBarIndexPixels(a.index,t,l,i);r.horizontal=o,r.base=n?s:d.base,r.x=o?n?s:d.head:l.center,r.y=o?l.center:n?s:d.head,r.height=o?l.size:undefined,r.width=o?undefined:l.size},_getStacks:function(e){for(var t,n=this._getIndexScale(),i=n._getMatchingVisibleMetas(this._type),a=n.options.stacked,r=i.length,o=[],s=0;s<r&&(t=i[s],(!1===a||-1===o.indexOf(t.stack)||a===undefined&&t.stack===undefined)&&o.push(t.stack),t.index!==e);++s);return o},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),i=t!==undefined?n.indexOf(t):-1;return-1===i?n.length-1:i},getRuler:function(){for(var e=this._getIndexScale(),t=[],n=0,i=this.getMeta().data.length;n<i;++n)t.push(e.getPixelForValue(null,n,this.index));return{pixels:t,start:e._startPixel,end:e._endPixel,stackCount:this.getStackCount(),scale:e}},calculateBarValuePixels:function(c,u,h){var e,t,n,i,a,r=this.chart,o=this._getValueScale(),f=o.isHorizontal(),g=r.data.datasets,p=o._getMatchingVisibleMetas(this._type),s=o._parseValue(g[c].data[u]),r=h.minBarLength,l=o.options.stacked,m=this.getMeta().stack,d=s.start===undefined?0:0<=s.max&&0<=s.min?s.min:s.max,v=s.start===undefined?s.end:0<=s.max&&0<=s.min?s.max-s.min:s.min-s.max,b=p.length;if(l||l===undefined&&m!==undefined)for(e=0;e<b&&(t=p[e]).index!==c;++e)t.stack===m&&(a=(a=o._parseValue(g[t.index].data[u])).start===undefined?a.end:0<=a.min&&0<=a.max?a.max:a.min,(s.min<0&&a<0||0<=s.max&&0<a)&&(d+=a));return l=o.getPixelForValue(d),i=(n=o.getPixelForValue(d+v))-l,r!==undefined&&Math.abs(i)<r&&(i=r,n=0<=v&&!f||v<0&&f?l-r:l+r),{size:i,base:l,head:n,center:n+i/2}},calculateBarIndexPixels:function(c,e,t,n){var i,a,r,o="flex"===n.barThickness?(i=e,r=n,d=(o=(a=t).pixels)[i],s=0<i?o[i-1]:null,o=i<o.length-1?o[i+1]:null,l=r.categoryPercentage,null===s&&(s=d-(null===o?a.end-a.start:o-d)),null===o&&(o=d+d-s),d=d-(d-Math.min(s,o))/2*l,{chunk:Math.abs(o-s)/2*l/a.stackCount,ratio:r.barPercentage,start:d}):Me(e,t,n),s=this.getStackIndex(c,this.getMeta().stack),l=o.start+o.chunk*s+o.chunk/2,d=Math.min(we(n.maxBarThickness,Infinity),o.chunk*o.ratio);return{base:l-d/2,head:l+d/2,center:l,size:d}},draw:function(){var e=this.chart,t=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),a=n.length,r=0;for(Y.canvas.clipArea(e.ctx,e.chartArea);r<a;++r){var o=t._parseValue(i.data[r]);isNaN(o.min)||isNaN(o.max)||n[r].draw()}Y.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var e=Y.extend({},se.prototype._resolveDataElementOptions.apply(this,arguments)),t=this._getIndexScale().options,n=this._getValueScale().options;return e.barPercentage=we(t.barPercentage,e.barPercentage),e.barThickness=we(t.barThickness,e.barThickness),e.categoryPercentage=we(t.categoryPercentage,e.categoryPercentage),e.maxBarThickness=we(t.maxBarThickness,e.maxBarThickness),e.minBarLength=we(n.minBarLength,e.minBarLength),e}}),_e=Y.valueOrDefault,Se=Y.options.resolve,t=(T._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function jn(){return""},label:function Un(e,t){var n=t.datasets[e.datasetIndex].label||"",i=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+i.r+")"}}}}),se.extend({dataElementType:ye.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(n){var i=this,e=i.getMeta().data;Y.each(e,function(e,t){i.updateElement(e,t,n)})},updateElement:function(e,t,n){var i=this,a=i.getMeta(),r=e.custom||{},o=i.getScaleForId(a.xAxisID),a=i.getScaleForId(a.yAxisID),s=i._resolveDataElementOptions(e,t),l=i.getDataset().data[t],i=i.index,d=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"===Kn(l)?l:NaN,t,i),l=n?a.getBasePixel():a.getPixelForValue(l,t,i);e._xScale=o,e._yScale=a,e._options=s,e._datasetIndex=i,e._index=t,e._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,rotation:s.rotation,radius:n?0:s.radius,skip:r.skip||isNaN(d)||isNaN(l),x:d,y:l},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,i=Y.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=_e(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=_e(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=_e(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,i=n.chart,a=n.getDataset(),r=e.custom||{},o=a.data[t]||{},s=se.prototype._resolveDataElementOptions.apply(n,arguments),a={chart:i,dataIndex:t,dataset:a,datasetIndex:n.index};return(s=n._cachedDataOpts===s?Y.extend({},s):s).radius=Se([r.radius,o.r,n._config.radius,i.options.elements.point.radius],a,t),s}})),ke=Y.valueOrDefault,Le=Math.PI,Ae=2*Le,Ce=Le/2,$=(T._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t,n,i,a=document.createElement("ul"),r=e.data,o=r.datasets,s=r.labels;if(a.setAttribute("class",e.id+"-legend"),o.length)for(n=o[t=0].data.length;t<n;++t)(i=a.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],s[t]&&i.appendChild(document.createTextNode(s[t]));return a.outerHTML},legend:{labels:{generateLabels:function(a){var r=a.data;return r.labels.length&&r.datasets.length?r.labels.map(function(e,t){var n=a.getDatasetMeta(0),i=n.controller.getStyle(t);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,hidden:isNaN(r.datasets[0].data[t])||n.data[t].hidden,index:t}}):[]}},onClick:function(e,t){for(var n,i=t.index,a=this.chart,r=0,o=(a.data.datasets||[]).length;r<o;++r)(n=a.getDatasetMeta(r)).data[i]&&(n.data[i].hidden=!n.data[i].hidden);a.update()}},cutoutPercentage:50,rotation:-Ce,circumference:Ae,tooltips:{callbacks:{title:function jn(){return""},label:function Un(e,t){var n=t.labels[e.index],i=": "+t.datasets[e.datasetIndex].data[e.index];return Y.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}}),se.extend({dataElementType:ye.Arc,linkScales:Y.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(c){var e,u,t,n,i,a,h,f,g,r=this,o=r.chart,p=o.chartArea,s=o.options,m=1,v=1,b=0,y=0,x=r.getMeta(),w=x.data,l=s.cutoutPercentage/100||0,d=s.circumference,M=r._getRingWeight(r.index);for(d<Ae&&(s=s.rotation%Ae,d=(s+=Le<=s?-Ae:s<-Le?Ae:0)+d,t=Math.cos(s),n=Math.sin(s),i=Math.cos(d),a=Math.sin(d),g=s<=0&&0<=d||Ae<=d,h=s<=Ce&&Ce<=d||Ae+Ce<=d,f=s<=-Ce&&-Ce<=d||Le+Ce<=d,s=s===-Le||Le<=d?-1:Math.min(t,t*l,i,i*l),d=f?-1:Math.min(n,n*l,a,a*l),m=((f=g?1:Math.max(t,t*l,i,i*l))-s)/2,v=((g=h?1:Math.max(n,n*l,a,a*l))-d)/2,b=-(f+s)/2,y=-(g+d)/2),e=0,u=w.length;e<u;++e)w[e]._options=r._resolveDataElementOptions(w[e],e);for(o.borderWidth=r.getMaxBorderWidth(),t=(p.right-p.left-o.borderWidth)/m,i=(p.bottom-p.top-o.borderWidth)/v,o.outerRadius=Math.max(Math.min(t,i)/2,0),o.innerRadius=Math.max(o.outerRadius*l,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(r._getVisibleDatasetWeightTotal()||1),o.offsetX=b*o.outerRadius,o.offsetY=y*o.outerRadius,x.total=r.calculateTotal(),r.outerRadius=o.outerRadius-o.radiusLength*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-o.radiusLength*M,0),e=0,u=w.length;e<u;++e)r.updateElement(w[e],e,c)},updateElement:function(e,t,n){var i=this,a=i.chart,r=a.chartArea,o=a.options,s=o.animation,c=(r.left+r.right)/2,r=(r.top+r.bottom)/2,u=o.rotation,h=o.rotation,l=i.getDataset(),f=n&&s.animateRotate||e.hidden?0:i.calculateCircumference(l.data[t])*(o.circumference/Ae),g=n&&s.animateScale?0:i.innerRadius,p=n&&s.animateScale?0:i.outerRadius,d=e._options||{},d=(Y.extend(e,{_datasetIndex:i.index,_index:t,_model:{backgroundColor:d.backgroundColor,borderColor:d.borderColor,borderWidth:d.borderWidth,borderAlign:d.borderAlign,x:c+a.offsetX,y:r+a.offsetY,startAngle:u,endAngle:h,circumference:f,outerRadius:p,innerRadius:g,label:Y.valueAtIndexOrDefault(l.label,t,a.data.labels[t])}}),e._model);n&&s.animateRotate||(d.startAngle=0===t?o.rotation:i.getMeta().data[t-1]._model.endAngle,d.endAngle=d.startAngle+d.circumference),e.pivot()},calculateTotal:function(){var n,i=this.getDataset(),e=this.getMeta(),a=0;return Y.each(e.data,function(e,t){n=i.data[t],isNaN(n)||e.hidden||(a+=Math.abs(n))}),a},calculateCircumference:function(e){var t=this.getMeta().total;return 0<t&&!isNaN(e)?Ae*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,i,a,r,o,s=0,l=this.chart;if(!e)for(t=0,n=l.data.datasets.length;t<n;++t)if(l.isDatasetVisible(t)){e=(i=l.getDatasetMeta(t)).data,t!==this.index&&(a=i.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)r=e[t],"inner"!==(r=a?(a._configure(),a._resolveDataElementOptions(r,t)):r._options).borderAlign&&(s=(s=s<(o=r.borderWidth)?o:s)<(o=r.hoverBorderWidth)?o:s);return s},setHoverStyle:function(e){var t=e._model,n=e._options,i=Y.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=ke(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=ke(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=ke(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(ke(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}})),e=(T._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),T._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}}),K.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}})),Te=Y.valueOrDefault,Ee=Y.options.resolve,De=Y.canvas._isPointInArea;function Pe(e,t){var n=e&&e.options.ticks||{},i=n.reverse,a=n.min===undefined?t:0,n=n.max===undefined?t:0;return{start:i?n:a,end:i?a:n}}T._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var qe=se.extend({datasetElementType:ye.Line,dataElementType:ye.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t,n,i=this,a=i.getMeta(),r=a.dataset,o=a.data||[],s=i.chart.options,l=i._config,s=i._showLine=Te(l.showLine,s.showLines);for(i._xScale=i.getScaleForId(a.xAxisID),i._yScale=i.getScaleForId(a.yAxisID),s&&(l.tension!==undefined&&l.lineTension===undefined&&(l.lineTension=l.tension),r._scale=i._yScale,r._datasetIndex=i.index,r._children=o,r._model=i._resolveDatasetElementOptions(r),r.pivot()),t=0,n=o.length;t<n;++t)i.updateElement(o[t],t,e);for(s&&0!==r._model.tension&&i.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,c){var n=this,i=n.getMeta(),a=e.custom||{},r=n.getDataset(),o=n.index,r=r.data[t],s=n._xScale,l=n._yScale,i=i.dataset._model,d=n._resolveDataElementOptions(e,t),u=s.getPixelForValue("object"===Kn(r)?r:NaN,t,o),r=c?l.getBasePixel():n.calculatePointY(r,t,o);e._xScale=s,e._yScale=l,e._options=d,e._datasetIndex=o,e._index=t,e._model={x:u,y:r,skip:a.skip||isNaN(u)||isNaN(r),radius:d.radius,pointStyle:d.pointStyle,rotation:d.rotation,backgroundColor:d.backgroundColor,borderColor:d.borderColor,borderWidth:d.borderWidth,tension:Te(a.tension,i?i.tension:0),steppedLine:!!i&&i.steppedLine,hitRadius:d.hitRadius}},_resolveDatasetElementOptions:function(e){var t,n,i,a,c,u,r=this,o=r._config,s=e.custom||{},l=r.chart.options,h=l.elements.line,d=se.prototype._resolveDatasetElementOptions.apply(r,arguments);return d.spanGaps=Te(o.spanGaps,l.spanGaps),d.tension=Te(o.lineTension,h.tension),d.steppedLine=Ee([s.steppedLine,o.steppedLine,h.stepped]),d.clip=(e=Te(o.clip,(e=r._xScale,c=r._yScale,u=d.borderWidth,s=Pe(e,l=u/2),{top:(l=Pe(c,l)).end,right:s.end,bottom:l.start,left:s.start})),Y.isObject(e)?(t=e.top,n=e.right,i=e.bottom,a=e.left):t=n=i=a=e,{top:t,right:n,bottom:i,left:a}),d},calculatePointY:function(e,c,u){var t,n,i,a,r,o,s=this.chart,l=this._yScale,d=0,h=0;if(l.options.stacked){for(a=+l.getRightValue(e),o=(r=s._getSortedVisibleDatasetMetas()).length,t=0;t<o&&(n=r[t]).index!==u;++t)i=s.data.datasets[n.index],"line"===n.type&&n.yAxisID===l.id&&((i=+l.getRightValue(i.data[c]))<0?h+=i||0:d+=i||0);return a<0?l.getPixelForValue(h+a):l.getPixelForValue(d+a)}return l.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,i,a=this.chart,r=this.getMeta(),o=r.dataset._model,s=a.chartArea,l=r.data||[];function d(e,t,n){return Math.max(Math.min(e,n),t)}if(o.spanGaps&&(l=l.filter(function(e){return!e._model.skip})),"monotone"===o.cubicInterpolationMode)Y.splineCurveMonotone(l);else for(e=0,t=l.length;e<t;++e)n=l[e]._model,i=Y.splineCurve(Y.previousItem(l,e)._model,n,Y.nextItem(l,e)._model,o.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(a.options.elements.line.capBezierPoints)for(e=0,t=l.length;e<t;++e)n=l[e]._model,De(n,s)&&(0<e&&De(l[e-1]._model,s)&&(n.controlPointPreviousX=d(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=d(n.controlPointPreviousY,s.top,s.bottom)),e<l.length-1&&De(l[e+1]._model,s)&&(n.controlPointNextX=d(n.controlPointNextX,s.left,s.right),n.controlPointNextY=d(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var e,t=this.chart,n=this.getMeta(),i=n.data||[],a=t.chartArea,r=t.canvas,o=0,s=i.length;for(this._showLine&&(e=n.dataset._model.clip,Y.canvas.clipArea(t.ctx,{left:!1===e.left?0:a.left-e.left,right:!1===e.right?r.width:a.right+e.right,top:!1===e.top?0:a.top-e.top,bottom:!1===e.bottom?r.height:a.bottom+e.bottom}),n.dataset.draw(),Y.canvas.unclipArea(t.ctx));o<s;++o)i[o].draw(a)},setHoverStyle:function(e){var t=e._model,n=e._options,i=Y.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Te(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Te(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Te(n.hoverBorderWidth,n.borderWidth),t.radius=Te(n.hoverRadius,n.radius)}}),Ie=Y.options.resolve,Re=(T._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t,n,i,a=document.createElement("ul"),r=e.data,o=r.datasets,s=r.labels;if(a.setAttribute("class",e.id+"-legend"),o.length)for(n=o[t=0].data.length;t<n;++t)(i=a.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],s[t]&&i.appendChild(document.createTextNode(s[t]));return a.outerHTML},legend:{labels:{generateLabels:function(a){var r=a.data;return r.labels.length&&r.datasets.length?r.labels.map(function(e,t){var n=a.getDatasetMeta(0),i=n.controller.getStyle(t);return{text:e,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,lineWidth:i.borderWidth,hidden:isNaN(r.datasets[0].data[t])||n.data[t].hidden,index:t}}):[]}},onClick:function(e,t){for(var n,i=t.index,a=this.chart,r=0,o=(a.data.datasets||[]).length;r<o;++r)(n=a.getDatasetMeta(r)).data[i].hidden=!n.data[i].hidden;a.update()}},tooltips:{callbacks:{title:function jn(){return""},label:function Un(e,t){return t.labels[e.index]+": "+e.yLabel}}}}),se.extend({dataElementType:ye.Arc,linkScales:Y.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,i,a=this,r=a.getDataset(),o=a.getMeta(),s=a.chart.options.startAngle||0,l=a._starts=[],c=a._angles=[],d=o.data;for(a._updateRadius(),o.count=a.countVisibleElements(),t=0,n=r.data.length;t<n;t++)l[t]=s,i=a._computeAngle(t),s+=c[t]=i;for(t=0,n=d.length;t<n;++t)d[t]._options=a._resolveDataElementOptions(d[t],t),a.updateElement(d[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,i=t.options,n=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(n/2,0),t.innerRadius=Math.max(i.cutoutPercentage?t.outerRadius/100*i.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var i=this,a=i.chart,r=i.getDataset(),o=a.options,s=o.animation,l=a.scale,a=a.data.labels,c=l.xCenter,u=l.yCenter,o=o.startAngle,h=e.hidden?0:l.getDistanceFromCenterForValue(r.data[t]),f=i._starts[t],g=f+(e.hidden?0:i._angles[t]),r=s.animateScale?0:l.getDistanceFromCenterForValue(r.data[t]),d=e._options||{};Y.extend(e,{_datasetIndex:i.index,_index:t,_scale:l,_model:{backgroundColor:d.backgroundColor,borderColor:d.borderColor,borderWidth:d.borderWidth,borderAlign:d.borderAlign,x:c,y:u,innerRadius:0,outerRadius:n?r:h,startAngle:n&&s.animateRotate?o:f,endAngle:n&&s.animateRotate?o:g,label:Y.valueAtIndexOrDefault(a,t,a[t])}}),e.pivot()},countVisibleElements:function(){var n=this.getDataset(),e=this.getMeta(),i=0;return Y.each(e.data,function(e,t){isNaN(n.data[t])||e.hidden||i++}),i},setHoverStyle:function(e){var t=e._model,n=e._options,i=Y.getHoverColor,a=Y.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=a(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=a(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=a(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,i=t.getDataset(),a=t.getMeta();if(isNaN(i.data[e])||a.data[e].hidden)return 0;a={chart:t.chart,dataIndex:e,dataset:i,datasetIndex:t.index};return Ie([t.chart.options.elements.arc.angle,2*Math.PI/n],a,e)}})),Fe=(T._set("pie",Y.clone(T.doughnut)),T._set("pie",{cutoutPercentage:0}),$),Oe=Y.valueOrDefault,He=(T._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}}),se.extend({datasetElementType:ye.Line,dataElementType:ye.Point,linkScales:Y.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,i=this,a=i.getMeta(),r=a.dataset,o=a.data||[],a=i.chart.scale,s=i._config;for(s.tension!==undefined&&s.lineTension===undefined&&(s.lineTension=s.tension),r._scale=a,r._datasetIndex=i.index,r._children=o,r._loop=!0,r._model=i._resolveDatasetElementOptions(r),r.pivot(),t=0,n=o.length;t<n;++t)i.updateElement(o[t],t,e);for(i.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var i=this,a=e.custom||{},r=i.getDataset(),o=i.chart.scale,r=o.getPointPositionForValue(t,r.data[t]),s=i._resolveDataElementOptions(e,t),l=i.getMeta().dataset._model,d=n?o.xCenter:r.x,r=n?o.yCenter:r.y;e._scale=o,e._options=s,e._datasetIndex=i.index,e._index=t,e._model={x:d,y:r,skip:a.skip||isNaN(d)||isNaN(r),radius:s.radius,pointStyle:s.pointStyle,rotation:s.rotation,backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,tension:Oe(a.tension,l?l.tension:0),hitRadius:s.hitRadius}},_resolveDatasetElementOptions:function(){var e=this._config,t=this.chart.options,n=se.prototype._resolveDatasetElementOptions.apply(this,arguments);return n.spanGaps=Oe(e.spanGaps,t.spanGaps),n.tension=Oe(e.lineTension,t.elements.line.tension),n},updateBezierControlPoints:function(){var e,t,n,i,a=this.getMeta(),r=this.chart.chartArea,o=a.data||[];function s(e,t,n){return Math.max(Math.min(e,n),t)}for(e=0,t=(o=a.dataset._model.spanGaps?o.filter(function(e){return!e._model.skip}):o).length;e<t;++e)n=o[e]._model,i=Y.splineCurve(Y.previousItem(o,e,!0)._model,n,Y.nextItem(o,e,!0)._model,n.tension),n.controlPointPreviousX=s(i.previous.x,r.left,r.right),n.controlPointPreviousY=s(i.previous.y,r.top,r.bottom),n.controlPointNextX=s(i.next.x,r.left,r.right),n.controlPointNextY=s(i.next.y,r.top,r.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,i=Y.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Oe(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Oe(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Oe(n.hoverBorderWidth,n.borderWidth),t.radius=Oe(n.hoverRadius,n.radius)}}));T._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function jn(){return""},label:function Un(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),T._set("global",{datasets:{scatter:{showLine:!1}}});var Ne={bar:K,bubble:t,doughnut:$,horizontalBar:e,line:qe,polarArea:Re,pie:Fe,radar:He,scatter:qe};function ze(e,t){return e["native"]?{x:e.x,y:e.y}:Y.getRelativePosition(e,t)}function We(e,t){for(var n,i,a,r,o=e._getSortedVisibleDatasetMetas(),s=0,l=o.length;s<l;++s)for(i=0,a=(n=o[s].data).length;i<a;++i)(r=n[i])._view.skip||t(r)}function Be(e,t){var n=[];return We(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function Ve(e,n,i,a){var r=Number.POSITIVE_INFINITY,o=[];return We(e,function(e){var t;i&&!e.inRange(n.x,n.y)||(t=e.getCenterPoint(),(t=a(n,t))<r?(o=[e],r=t):t===r&&o.push(e))}),o}function je(e){var a=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,t){var n=a?Math.abs(e.x-t.x):0,i=r?Math.abs(e.y-t.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(i,2))}}function Xe(e,t,n){var i=ze(t,e),a=(n.axis=n.axis||"x",je(n.axis)),r=n.intersect?Be(e,i):Ve(e,i,!1,a),o=[];return r.length?(e._getSortedVisibleDatasetMetas().forEach(function(e){var t=e.data[r[0]._index];t&&!t._view.skip&&o.push(t)}),o):[]}var Ue={modes:{single:function(e,t){var n=ze(t,e),i=[];return We(e,function(e){return e.inRange(n.x,n.y)&&(i.push(e),i)}),i.slice(0,1)},label:Xe,index:Xe,dataset:function(e,t,n){var i=ze(t,e),a=(n.axis=n.axis||"xy",je(n.axis)),i=n.intersect?Be(e,i):Ve(e,i,!1,a);return i=0<i.length?e.getDatasetMeta(i[0]._datasetIndex).data:i},"x-axis":function(e,t){return Xe(e,t,{intersect:!1})},point:function(e,t){return Be(e,ze(t,e))},nearest:function(e,t,n){var i=ze(t,e),a=(n.axis=n.axis||"xy",je(n.axis));return Ve(e,i,n.intersect,a)},x:function(e,t,n){var i=ze(t,e),a=[],r=!1;return We(e,function(e){e.inXRange(i.x)&&a.push(e),e.inRange(i.x,i.y)&&(r=!0)}),a=n.intersect&&!r?[]:a},y:function(e,t,n){var i=ze(t,e),a=[],r=!1;return We(e,function(e){e.inYRange(i.y)&&a.push(e),e.inRange(i.x,i.y)&&(r=!0)}),a=n.intersect&&!r?[]:a}}},Ye=Y.extend;function Ge(e,t){return Y.where(e,function(e){return e.pos===t})}function Ke(e,a){return e.sort(function(e,t){var n=a?t:e,i=a?e:t;return n.weight===i.weight?n.index-i.index:n.weight-i.weight})}function $e(e){var t=function(e){for(var t,n=[],i=0,a=(e||[]).length;i<a;++i)t=e[i],n.push({index:i,box:t,pos:t.position,horizontal:t.isHorizontal(),weight:t.weight});return n}(e),n=Ke(Ge(t,"left"),!0),i=Ke(Ge(t,"right")),a=Ke(Ge(t,"top"),!0),r=Ke(Ge(t,"bottom"));return{leftAndTop:n.concat(a),rightAndBottom:i.concat(r),chartArea:Ge(t,"chartArea"),vertical:n.concat(i),horizontal:a.concat(r)}}function Je(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function Ze(e,t,n){for(var i,a,r,o,s=[],l=0,d=e.length;l<d;++l)(a=(i=e[l]).box).update(i.width||t.w,i.height||t.h,function(e,n){var i=n.maxPadding;function t(e){var t={left:0,top:0,right:0,bottom:0};return e.forEach(function(e){t[e]=Math.max(n[e],i[e])}),t}return t(e?["left","right"]:["top","bottom"])}(i.horizontal,t)),function(e,t,n){var i=n.box,a=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?i.height:i.width,e[n.pos]+=n.size,i.getPadding&&(i=i.getPadding(),a.top=Math.max(a.top,i.top),a.left=Math.max(a.left,i.left),a.bottom=Math.max(a.bottom,i.bottom),a.right=Math.max(a.right,i.right)),i=t.outerWidth-Je(a,e,"left","right"),a=t.outerHeight-Je(a,e,"top","bottom"),i!==e.w||a!==e.h)return e.w=i,e.h=a,!((i=n.horizontal?[i,e.w]:[a,e.h])[0]===i[1]||isNaN(i[0])&&isNaN(i[1]))}(t,n,i)&&(o=!0,s.length&&(r=!0)),a.fullWidth||s.push(i);return r&&Ze(s,t,n)||o}function Qe(e,t,n){for(var i,a,r=n.padding,o=t.x,s=t.y,l=0,d=e.length;l<d;++l)a=(i=e[l]).box,i.horizontal?(a.left=(a.fullWidth?r:t).left,a.right=a.fullWidth?n.outerWidth-r.right:t.left+t.w,a.top=s,a.bottom=s+a.height,a.width=a.right-a.left,s=a.bottom):(a.left=o,a.right=o+a.width,a.top=t.top,a.bottom=t.top+t.h,a.height=a.bottom-a.top,o=a.right);t.x=o,t.y=s}T._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var et,tt={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var i,a=["fullWidth","position","weight"],r=a.length,o=0;o<r;++o)n.hasOwnProperty(i=a[o])&&(t[i]=n[i])},update:function(n,c,u){if(n){for(var i,h,e,t=n.options.layout||{},t=Y.options.toPadding(t.padding),a=c-t.width,f=u-t.height,r=$e(n.boxes),o=r.vertical,g=r.horizontal,s=Object.freeze({outerWidth:c,outerHeight:u,padding:t,availableWidth:a,vBoxMaxWidth:a/2/o.length,hBoxMaxHeight:f/2}),l=Ye({maxPadding:Ye({},t),w:a,h:f,x:t.left,y:t.top},t),p=o.concat(g),m=s,v=0,b=p.length;v<b;++v)(e=p[v]).width=e.horizontal?e.box.fullWidth&&m.availableWidth:m.vBoxMaxWidth,e.height=e.horizontal&&m.hBoxMaxHeight;Ze(o,l,s),Ze(g,l,s)&&Ze(o,l,s),h=(i=l).maxPadding,i.y+=d("top"),i.x+=d("left"),d("right"),d("bottom"),Qe(r.leftAndTop,l,s),l.x+=l.w,l.y+=l.h,Qe(r.rightAndBottom,l,s),n.chartArea={left:l.left,top:l.top,right:l.left+l.w,bottom:l.top+l.h},Y.each(r.chartArea,function(e){var t=e.box;Ye(t,n.chartArea),t.update(l.w,l.h)})}function d(e){var t=Math.max(h[e]-i[e],0);return i[e]+=t,t}}},nt=(et=Object.freeze({__proto__:null,"default":"/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n"}))&&et["default"]||et,it="$chartjs",K="chartjs-",at=K+"size-monitor",rt=K+"render-monitor",ot=K+"render-animation",st=["animationstart","webkitAnimationStart"],lt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function dt(e,t){var n=Y.getStyle(e,t),n=n&&n.match(/^(\d+)(\.\d+)?px$/);return n?Number(n[1]):undefined}var ct=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(n){}return e}()&&{passive:!0};function ut(e,t,n){e.addEventListener(t,n,ct)}function ht(e,t,n){e.removeEventListener(t,n,ct)}function ft(e,t,n,i,a){return{type:e,chart:t,"native":a||null,x:n!==undefined?n:null,y:i!==undefined?i:null}}function gt(e){var t=document.createElement("div");return t.className=e||"",t}function pt(n,c,i){var u,e,t,a,r,h,o,f,s,l,g,d,p,m=n[it]||(n[it]={}),v=m.resizer=(s=!(h=function(){var e,t;m.resizer&&(t=(e=i.options.maintainAspectRatio&&n.parentNode)?e.clientWidth:0,c(ft("resize",i)),e&&e.clientWidth<t&&i.canvas&&c(ft("resize",i)))}),u=function(){f=Array.prototype.slice.call(arguments),o=o||this,s||(s=!0,Y.requestAnimFrame.call(window,function(){s=!1,h.apply(o,f)}))},e=gt(at),t=gt(at+"-expand"),a=gt(at+"-shrink"),t.appendChild(gt()),a.appendChild(gt()),e.appendChild(t),e.appendChild(a),e._reset=function(){t.scrollLeft=1e6,t.scrollTop=1e6,a.scrollLeft=1e6,a.scrollTop=1e6},ut(t,"scroll",(r=function r(){e._reset(),u()}).bind(t,"expand")),ut(a,"scroll",r.bind(a,"shrink")),e);g=function(){var e;m.resizer&&((e=n.parentNode)&&e!==v.parentNode&&e.insertBefore(v,e.firstChild),v._reset())},d=(l=n)[it]||(l[it]={}),p=d.renderProxy=function(e){e.animationName===ot&&g()},Y.each(st,function(e){ut(l,e,p)}),d.reflow=!!l.offsetParent,l.classList.add(rt)}function mt(e){var t,n,i=e[it]||{},a=i.resizer;delete i.resizer,i=(t=e)[it]||{},(n=i.renderProxy)&&(Y.each(st,function(e){ht(t,e,n)}),delete i.renderProxy),t.classList.remove(rt),a&&a.parentNode&&a.parentNode.removeChild(a)}var t={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(e){var t,n;this.disableCSSInjection||(n=(n=e.getRootNode?e.getRootNode():document).host?n:document.head,e=nt,(n=(t=n)[it]||(t[it]={})).containsStyles||(n.containsStyles=!0,e="/* Chart.js */\n"+e,(n=document.createElement("style")).setAttribute("type","text/css"),n.appendChild(document.createTextNode(e)),t.appendChild(n)))},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]);var n,i,a,r,o=(e=e&&e.canvas?e.canvas:e)&&e.getContext&&e.getContext("2d");return o&&o.canvas===e?(this._ensureLoaded(e),t=t,i=(e=e).style,a=e.getAttribute("height"),r=e.getAttribute("width"),e[it]={initial:{height:a,width:r,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",null!==r&&""!==r||(n=dt(e,"width"))!==undefined&&(e.width=n),null!==a&&""!==a||(""===e.style.height?e.height=e.width/(t.options.aspectRatio||2):(i=dt(e,"height"),n!==undefined&&(e.height=i))),o):null},releaseContext:function(e){var n,i=e.canvas;i[it]&&(n=i[it].initial,["height","width"].forEach(function(e){var t=n[e];Y.isNullOrUndef(t)?i.removeAttribute(e):i.setAttribute(e,t)}),Y.each(n.style||{},function(e,t){i.style[t]=e}),i.width=i.width,delete i[it])},addEventListener:function(a,e,r){var t,n=a.canvas;"resize"!==e?ut(n,e,((t=r[it]||(r[it]={})).proxies||(t.proxies={}))[a.id+"_"+e]=function(e){var t,n,i;r((t=a,n=lt[(e=e).type]||e.type,i=Y.getRelativePosition(e,t),ft(n,t,i.x,i.y,e)))}):pt(n,r,a)},removeEventListener:function(e,t,n){var i,a=e.canvas;"resize"!==t?(i=((n[it]||{}).proxies||{})[e.id+"_"+t])&&ht(a,t,i):mt(a)}},$=(Y.addEvent=ut,Y.removeEvent=ht,t._enabled?t:{acquireContext:function(e){return(e=e&&e.canvas?e.canvas:e)&&e.getContext("2d")||null}}),vt=Y.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},$),s=(T._set("global",{plugins:{}}),{_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var n=this._plugins;[].concat(e).forEach(function(e){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){for(var i,a,r,o,s=this.descriptors(e),l=s.length,d=0;d<l;++d)if("function"==typeof(o=(a=(i=s[d]).plugin)[t])&&((r=[e].concat(n||[])).push(i.options),!1===o.apply(a,r)))return!1;return!0},descriptors:function Yn(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var i=[],Yn=[],n=e&&e.config||{},a=n.options&&n.options.plugins||{};return this._plugins.concat(n.plugins||[]).forEach(function(e){var t,n;-1===i.indexOf(e)&&(t=e.id,!1!==(n=a[t])&&(!0===n&&(n=Y.clone(T.global.plugins[t])),i.push(e),Yn.push({plugin:e,options:n||{}})))}),t.descriptors=Yn,t.id=this._cacheId,Yn},_invalidate:function(e){delete e.$plugins}}),bt={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=Y.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:undefined},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?Y.merge(Object.create(null),[T.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=Y.extend(this.defaults[e],t))},addScalesToLayout:function(t){Y.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,tt.addBox(t,e)})}},yt=Y.valueOrDefault,xt=Y.rtl.getRtlAdapter,wt=(T._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:Y.noop,title:function jn(e,t){var n,jn="",i=t.labels,a=i?i.length:0;return 0<e.length&&((n=e[0]).label?jn=n.label:n.xLabel?jn=n.xLabel:0<a&&n.index<a&&(jn=i[n.index])),jn},afterTitle:Y.noop,beforeBody:Y.noop,beforeLabel:Y.noop,label:function Un(e,t){var Un=t.datasets[e.datasetIndex].label||"";return Un&&(Un+=": "),Y.isNullOrUndef(e.value)?Un+=e.yLabel:Un+=e.value,Un},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:Y.noop,afterBody:Y.noop,beforeFooter:Y.noop,footer:Y.noop,afterFooter:Y.noop}}}),{average:function(e){if(!e.length)return!1;for(var t=0,n=0,i=0,a=0,r=e.length;a<r;++a){var o=e[a];o&&o.hasValue()&&(t+=(o=o.tooltipPosition()).x,n+=o.y,++i)}return{x:t/i,y:n/i}},nearest:function(e,t){for(var n,i,a=t.x,r=t.y,o=Number.POSITIVE_INFINITY,s=0,c=e.length;s<c;++s){var l,d=e[s];d&&d.hasValue()&&(l=d.getCenterPoint(),(l=Y.distanceBetweenPoints(t,l))<o&&(o=l,n=d))}return n&&(a=(i=n.tooltipPosition()).x,r=i.y),{x:a,y:r}}});function Mt(e,t){return t&&(Y.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function _t(e){return("string"==typeof e||e instanceof String)&&-1<e.indexOf("\n")?e.split("\n"):e}function St(e){var t=T.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:yt(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:yt(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:yt(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:yt(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:yt(e.titleFontStyle,t.defaultFontStyle),titleFontSize:yt(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:yt(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:yt(e.footerFontStyle,t.defaultFontStyle),footerFontSize:yt(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function kt(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function Lt(e){return Mt([],_t(e))}var At=z.extend({initialize:function(){this._model=St(this._options),this._lastActive=[]},getTitle:function(){var e=this._options.callbacks,t=e.beforeTitle.apply(this,arguments),n=e.title.apply(this,arguments),e=e.afterTitle.apply(this,arguments),t=Mt([],_t(t));return t=Mt(t,_t(n)),Mt(t,_t(e))},getBeforeBody:function(){return Lt(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,n){var i=this,a=i._options.callbacks,r=[];return Y.each(e,function(e){var t={before:[],lines:[],after:[]};Mt(t.before,_t(a.beforeLabel.call(i,e,n))),Mt(t.lines,a.label.call(i,e,n)),Mt(t.after,_t(a.afterLabel.call(i,e,n))),r.push(t)}),r},getAfterBody:function(){return Lt(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this._options.callbacks,t=e.beforeFooter.apply(this,arguments),n=e.footer.apply(this,arguments),e=e.afterFooter.apply(this,arguments),t=Mt([],_t(t));return t=Mt(t,_t(n)),Mt(t,_t(e))},update:function(c){var u,h,f,g,p,m,v,b,t,y,x,w,e,M,n,_,S,i,a,r,o,k,L,A,C,T,E,D,P,q,I,R,s=this,F=s._options,l=s._model,d=s._model=St(F),O=s._active,H=s._data,N={xAlign:l.xAlign,yAlign:l.yAlign},z={x:l.x,y:l.y},W={width:l.width,height:l.height},l={x:l.caretX,y:l.caretY};if(O.length){d.opacity=1;for(var B=[],V=[],l=wt[F.position].call(s,O,s._eventPosition),j=[],X=0,U=O.length;X<U;++X)j.push((T=O[X],R=I=q=P=D=E=void 0,E=T._xScale,D=T._yScale||T._scale,P=T._index,q=T._datasetIndex,I=(R=T._chart.getDatasetMeta(q).controller)._getIndexScale(),R=R._getValueScale(),{xLabel:E?E.getLabelForIndex(P,q):"",yLabel:D?D.getLabelForIndex(P,q):"",label:I?""+I.getLabelForIndex(P,q):"",value:R?""+R.getLabelForIndex(P,q):"",index:P,datasetIndex:q,x:T._model.x,y:T._model.y}));F.filter&&(j=j.filter(function(e){return F.filter(e,H)})),F.itemSort&&(j=j.sort(function(e,t){return F.itemSort(e,t,H)})),Y.each(j,function(e){B.push(F.callbacks.labelColor.call(s,e,s._chart)),V.push(F.callbacks.labelTextColor.call(s,e,s._chart))}),d.title=s.getTitle(j,H),d.beforeBody=s.getBeforeBody(j,H),d.body=s.getBody(j,H),d.afterBody=s.getAfterBody(j,H),d.footer=s.getFooter(j,H),d.x=l.x,d.y=l.y,d.caretPadding=F.caretPadding,d.labelColors=B,d.labelTextColors=V,d.dataPoints=j,e=d,M=this._chart.ctx,n=2*e.yPadding,_=0,S=e.body,i=S.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0),i+=e.beforeBody.length+e.afterBody.length,a=e.title.length,r=e.footer.length,o=e.titleFontSize,k=e.bodyFontSize,L=e.footerFontSize,n=(n=(n=(n=(n=n+a*o+(a?(a-1)*e.titleSpacing:0))+(a?e.titleMarginBottom:0))+i*k+(i?(i-1)*e.bodySpacing:0))+(r?e.footerMarginTop:0))+r*L+(r?(r-1)*e.footerSpacing:0),A=0,C=function C(e){_=Math.max(_,M.measureText(e).width+A)},M.font=Y.fontString(o,e._titleFontStyle,e._titleFontFamily),Y.each(e.title,C),M.font=Y.fontString(k,e._bodyFontStyle,e._bodyFontFamily),Y.each(e.beforeBody.concat(e.afterBody),C),A=e.displayColors?k+2:0,Y.each(S,function(e){Y.each(e.before,C),Y.each(e.lines,C),Y.each(e.after,C)}),A=0,M.font=Y.fontString(L,e._footerFontStyle,e._footerFontFamily),Y.each(e.footer,C),W={width:_+=2*e.xPadding,height:n},f=W,t=(e=this)._model,y=e._chart,a=e._chart.chartArea,r=i="center",t.y<f.height?r="top":t.y>y.height-f.height&&(r="bottom"),x=(a.left+a.right)/2,w=(a.top+a.bottom)/2,p="center"===r?(g=function g(e){return e<=x},function p(e){return x<e}):(g=function g(e){return e<=f.width/2},function p(e){return e>=y.width-f.width/2}),m=function m(e){return e+f.width+t.caretSize+t.caretPadding>y.width},v=function v(e){return e-f.width-t.caretSize-t.caretPadding<0},b=function b(e){return e<=w?"top":"bottom"},g(t.x)?(i="left",m(t.x)&&(i="center",r=b(t.y))):p(t.x)&&(i="right",v(t.x)&&(i="center",r=b(t.y))),N={xAlign:(a=e._options).xAlign||i,yAlign:a.yAlign||r},e=W,u=N,h=s._chart,o=d.x,k=d.y,S=d.caretSize,L=d.caretPadding,n=d.cornerRadius,i=u.xAlign,a=u.yAlign,S+=L,n+=L,"right"===i?o-=e.width:"center"===i&&(o=(o-=e.width/2)+e.width>h.width?h.width-e.width:o)<0&&(o=0),"top"===a?k+=S:k-="bottom"===a?e.height+S:e.height/2,"center"===a?"left"===i?o+=S:"right"===i&&(o-=S):"left"===i?o-=n:"right"===i&&(o+=n),z={x:o,y:k}}else d.opacity=0;return d.xAlign=N.xAlign,d.yAlign=N.yAlign,d.x=z.x,d.y=z.y,d.width=W.width,d.height=W.height,d.caretX=l.x,d.caretY=l.y,s._model=d,c&&F.custom&&F.custom.call(s,d),s},drawCaret:function(e,t){var n=this._chart.ctx,i=this._view,i=this.getCaretPosition(e,t,i);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(c,u,e){var t,n,i,a,r,o,s=e.caretSize,h=e.cornerRadius,l=e.xAlign,f=e.yAlign,d=c.x,g=c.y,p=u.width,m=u.height;return"center"===f?(i=g+m/2,a="left"===l?(t=(o=d)-s,r=o,n=i+s,i-s):(t=(o=d+p)+s,r=o,n=i-s,i+s)):(r=(o="left"===l?(t=d+h+s)-s:"right"===l?(t=d+p-h-s)-s:(t=e.caretX)-s,t+s),"top"===f?(i=(n=g)-s,a=n):(i=(n=g+m)+s,a=n,l=r,r=o,o=l)),{x1:o,x2:t,x3:r,y1:n,y2:i,y3:a}},drawTitle:function(e,t,n){var i,a,r,o=t.title,s=o.length;if(s){var l=xt(t.rtl,t.x,t.width);for(e.x=kt(t,t._titleAlign),n.textAlign=l.textAlign(t._titleAlign),n.textBaseline="middle",i=t.titleFontSize,a=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=Y.fontString(i,t._titleFontStyle,t._titleFontFamily),r=0;r<s;++r)n.fillText(o[r],l.x(e.x),e.y+i/2),e.y+=i+a,r+1===s&&(e.y+=t.titleMarginBottom-a)}},drawBody:function(t,e,n){var i,c,u,h,a,r,f,g,o,s=e.bodyFontSize,p=e.bodySpacing,m=e._bodyAlign,v=e.body,b=e.displayColors,y=0,x=b?kt(e,"left"):0,l=xt(e.rtl,e.x,e.width),d=function d(e){n.fillText(e,l.x(t.x+y),t.y+s/2),t.y+=s+p},w=l.textAlign(m);for(n.textAlign=m,n.textBaseline="middle",n.font=Y.fontString(s,e._bodyFontStyle,e._bodyFontFamily),t.x=kt(e,w),n.fillStyle=e.bodyFontColor,Y.each(e.beforeBody,d),y=b&&"right"!==w?"center"===m?s/2+1:s+2:0,a=0,f=v.length;a<f;++a){for(i=v[a],c=e.labelTextColors[a],u=e.labelColors[a],n.fillStyle=c,Y.each(i.before,d),r=0,g=(h=i.lines).length;r<g;++r)b&&(o=l.x(x),n.fillStyle=e.legendColorBackground,n.fillRect(l.leftForLtr(o,s),t.y,s,s),n.lineWidth=1,n.strokeStyle=u.borderColor,n.strokeRect(l.leftForLtr(o,s),t.y,s,s),n.fillStyle=u.backgroundColor,n.fillRect(l.leftForLtr(l.xPlus(o,1),s-2),t.y+1,s-2,s-2),n.fillStyle=c),d(h[r]);Y.each(i.after,d)}y=0,Y.each(e.afterBody,d),t.y-=p},drawFooter:function(e,t,n){var i,a,r=t.footer,o=r.length;if(o){var s=xt(t.rtl,t.x,t.width);for(e.x=kt(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=s.textAlign(t._footerAlign),n.textBaseline="middle",i=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=Y.fontString(i,t._footerFontStyle,t._footerFontFamily),a=0;a<o;++a)n.fillText(r[a],s.x(e.x),e.y+i/2),e.y+=i+t.footerSpacing}},drawBackground:function(e,t,n,i){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var c=t.xAlign,a=t.yAlign,r=e.x,o=e.y,s=i.width,l=i.height,d=t.cornerRadius;n.beginPath(),n.moveTo(r+d,o),"top"===a&&this.drawCaret(e,i),n.lineTo(r+s-d,o),n.quadraticCurveTo(r+s,o,r+s,o+d),"center"===a&&"right"===c&&this.drawCaret(e,i),n.lineTo(r+s,o+l-d),n.quadraticCurveTo(r+s,o+l,r+s-d,o+l),"bottom"===a&&this.drawCaret(e,i),n.lineTo(r+d,o+l),n.quadraticCurveTo(r,o+l,r,o+l-d),"center"===a&&"left"===c&&this.drawCaret(e,i),n.lineTo(r,o+d),n.quadraticCurveTo(r,o,r+d,o),n.closePath(),n.fill(),0<t.borderWidth&&n.stroke()},draw:function(){var e,t,n,i,a=this._chart.ctx,r=this._view;0!==r.opacity&&(e={width:r.width,height:r.height},t={x:r.x,y:r.y},n=Math.abs(r.opacity<.001)?0:r.opacity,i=r.title.length||r.beforeBody.length||r.body.length||r.afterBody.length||r.footer.length,this._options.enabled&&i&&(a.save(),a.globalAlpha=n,this.drawBackground(t,r,a,e),t.y+=r.yPadding,Y.rtl.overrideTextDirection(a,r.textDirection),this.drawTitle(t,r,a),this.drawBody(t,r,a),this.drawFooter(t,r,a),Y.rtl.restoreTextDirection(a,r.textDirection),a.restore()))},handleEvent:function(e){var t,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(e,i.mode,i),i.reverse&&n._active.reverse()),(t=!Y.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}}),Ct=(At.positioners=wt,Y.valueOrDefault);function Tt(){return Y.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,i){if("xAxes"===e||"yAxes"===e){var a,r,o,s=n[e].length;for(t[e]||(t[e]=[]),a=0;a<s;++a)o=n[e][a],r=Ct(o.type,"xAxes"===e?"category":"linear"),a>=t[e].length&&t[e].push({}),!t[e][a].type||o.type&&o.type!==t[e][a].type?Y.merge(t[e][a],[bt.getScaleDefaults(r),o]):Y.merge(t[e][a],o)}else Y._merger(e,t,n,i)}})}function Et(){return Y.merge(Object.create(null),[].slice.call(arguments),{merger:function(e,t,n,i){var a=t[e]||Object.create(null),r=n[e];"scales"===e?t[e]=Tt(a,r):"scale"===e?t[e]=Y.merge(a,[bt.getScaleDefaults(r.type),r]):Y._merger(e,t,n,i)}})}function Dt(e,t,n){for(var i,a=function a(e){return e.id===i};i=t+n++,0<=Y.findIndex(e,a););return i}function Pt(e){return"top"===e||"bottom"===e}function qt(n,i){return function(e,t){return e[n]===t[n]?e[i]-t[i]:e[n]-t[n]}}T._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var It=function It(e,t){return this.construct(e,t),this},a=(Y.extend(It.prototype,{construct:function(e,t){var n,i=this,a=((a=(n=(n=t)||Object.create(null)).data=n.data||{}).datasets=a.datasets||[],a.labels=a.labels||[],n.options=Et(T.global,T[n.type],n.options||{}),t=n,vt.acquireContext(e,t)),r=a&&a.canvas,o=r&&r.height,s=r&&r.width;i.id=Y.uid(),i.ctx=a,i.canvas=r,i.config=t,i.width=s,i.height=o,i.aspectRatio=o?s/o:null,i.options=t.options,i._bufferedRender=!1,i._layers=[],(i.chart=i).controller=i,It.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(e){i.config.data=e}}),a&&r?(i.initialize(),i.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return s.notify(e,"beforeInit"),Y.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),s.notify(e,"afterInit"),e},clear:function(){return Y.canvas.clear(this),this},stop:function(){return ne.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,i=t.canvas,a=n.maintainAspectRatio&&t.aspectRatio||null,r=Math.max(0,Math.floor(Y.getMaximumWidth(i))),a=Math.max(0,Math.floor(a?r/a:Y.getMaximumHeight(i)));t.width===r&&t.height===a||(i.width=t.width=r,i.height=t.height=a,i.style.width=r+"px",i.style.height=a+"px",Y.retinaScale(t,n.devicePixelRatio),e||(s.notify(t,"resize",[i={width:r,height:a}]),n.onResize&&n.onResize(t,i),t.stop(),t.update({duration:n.responsiveAnimationDuration})))},ensureScalesHaveIDs:function(){var e=this.options,n=e.scales||{},e=e.scale;Y.each(n.xAxes,function(e,t){e.id||(e.id=Dt(n.xAxes,"x-axis-",t))}),Y.each(n.yAxes,function(e,t){e.id||(e.id=Dt(n.yAxes,"y-axis-",t))}),e&&(e.id=e.id||"scale")},buildOrUpdateScales:function(){var o=this,e=o.options,s=o.scales||{},t=[],l=Object.keys(s).reduce(function(e,t){return e[t]=!1,e},{});e.scales&&(t=t.concat((e.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),e.scale&&t.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),Y.each(t,function(e){var t=e.options,n=t.id,i=Ct(t.type,e.dtype),a=(Pt(t.position)!==Pt(e.dposition)&&(t.position=e.dposition),l[n]=!0,null);if(n in s&&s[n].type===i)(a=s[n]).options=t,a.ctx=o.ctx,a.chart=o;else{var r=bt.getScaleConstructor(i);if(!r)return;a=new r({id:n,type:i,options:t,ctx:o.ctx,chart:o}),s[a.id]=a}a.mergeTicksOptions(),e.isDefault&&(o.scale=a)}),Y.each(l,function(e,t){e||delete s[t]}),o.scales=s,bt.addScalesToLayout(this)},buildOrUpdateControllers:function(){for(var e=this,t=[],n=e.data.datasets,i=0,a=n.length;i<a;i++){var r=n[i],o=e.getDatasetMeta(i),s=r.type||e.config.type;if(o.type&&o.type!==s&&(e.destroyDatasetMeta(i),o=e.getDatasetMeta(i)),o.type=s,o.order=r.order||0,o.index=i,o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{s=Ne[o.type];if(s===undefined)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new s(e,i),t.push(o.controller)}}return t},resetElements:function(){var n=this;Y.each(n.data.datasets,function(e,t){n.getDatasetMeta(t).controller.reset()},n)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t,n=this;if(e&&"object"===Kn(e)||(e={duration:e,lazy:arguments[1]}),i=(t=n).options,Y.each(t.scales,function(e){tt.removeBox(t,e)}),i=Et(T.global,T[t.config.type],i),t.options=t.config.options=i,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=i.tooltips,t.tooltip.initialize(),s._invalidate(n),!1!==s.notify(n,"beforeUpdate")){n.tooltip._data=n.data;for(var i=n.buildOrUpdateControllers(),a=0,r=n.data.datasets.length;a<r;a++)n.getDatasetMeta(a).controller.buildOrUpdateElements();n.updateLayout(),n.options.animation&&n.options.animation.duration&&Y.each(i,function(e){e.reset()}),n.updateDatasets(),n.tooltip.initialize(),n.lastActive=[],s.notify(n,"afterUpdate"),n._layers.sort(qt("z","_idx")),n._bufferedRender?n._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:n.render(e)}},updateLayout:function(){var t=this;!1!==s.notify(t,"beforeLayout")&&(tt.update(this,this.width,this.height),t._layers=[],Y.each(t.boxes,function(e){e._configure&&e._configure(),t._layers.push.apply(t._layers,e._layers())},t),t._layers.forEach(function(e,t){e._idx=t}),s.notify(t,"afterScaleUpdate"),s.notify(t,"afterLayout"))},updateDatasets:function(){if(!1!==s.notify(this,"beforeDatasetsUpdate")){for(var e=0,t=this.data.datasets.length;e<t;++e)this.updateDataset(e);s.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this.getDatasetMeta(e),n={meta:t,index:e};!1!==s.notify(this,"beforeDatasetUpdate",[n])&&(t.controller._update(),s.notify(this,"afterDatasetUpdate",[n]))},render:function(e){var t,n,i=this,a=(e&&"object"===Kn(e)||(e={duration:e,lazy:arguments[1]}),i.options.animation),r=Ct(e.duration,a&&a.duration),o=e.lazy;if(!1!==s.notify(i,"beforeRender"))return t=function t(e){s.notify(i,"afterRender"),Y.callback(a&&a.onComplete,[e],i)},a&&r?(n=new te({numSteps:r/16.66,easing:e.easing||a.easing,render:function(e,t){var n=Y.easing.effects[t.easing],i=t.currentStep,a=i/t.numSteps;e.draw(n(a),a,i)},onAnimationProgress:a.onProgress,onAnimationComplete:t}),ne.addAnimation(i,n,r,o)):(i.draw(),t(new te({numSteps:0,chart:i}))),i},draw:function(e){var t,n,i=this;if(i.clear(),Y.isNullOrUndef(e)&&(e=1),i.transition(e),!(i.width<=0||i.height<=0)&&!1!==s.notify(i,"beforeDraw",[e])){for(n=i._layers,t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(i.chartArea);for(i.drawDatasets(e);t<n.length;++t)n[t].draw(i.chartArea);i._drawTooltip(e),s.notify(i,"afterDraw",[e])}},transition:function(e){for(var t=0,n=(this.data.datasets||[]).length;t<n;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(e);this.tooltip.transition(e)},_getSortedDatasetMetas:function(e){for(var t=[],n=0,i=(this.data.datasets||[]).length;n<i;++n)e&&!this.isDatasetVisible(n)||t.push(this.getDatasetMeta(n));return t.sort(qt("order","index")),t},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,n;if(!1!==s.notify(this,"beforeDatasetsDraw",[e])){for(n=(t=this._getSortedVisibleDatasetMetas()).length-1;0<=n;--n)this.drawDataset(t[n],e);s.notify(this,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n={meta:e,index:e.index,easingValue:t};!1!==s.notify(this,"beforeDatasetDraw",[n])&&(e.controller.draw(t),s.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(e){var t=this.tooltip,n={tooltip:t,easingValue:e};!1!==s.notify(this,"beforeTooltipDraw",[n])&&(t.draw(),s.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(e){return Ue.modes.single(this,e)},getElementsAtEvent:function(e){return Ue.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return Ue.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var i=Ue.modes[t];return"function"==typeof i?i(this,e,n):[]},getDatasetAtEvent:function(e){return Ue.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];return t._meta||(t._meta={}),t._meta[this.id]||(t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t.order||0,index:e})},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],i=n._meta&&n._meta[t];i&&(i.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,i=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);i&&(n.unbindEvents(),Y.canvas.clear(n),vt.releaseContext(n.ctx),n.canvas=null,n.ctx=null),s.notify(n,"destroy"),delete It.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new At({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this,n=t._listeners={},i=function i(){t.eventHandler.apply(t,arguments)};Y.each(t.options.events,function(e){vt.addEventListener(t,e,i),n[e]=i}),t.options.responsive&&(i=function i(){t.resize()},vt.addEventListener(t,"resize",i),n.resize=i)},unbindEvents:function(){var n=this,e=n._listeners;e&&(delete n._listeners,Y.each(e,function(e,t){vt.removeEventListener(n,t,e)}))},updateHoverStyle:function(e,t,n){for(var i,a=n?"set":"remove",r=0,o=e.length;r<o;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[a+"HoverStyle"](i);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+a+"DatasetHoverStyle"]()},eventHandler:function(e){var t,n=this,i=n.tooltip;if(!1!==s.notify(n,"beforeEvent",[e]))return n._bufferedRender=!0,n._bufferedRequest=null,t=n.handleEvent(e),i&&(t=i._start?i.handleEvent(e):t|i.handleEvent(e)),s.notify(n,"afterEvent",[e]),i=n._bufferedRequest,i?n.render(i):t&&!n.animating&&(n.stop(),n.render({duration:n.options.hover.animationDuration,lazy:!0})),n._bufferedRender=!1,n._bufferedRequest=null,n},handleEvent:function(e){var t=this,n=t.options||{},i=n.hover;return t.lastActive=t.lastActive||[],"mouseout"===e.type?t.active=[]:t.active=t.getElementsAtEventForMode(e,i.mode,i),Y.callback(n.onHover||n.hover.onHover,[e["native"],t.active],t),"mouseup"!==e.type&&"click"!==e.type||n.onClick&&n.onClick.call(t,e["native"],t.active),t.lastActive.length&&t.updateHoverStyle(t.lastActive,i.mode,!1),t.active.length&&i.mode&&t.updateHoverStyle(t.active,i.mode,!0),n=!Y.arrayEquals(t.active,t.lastActive),t.lastActive=t.active,n}}),It.instances={},It),Rt=((It.Controller=It).types={},Y.configMerge=Et,Y.scaleMerge=Tt,function Rt(){function d(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function c(e){return e!==undefined&&null!==e&&"none"!==e}function t(e,t,n){var i=document.defaultView,a=Y._getParentNode(e),r=i.getComputedStyle(e)[t],i=i.getComputedStyle(a)[t],o=c(r),s=c(i),l=Number.POSITIVE_INFINITY;return o||s?Math.min(o?d(r,e,n):l,s?d(i,a,n):l):"none"}Y.where=function(e,t){if(Y.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return Y.each(e,function(e){t(e)&&n.push(e)}),n},Y.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=n===undefined?e:n;for(var i=0,a=e.length;i<a;++i)if(t.call(n,e[i],i,e))return i;return-1},Y.findNextWhere=function(e,t,n){for(var i=(n=Y.isNullOrUndef(n)?-1:n)+1;i<e.length;i++){var a=e[i];if(t(a))return a}},Y.findPreviousWhere=function(e,t,n){for(var i=(n=Y.isNullOrUndef(n)?e.length:n)-1;0<=i;i--){var a=e[i];if(t(a))return a}},Y.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},Y.almostEquals=function(e,t,n){return Math.abs(e-t)<n},Y.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&e<=n+t},Y.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},Y.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},Y.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0===(e=+e)||isNaN(e)?e:0<e?1:-1},Y.toRadians=function(e){return e*(Math.PI/180)},Y.toDegrees=function(e){return e*(180/Math.PI)},Y._decimalPlaces=function(e){if(Y.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},Y.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,a=Math.sqrt(n*n+i*i),i=Math.atan2(i,n);return i<-.5*Math.PI&&(i+=2*Math.PI),{angle:i,distance:a}},Y.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Y.aliasPixel=function(e){return e%2==0?0:.5},Y._alignPixel=function(e,t,n){var i=e.currentDevicePixelRatio,a=n/2;return Math.round((t-a)*i)/i+a},Y.splineCurve=function(e,t,n,i){var a=e.skip?t:e,r=t,o=n.skip?t:n,s=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),l=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),d=s/(s+l),s=l/(s+l),l=i*(d=isNaN(d)?0:d),d=i*(s=isNaN(s)?0:s);return{previous:{x:r.x-l*(o.x-a.x),y:r.y-l*(o.y-a.y)},next:{x:r.x+d*(o.x-a.x),y:r.y+d*(o.y-a.y)}}},Y.EPSILON=Number.EPSILON||1e-14,Y.splineCurveMonotone=function(c){for(var e,t,n,i,a,u,r,o,s=(c||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),l=s.length,d=0;d<l;++d)(i=s[d]).model.skip||(t=0<d?s[d-1]:null,(n=d<l-1?s[d+1]:null)&&!n.model.skip&&(e=n.model.x-i.model.x,i.deltaK=0!=e?(n.model.y-i.model.y)/e:0),!t||t.model.skip?i.mK=i.deltaK:!n||n.model.skip?i.mK=t.deltaK:this.sign(t.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(t.deltaK+i.deltaK)/2);for(d=0;d<l-1;++d)i=s[d],n=s[d+1],i.model.skip||n.model.skip||(Y.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=n.mK=0:(a=i.mK/i.deltaK,u=n.mK/i.deltaK,(r=Math.pow(a,2)+Math.pow(u,2))<=9||(r=3/Math.sqrt(r),i.mK=a*r*i.deltaK,n.mK=u*r*i.deltaK)));for(d=0;d<l;++d)(i=s[d]).model.skip||(t=0<d?s[d-1]:null,n=d<l-1?s[d+1]:null,t&&!t.model.skip&&(o=(i.model.x-t.model.x)/3,i.model.controlPointPreviousX=i.model.x-o,i.model.controlPointPreviousY=i.model.y-o*i.mK),n&&!n.model.skip&&(o=(n.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+o,i.model.controlPointNextY=i.model.y+o*i.mK))},Y.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},Y.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},Y.niceNum=function(e,t){var n=Math.floor(Y.log10(e)),i=e/Math.pow(10,n),i=t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10;return i*Math.pow(10,n)},Y.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},Y.getRelativePosition=function(e,t){var n=e.originalEvent||e,i=e.target||e.srcElement,a=i.getBoundingClientRect(),r=n.touches,r=r&&0<r.length?(d=r[0].clientX,r[0].clientY):(d=n.clientX,n.clientY),n=parseFloat(Y.getStyle(i,"padding-left")),o=parseFloat(Y.getStyle(i,"padding-top")),s=parseFloat(Y.getStyle(i,"padding-right")),l=parseFloat(Y.getStyle(i,"padding-bottom")),s=a.right-a.left-n-s,l=a.bottom-a.top-o-l,d=Math.round((d-a.left-n)/s*i.width/t.currentDevicePixelRatio);return{x:d,y:r=Math.round((r-a.top-o)/l*i.height/t.currentDevicePixelRatio)}},Y.getConstraintWidth=function(e){return t(e,"max-width","clientWidth")},Y.getConstraintHeight=function(e){return t(e,"max-height","clientHeight")},Y._calculatePadding=function(e,t,n){return-1<(t=Y.getStyle(e,t)).indexOf("%")?n*parseInt(t,10)/100:parseInt(t,10)},Y._getParentNode=function(e){var t=e.parentNode;return t=t&&"[object ShadowRoot]"===t.toString()?t.host:t},Y.getMaximumWidth=function(e){var t=Y._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,t=n-Y._calculatePadding(t,"padding-left",n)-Y._calculatePadding(t,"padding-right",n),n=Y.getConstraintWidth(e);return isNaN(n)?t:Math.min(t,n)},Y.getMaximumHeight=function(e){var t=Y._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,t=n-Y._calculatePadding(t,"padding-top",n)-Y._calculatePadding(t,"padding-bottom",n),n=Y.getConstraintHeight(e);return isNaN(n)?t:Math.min(t,n)},Y.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},Y.retinaScale=function(e,t){var n,i,a,r=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;1!==r&&(n=e.canvas,i=e.height,a=e.width,n.height=i*r,n.width=a*r,e.ctx.scale(r,r),n.style.height||n.style.width||(n.style.height=i+"px",n.style.width=a+"px"))},Y.fontString=function(e,t,n){return t+" "+e+"px "+n},Y.longestText=function(e,t,c,n){for(var i,u,a,r,o=(n=n||{}).data=n.data||{},s=n.garbageCollect=n.garbageCollect||[],l=(n.font!==t&&(o=n.data={},s=n.garbageCollect=[],n.font=t),e.font=t,0),h=c.length,d=0;d<h;d++)if((a=c[d])!==undefined&&null!==a&&!0!==Y.isArray(a))l=Y.measureText(e,o,s,l,a);else if(Y.isArray(a))for(i=0,u=a.length;i<u;i++)(r=a[i])===undefined||null===r||Y.isArray(r)||(l=Y.measureText(e,o,s,l,r));var f=s.length/2;if(f>c.length){for(d=0;d<f;d++)delete o[s[d]];s.splice(0,f)}return l},Y.measureText=function(e,t,n,i,a){var r=t[a];return r||(r=t[a]=e.measureText(a).width,n.push(a)),i=i<r?r:i},Y.numberOfLabelLines=function(e){var t=1;return Y.each(e,function(e){Y.isArray(e)&&e.length>t&&(t=e.length)}),t},Y.color=q?function(e){return e instanceof CanvasGradient&&(e=T.global.defaultColor),q(e)}:function(e){return console.error("Color.js not found!"),e},Y.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:Y.color(e).saturate(.5).darken(.1).rgbString()}});function Ft(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Ot(e){this.options=e||{}}Y.extend(Ot.prototype,{formats:Ft,parse:Ft,format:Ft,add:Ft,diff:Ft,startOf:Ft,endOf:Ft,_create:function(e){return e}}),Ot.override=function(e){Y.extend(Ot.prototype,e)};var Ht={_date:Ot},e={formatters:{values:function(e){return Y.isArray(e)?e:""+e},linear:function(e,t,n){var i,a=3<n.length?n[2]-n[1]:n[1]-n[0],a=(1<Math.abs(a)&&e!==Math.floor(e)&&(a=e-Math.floor(e)),Y.log10(Math.abs(a)));return 0!==e?Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4?(i=Y.log10(Math.abs(e)),i=Math.floor(i)-Math.floor(a),i=Math.max(Math.min(i,20),0),e.toExponential(i)):(i=-1*Math.floor(a),i=Math.max(Math.min(i,20),0),e.toFixed(i)):"0"},logarithmic:function(e,t,n){var i=e/Math.pow(10,Math.floor(Y.log10(e)));return 0===e?"0":1==i||2==i||5==i||0===t||t===n.length-1?e.toExponential():""}}},Nt=Y.isArray,zt=Y.isNullOrUndef,Wt=Y.valueOrDefault,Bt=Y.valueAtIndexOrDefault;function Vt(e,c,u,h){for(var t,f,n,g,p,i,a,r,o,s,m,v,b,y=u.length,x=[],w=[],M=[],_=0,S=0,l=0;l<y;++l){if(n=u[l].label,g=u[l].major?c.major:c.minor,e.font=p=g.string,i=h[p]=h[p]||{data:{},gc:[]},a=g.lineHeight,r=o=0,zt(n)||Nt(n)){if(Nt(n))for(t=0,f=n.length;t<f;++t)s=n[t],zt(s)||Nt(s)||(r=Y.measureText(e,i.data,i.gc,r,s),o+=a)}else r=Y.measureText(e,i.data,i.gc,r,n),o=a;x.push(r),w.push(o),M.push(a/2),_=Math.max(r,_),S=Math.max(o,S)}function d(e){return{width:x[e]||0,height:w[e]||0,offset:M[e]||0}}return b=y,Y.each(h,function(e){var t,n=e.gc,i=n.length/2;if(b<i){for(t=0;t<i;++t)delete e.data[n[t]];n.splice(0,i)}}),m=x.indexOf(_),v=w.indexOf(S),{first:d(0),last:d(y-1),widest:d(m),highest:d(v)}}function jt(e){return e.drawTicks?e.tickMarkLength:0}function Xt(e){var t,n;return e.display?(t=Y.options._parseFont(e),n=Y.options.toPadding(e.padding),t.lineHeight+n.height):0}function Ut(e,t){return Y.extend(Y.options._parseFont({fontFamily:Wt(t.fontFamily,e.fontFamily),fontSize:Wt(t.fontSize,e.fontSize),fontStyle:Wt(t.fontStyle,e.fontStyle),lineHeight:Wt(t.lineHeight,e.lineHeight)}),{color:Y.options.resolve([t.fontColor,e.fontColor,T.global.defaultFontColor])})}function Yt(e){var t=Ut(e,e.minor);return{minor:t,major:e.major.enabled?Ut(e,e.major):t}}function Gt(e){for(var t,n=[],i=0,a=e.length;i<a;++i)"undefined"!=typeof(t=e[i])._index&&n.push(t);return n}function Kt(e,t,d,n){var i,a,r,o,s=function(e){var t,n,i=e.length;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),l=(t.length-1)/n;if(!s)return Math.max(l,1);for(r=0,o=(i=Y.math._factorize(s)).length-1;r<o;r++)if(l<(a=i[r]))return a;return Math.max(l,1)}function $t(e,t,n,i){var a,r,o,s,l=Wt(n,0),c=Math.min(Wt(i,e.length),e.length),d=0;for(t=Math.ceil(t),i&&(t=(a=i-n)/Math.floor(a/t)),s=l;s<0;)d++,s=Math.round(l+d*t);for(r=Math.max(l,0);r<c;r++)o=e[r],r===s?(o._index=r,d++,s=Math.round(l+d*t)):delete o.label}T._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:e.formatters.values,minor:{},major:{}}});var Re=z.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){Y.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var i,a,r,o,s=this,l=s.options.ticks,d=l.sampleSize;if(s.beforeUpdate(),s.maxWidth=e,s.maxHeight=t,s.margins=Y.extend({left:0,right:0,top:0,bottom:0},n),s._ticks=null,s.ticks=null,s._labelSizes=null,s._maxLabelLines=0,s.longestLabelWidth=0,s.longestTextCache=s.longestTextCache||{},s._gridLineItems=null,s._labelItems=null,s.beforeSetDimensions(),s.setDimensions(),s.afterSetDimensions(),s.beforeDataLimits(),s.determineDataLimits(),s.afterDataLimits(),s.beforeBuildTicks(),r=s.buildTicks()||[],(!(r=s.afterBuildTicks(r)||r)||!r.length)&&s.ticks)for(r=[],i=0,a=s.ticks.length;i<a;++i)r.push({value:s.ticks[i],major:!1});return o=d<(s._ticks=r).length,d=s._convertTicksToLabels(o?function(e,t){for(var n=[],i=e.length/t,a=0,r=e.length;a<r;a+=i)n.push(e[Math.floor(a)]);return n}(r,d):r),s._configure(),s.beforeCalculateTickRotation(),s.calculateTickRotation(),s.afterCalculateTickRotation(),s.beforeFit(),s.fit(),s.afterFit(),s._ticksToDraw=l.display&&(l.autoSkip||"auto"===l.source)?s._autoSkip(r):r,o&&(d=s._convertTicksToLabels(s._ticksToDraw)),s.ticks=d,s.afterUpdate(),s.minSize},_configure:function(){var e,t,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,i=!i),n._startPixel=e,n._endPixel=t,n._reversePixels=i,n._length=t-e},afterUpdate:function(){Y.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){Y.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){Y.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){Y.callback(this.options.beforeDataLimits,[this])},determineDataLimits:Y.noop,afterDataLimits:function(){Y.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){Y.callback(this.options.beforeBuildTicks,[this])},buildTicks:Y.noop,afterBuildTicks:function(e){return Nt(e)&&e.length?Y.callback(this.options.afterBuildTicks,[this,e]):(this.ticks=Y.callback(this.options.afterBuildTicks,[this,this.ticks])||this.ticks,e)},beforeTickToLabelConversion:function(){Y.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){Y.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){Y.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,i,a=this,r=a.options,o=r.ticks,s=a.getTicks().length,l=o.minRotation||0,c=o.maxRotation,d=l;!a._isVisible()||!o.display||c<=l||s<=1||!a.isHorizontal()?a.labelRotation=l:(t=(e=a._getLabelSizes()).widest.width,n=e.highest.height-e.highest.offset,i=Math.min(a.maxWidth,a.chart.width-t),(r.offset?a.maxWidth/s:i/(s-1))<t+6&&(i=i/(s-(r.offset?.5:1)),s=a.maxHeight-jt(r.gridLines)-o.padding-Xt(r.scaleLabel),o=Math.sqrt(t*t+n*n),d=Y.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/i,1)),Math.asin(Math.min(s/o,1))-Math.asin(n/o))),d=Math.max(l,Math.min(c,d))),a.labelRotation=d)},afterCalculateTickRotation:function(){Y.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){Y.callback(this.options.beforeFit,[this])},fit:function(){var e,c,u,t,n,h,f,i,a=this,r=a.minSize={width:0,height:0},g=a.chart,o=a.options,p=o.ticks,s=o.scaleLabel,l=o.gridLines,d=a._isVisible(),o="bottom"===o.position,m=a.isHorizontal();m?r.width=a.maxWidth:d&&(r.width=jt(l)+Xt(s)),m?d&&(r.height=jt(l)+Xt(s)):r.height=a.maxHeight,p.display&&d&&(l=Yt(p),d=(s=a._getLabelSizes()).first,e=s.last,c=s.widest,s=s.highest,l=.4*l.minor.lineHeight,u=p.padding,m?(i=0!==a.labelRotation,n=Y.toRadians(a.labelRotation),t=Math.cos(n),s=(n=Math.sin(n))*c.width+t*(s.height-(i?s.offset:0))+(i?0:l),r.height=Math.min(a.maxHeight,r.height+s+u),s=a.getPixelForTick(0)-a.left,h=a.right-a.getPixelForTick(a.getTicks().length-1),i=i?(f=o?t*d.width+n*d.offset:n*(d.height-d.offset),o?n*(e.height-e.offset):t*e.width+n*e.offset):(f=d.width/2,e.width/2),a.paddingLeft=Math.max((f-s)*a.width/(a.width-s),0)+3,a.paddingRight=Math.max((i-h)*a.width/(a.width-h),0)+3):(o=p.mirror?0:c.width+u+l,r.width=Math.min(a.maxWidth,r.width+o),a.paddingTop=d.height/2,a.paddingBottom=e.height/2)),a.handleMargins(),m?(a.width=a._length=g.width-a.margins.left-a.margins.right,a.height=r.height):(a.width=r.width,a.height=a._length=g.height-a.margins.top-a.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){Y.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(zt(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(e.x!==undefined)return this.getRightValue(e.x)}else if(e.y!==undefined)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,n,i;for(this.ticks=e.map(function(e){return e.value}),this.beforeTickToLabelConversion(),t=this.convertTicksToLabels(e)||this.ticks,this.afterTickToLabelConversion(),n=0,i=e.length;n<i;++n)e[n].label=t[n];return t},_getLabelSizes:function(){var e=this._labelSizes;return e||(this._labelSizes=e=Vt(this.ctx,Yt(this.options.ticks),this.getTicks(),this.longestTextCache),this.longestLabelWidth=e.widest.width),e},_parseValue:function(e){var t,n,i,a=Nt(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),i=Math.min(t,n),Math.max(t,n)):(e=+this.getRightValue(e),t=undefined,i=n=e);return{min:i,max:a,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return t.start!==undefined?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:Y.noop,getPixelForValue:Y.noop,getValueForPixel:Y.noop,getPixelForTick:function(e){var t=this.options.offset,n=this._ticks.length,i=1/Math.max(n-(t?0:1),1);return e<0||n-1<e?null:this.getPixelForDecimal(e*i+(t?i/2:0))},getPixelForDecimal:function(e){return this._reversePixels&&(e=1-e),this._startPixel+e*this._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:0<e&&0<t?e:0},_autoSkip:function(e){var t,c,n,i=this.options.ticks,a=this._length,a=i.maxTicksLimit||a/this._tickSize()+1,r=i.major.enabled?function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(e):[],i=r.length,o=r[0],s=r[i-1];if(a<i){var l,d,u=e,h=r,f=i/a,g=0,p=h[0];for(f=Math.ceil(f),l=0;l<u.length;l++)d=u[l],l===p?(d._index=l,p=h[++g*f]):delete d.label;return Gt(e)}if(n=Kt(r,e,0,a),0<i){for(t=0,c=i-1;t<c;t++)$t(e,n,r[t],r[t+1]);return $t(e,n,Y.isNullOrUndef(a=1<i?(s-o)/(i-1):null)?0:o-a,o),$t(e,n,s,Y.isNullOrUndef(a)?e.length:s+a),Gt(e)}return $t(e,n),Gt(e)},_tickSize:function(){var e=this.options.ticks,t=Y.toRadians(this.labelRotation),n=Math.abs(Math.cos(t)),t=Math.abs(Math.sin(t)),i=this._getLabelSizes(),e=e.autoSkipPadding||0,a=i?i.widest.width+e:0,i=i?i.highest.height+e:0;return this.isHorizontal()?a*t<i*n?a/n:i/t:i*t<a*n?i/n:a/t},_isVisible:function(){var e,t,n,i=this.chart,a=this.options.display;if("auto"!==a)return!!a;for(e=0,t=i.data.datasets.length;e<t;++e)if(i.isDatasetVisible(e)&&((n=i.getDatasetMeta(e)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(e){var t,n,i,a,r,c,u,h,f,g,p,m,v,b,y,o=this,x=o.chart,w=o.options,s=w.gridLines,M=w.position,_=s.offsetGridLines,S=o.isHorizontal(),k=o._ticksToDraw,L=k.length+(_?1:0),A=jt(s),C=[],T=s.drawBorder?Bt(s.lineWidth,0,0):0,l=T/2,E=Y._alignPixel,d=function d(e){return E(x,e,T)};for("top"===M?(t=d(o.bottom),r=o.bottom-A,u=t-l,f=d(e.top)+l,p=e.bottom):"bottom"===M?(t=d(o.top),f=e.top,p=d(e.bottom)-l,r=t+l,u=o.top+A):"left"===M?(t=d(o.right),a=o.right-A,c=t-l,h=d(e.left)+l,g=e.right):(t=d(o.left),h=e.left,g=d(e.right)-l,a=t+l,c=o.left+A),n=0;n<L;++n)i=k[n]||{},zt(i.label)&&n<k.length||(y=n===o.zeroLineIndex&&w.offset===_?(m=s.zeroLineWidth,v=s.zeroLineColor,b=s.zeroLineBorderDash||[],s.zeroLineBorderDashOffset||0):(m=Bt(s.lineWidth,n,1),v=Bt(s.color,n,"rgba(0,0,0,0.1)"),b=s.borderDash||[],s.borderDashOffset||0),(i=function(e,t,n){var i=e.getTicks().length,a=Math.min(t,i-1),r=e.getPixelForTick(a),o=e._startPixel,s=e._endPixel;if(!(n&&(i=1===i?Math.max(r-o,s-r):0===t?(e.getPixelForTick(1)-r)/2:(r-e.getPixelForTick(a-1))/2,(r+=a<t?i:-i)<o-1e-6||s+1e-6<r)))return r}(o,i._index||n,_))!==undefined&&(i=E(x,i,m),S?a=c=h=g=i:r=u=f=p=i,C.push({tx1:a,ty1:r,tx2:c,ty2:u,x1:h,y1:f,x2:g,y2:p,width:m,color:v,borderDash:b,borderDashOffset:y})));return C.ticksLength=L,C.borderValue=t,C},_computeLabelItems:function(){for(var e,t,n,i,a,c,r,o=this.options,s=o.ticks,l=o.position,u=s.mirror,h=this.isHorizontal(),f=this._ticksToDraw,g=Yt(s),p=s.padding,o=jt(o.gridLines),d=-Y.toRadians(this.labelRotation),m=[],v="top"===l?(n=this.bottom-o-p,d?"left":"center"):"bottom"===l?(n=this.top+o+p,d?"right":"center"):"left"===l?(t=this.right-(u?0:o)-p,u?"left":"right"):(t=this.left+(u?0:o)+p,u?"right":"left"),b=0,y=f.length;b<y;++b)e=(i=f[b]).label,zt(e)||(r=this.getPixelForTick(i._index||b)+s.labelOffset,a=(i=i.major?g.major:g.minor).lineHeight,c=Nt(e)?e.length:1,r=h?(t=r,"top"===l?((d?1:.5)-c)*a:(d?0:.5)*a):(n=r,(1-c)*a/2),m.push({x:t,y:n,rotation:d,label:e,font:i,textOffset:r,textAlign:v}));return m},_drawGrid:function(c){var e=this,t=e.options.gridLines;if(t.display){for(var n,u,i,a,r,h,f,g,p,m,o=e.ctx,s=e.chart,l=Y._alignPixel,v=t.drawBorder?Bt(t.lineWidth,0,0):0,d=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(c)),b=0,y=d.length;b<y;++b)n=(i=d[b]).width,u=i.color,n&&u&&(o.save(),o.lineWidth=n,o.strokeStyle=u,o.setLineDash&&(o.setLineDash(i.borderDash),o.lineDashOffset=i.borderDashOffset),o.beginPath(),t.drawTicks&&(o.moveTo(i.tx1,i.ty1),o.lineTo(i.tx2,i.ty2)),t.drawOnChartArea&&(o.moveTo(i.x1,i.y1),o.lineTo(i.x2,i.y2)),o.stroke(),o.restore());v&&(a=v,r=Bt(t.lineWidth,d.ticksLength-1,1),h=d.borderValue,e.isHorizontal()?(f=l(s,e.left,a)-a/2,g=l(s,e.right,r)+r/2,p=m=h):(p=l(s,e.top,a)-a/2,m=l(s,e.bottom,r)+r/2,f=g=h),o.lineWidth=v,o.strokeStyle=Bt(t.color,0),o.beginPath(),o.moveTo(f,p),o.lineTo(g,m),o.stroke())}},_drawLabels:function(){if(this.options.ticks.display)for(var e,t,n,i,a,r,o=this.ctx,s=this._labelItems||(this._labelItems=this._computeLabelItems()),l=0,d=s.length;l<d;++l){if(i=(n=s[l]).font,o.save(),o.translate(n.x,n.y),o.rotate(n.rotation),o.font=i.string,o.fillStyle=i.color,o.textBaseline="middle",o.textAlign=n.textAlign,a=n.label,r=n.textOffset,Nt(a))for(e=0,t=a.length;e<t;++e)o.fillText(""+a[e],0,r),r+=i.lineHeight;else o.fillText(a,0,r);o.restore()}},_drawTitle:function(){var c,e,t,n,i,a,r,o=this,s=o.ctx,l=o.options,d=l.scaleLabel;d.display&&(c=Wt(d.fontColor,T.global.defaultFontColor),e=Y.options._parseFont(d),t=Y.options.toPadding(d.padding),n=e.lineHeight/2,l=l.position,r=0,o.isHorizontal()?(i=o.left+o.width/2,a="bottom"===l?o.bottom-n-t.bottom:o.top+n+t.top):(i=(l="left"===l)?o.left+n+t.top:o.right-n-t.top,a=o.top+o.height/2,r=l?-.5*Math.PI:.5*Math.PI),s.save(),s.translate(i,a),s.rotate(r),s.textAlign="center",s.textBaseline="middle",s.fillStyle=c,s.font=e.string,s.fillText(d.labelString,0,0),s.restore())},draw:function(e){this._isVisible()&&(this._drawGrid(e),this._drawTitle(),this._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,t=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==t&&e.draw===e._draw?[{z:t,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(t){var n=this,i=n.isHorizontal();return n.chart._getSortedVisibleDatasetMetas().filter(function(e){return(!t||e.type===t)&&(i?e.xAxisID===n.id:e.yAxisID===n.id)})}}),Jt=(Re.prototype._draw=Re.prototype.draw,Re),Zt=Y.isNullOrUndef,Fe=Jt.extend({determineDataLimits:function(){var e,t=this._getLabels(),n=this.options.ticks,i=n.min,n=n.max,a=0,r=t.length-1;i!==undefined&&0<=(e=t.indexOf(i))&&(a=e),n!==undefined&&0<=(e=t.indexOf(n))&&(r=e),this.minIndex=a,this.maxIndex=r,this.min=t[a],this.max=t[r]},buildTicks:function(){var e=this._getLabels(),t=this.minIndex,n=this.maxIndex;this.ticks=0===t&&n===e.length-1?e:e.slice(t,n+1)},getLabelForIndex:function(e,t){var n=this.chart;return n.getDatasetMeta(t).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[t].data[e]):this._getLabels()[e]},_configure:function(){var e=this.options.offset,t=this.ticks;Jt.prototype._configure.call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels),t&&(this._startValue=this.minIndex-(e?.5:0),this._valueRange=Math.max(t.length-(e?0:1),1))},getPixelForValue:function(e,t,n){var i,a;return Zt(t)||Zt(n)||(e=this.chart.data.datasets[n].data[t]),((a=!Zt(e)?this.isHorizontal()?e.x:e.y:a)!==undefined||e!==undefined&&isNaN(t))&&(i=this._getLabels(),e=Y.valueOrDefault(a,e),t=-1!==(a=i.indexOf(e))?a:t,isNaN(t)&&(t=e)),this.getPixelForDecimal((t-this._startValue)/this._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}}),Qt=(Fe._defaults={position:"bottom"},Y.noop),en=Y.isNullOrUndef;var tn=Jt.extend({getRightValue:function(e){return"string"==typeof e?+e:Jt.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks,n=(t.beginAtZero&&(n=Y.sign(e.min),i=Y.sign(e.max),n<0&&i<0?e.max=0:0<n&&0<i&&(e.min=0)),t.min!==undefined||t.suggestedMin!==undefined),i=t.max!==undefined||t.suggestedMax!==undefined;t.min!==undefined?e.min=t.min:t.suggestedMin!==undefined&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),t.max!==undefined?e.max=t.max:t.suggestedMax!==undefined&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),n!=i&&e.min>=e.max&&(n?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this.options.ticks,n=t.stepSize,t=t.maxTicksLimit;return n?e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(e=this._computeTickLimit(),t=t||11),e=t?Math.min(t,e):e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Qt,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),n={maxTicks:Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:Y.valueOrDefault(t.fixedStepSize,t.stepSize)},n=e.ticks=function(e,c){var t,n,i,a=[],u=e.stepSize,r=u||1,o=e.maxTicks-1,s=e.min,l=e.max,h=e.precision,f=c.min,g=c.max,d=Y.niceNum((g-f)/o/r)*r;if(d<1e-14&&en(s)&&en(l))return[f,g];o<(i=Math.ceil(g/d)-Math.floor(f/d))&&(d=Y.niceNum(i*d/o/r)*r),u||en(h)?t=Math.pow(10,Y._decimalPlaces(d)):(t=Math.pow(10,h),d=Math.ceil(d*t)/t),n=Math.floor(f/d)*d,o=Math.ceil(g/d)*d,u&&(!en(s)&&Y.almostWhole(s/d,d/1e3)&&(n=s),!en(l)&&Y.almostWhole(l/d,d/1e3)&&(o=l)),i=Y.almostEquals(i=(o-n)/d,Math.round(i),d/1e3)?Math.round(i):Math.ceil(i),n=Math.round(n*t)/t,o=Math.round(o*t)/t,a.push(en(s)?n:s);for(var p=1;p<i;++p)a.push(Math.round((n+p*d)*t)/t);return a.push(en(l)?o:l),a}(n,e);e.handleDirectionalChanges(),e.max=Y.max(n),e.min=Y.min(n),t.reverse?(n.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.ticksAsNumbers=this.ticks.slice(),this.zeroLineIndex=this.ticks.indexOf(0),Jt.prototype.convertTicksToLabels.call(this)},_configure:function(){var e=this.getTicks(),t=this.min,n=this.max;Jt.prototype._configure.call(this),this.options.offset&&e.length&&(t-=e=(n-t)/Math.max(e.length-1,1)/2,n+=e),this._startValue=t,this._endValue=n,this._valueRange=n-t}}),He={position:"left",ticks:{callback:e.formatters.linear}};function nn(e,t,n,i){for(var a,r,c=e.options,o=c.stacked,o=(t=t,o=[(a=n).type,o===undefined&&a.stack===undefined?a.index:"",a.stack].join("."),t[o]===undefined&&(t[o]={pos:[],neg:[]}),t[o]),s=o.pos,l=o.neg,u=i.length,d=0;d<u;++d)r=e._parseValue(i[d]),isNaN(r.min)||isNaN(r.max)||n.data[d].hidden||(s[d]=s[d]||0,l[d]=l[d]||0,c.relativePoints?s[d]=100:r.min<0||r.max<0?l[d]+=r.min:s[d]+=r.max)}var qe=tn.extend({determineDataLimits:function(){var e,t,n,i,a=this,c=a.options,u=a.chart.data.datasets,r=a._getMatchingVisibleMetas(),o=c.stacked,h={},f=r.length;if(a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,o===undefined)for(e=0;!o&&e<f;++e)o=(t=r[e]).stack!==undefined;for(e=0;e<f;++e)if(n=u[(t=r[e]).index].data,o)nn(a,h,t,n);else{s=d=m=p=g=l=void 0;for(var s,l=a,g=t,p=n,m=p.length,d=0;d<m;++d)s=l._parseValue(p[d]),isNaN(s.min)||isNaN(s.max)||g.data[d].hidden||(l.min=Math.min(l.min,s.min),l.max=Math.max(l.max,s.max))}Y.each(h,function(e){i=e.pos.concat(e.neg),a.min=Math.min(a.min,Y.min(i)),a.max=Math.max(a.max,Y.max(i))}),a.min=Y.isFinite(a.min)&&!isNaN(a.min)?a.min:0,a.max=Y.isFinite(a.max)&&!isNaN(a.max)?a.max:1,a.handleTickRangeOptions()},_computeTickLimit:function(){var e;return this.isHorizontal()?Math.ceil(this.width/40):(e=Y.options._parseFont(this.options.ticks),Math.ceil(this.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){return this.getPixelForDecimal((+this.getRightValue(e)-this._startValue)/this._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}}),an=(qe._defaults=He,Y.valueOrDefault),rn=Y.math.log10;K={position:"left",ticks:{callback:e.formatters.logarithmic}};function on(e,t){return Y.isFinite(e)&&0<=e?e:t}var t=Jt.extend({determineDataLimits:function(){var e,t,n,i=this,c=i.options,a=i.chart,r=a.data.datasets,u=i.isHorizontal();function h(e){return u?e.xAxisID===i.id:e.yAxisID===i.id}i.min=Number.POSITIVE_INFINITY,i.max=Number.NEGATIVE_INFINITY,i.minNotZero=Number.POSITIVE_INFINITY;var f=c.stacked;if(f===undefined)for(s=0;s<r.length;s++)if(l=a.getDatasetMeta(s),a.isDatasetVisible(s)&&h(l)&&l.stack!==undefined){f=!0;break}if(c.stacked||f){for(var o={},s=0;s<r.length;s++){var l,g=[(l=a.getDatasetMeta(s)).type,c.stacked===undefined&&l.stack===undefined?s:"",l.stack].join(".");if(a.isDatasetVisible(s)&&h(l))for(o[g]===undefined&&(o[g]=[]),t=0,n=(e=r[s].data).length;t<n;t++){var p=o[g],d=i._parseValue(e[t]);isNaN(d.min)||isNaN(d.max)||l.data[t].hidden||d.min<0||d.max<0||(p[t]=p[t]||0,p[t]+=d.max)}}Y.each(o,function(e){var t,n;0<e.length&&(t=Y.min(e),n=Y.max(e),i.min=Math.min(i.min,t),i.max=Math.max(i.max,n))})}else for(s=0;s<r.length;s++)if(l=a.getDatasetMeta(s),a.isDatasetVisible(s)&&h(l))for(t=0,n=(e=r[s].data).length;t<n;t++)d=i._parseValue(e[t]),isNaN(d.min)||isNaN(d.max)||l.data[t].hidden||d.min<0||d.max<0||(i.min=Math.min(d.min,i.min),i.max=Math.max(d.max,i.max),0!==d.min&&(i.minNotZero=Math.min(d.min,i.minNotZero)));i.min=Y.isFinite(i.min)?i.min:null,i.max=Y.isFinite(i.max)?i.max:null,i.minNotZero=Y.isFinite(i.minNotZero)?i.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=on(t.min,e.min),e.max=on(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(rn(e.min))-1),e.max=Math.pow(10,Math.floor(rn(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(rn(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(rn(e.min))+1):10),null===e.minNotZero&&(0<e.min?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(rn(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),i={min:on(t.min),max:on(t.max)},i=e.ticks=function(e,t){for(var n,i,a=[],r=an(e.min,Math.pow(10,Math.floor(rn(t.min)))),o=Math.floor(rn(t.max)),s=Math.ceil(t.max/Math.pow(10,o)),l=(0===r?(n=Math.floor(rn(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,n)),a.push(r),r=i*Math.pow(10,n)):(n=Math.floor(rn(r)),i=Math.floor(r/Math.pow(10,n))),n<0?Math.pow(10,Math.abs(n)):1);a.push(r),10===++i&&(i=1,l=0<=++n?1:l),r=Math.round(i*Math.pow(10,n)*l)/l,n<o||n===o&&i<s;);var d=an(e.max,r);return a.push(d),a}(i,e);e.max=Y.max(i),e.min=Y.min(i),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&i.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Jt.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(rn(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;Jt.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=an(e.options.ticks.fontSize,T.global.defaultFontSize)/e._length),e._startValue=rn(t),e._valueOffset=n,e._valueRange=(rn(e.max)-rn(t))/(1-n)},getPixelForValue:function(e){var t=0;return(e=+this.getRightValue(e))>this.min&&0<e&&(t=(rn(e)-this._startValue)/this._valueRange+this._valueOffset),this.getPixelForDecimal(t)},getValueForPixel:function(e){var t=this.getDecimalForPixel(e);return 0===t&&0===this.min?0:Math.pow(10,this._startValue+(t-this._valueOffset)*this._valueRange)}}),sn=(t._defaults=K,Y.valueOrDefault),ln=Y.valueAtIndexOrDefault,dn=Y.options.resolve,$={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:e.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function cn(e){var t=e.ticks;return t.display&&e.display?sn(t.fontSize,T.global.defaultFontSize)+2*t.backdropPaddingY:0}function un(e,t,n,i,a){return e===i||e===a?{start:t-n/2,end:t+n/2}:e<i||a<e?{start:t-n,end:t}:{start:t,end:t+n}}function hn(e){for(var t,c,n,u,i,h=Y.options._parseFont(e.options.pointLabels),a={l:0,r:e.width,t:0,b:e.height-e.paddingTop},r={},f=(e.ctx.font=h.string,e._pointLabelSizes=[],e.chart.data.labels.length),o=0;o<f;o++){c=e.getPointPosition(o,e.drawingArea+5),n=e.ctx,u=h.lineHeight,i=e.pointLabels[o],t=Y.isArray(i)?{w:Y.longestText(n,n.font,i),h:i.length*u}:{w:n.measureText(i).width,h:u},e._pointLabelSizes[o]=t;var s=e.getIndexAngle(o),l=Y.toDegrees(s)%360,d=un(l,c.x,t.w,0,180),l=un(l,c.y,t.h,90,270);d.start<a.l&&(a.l=d.start,r.l=s),d.end>a.r&&(a.r=d.end,r.r=s),l.start<a.t&&(a.t=l.start,r.t=s),l.end>a.b&&(a.b=l.end,r.b=s)}e.setReductions(e.drawingArea,a,r)}function fn(e){var t=e.ctx,n=e.options,c=n.pointLabels,u=cn(n),h=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),f=Y.options._parseFont(c);t.save(),t.font=f.string,t.textBaseline="middle";for(var g,p,i,a=e.chart.data.labels.length-1;0<=a;a--){var r,m,v=e.getPointPosition(a,h+(0===a?u/2:0)+5),o=ln(c.fontColor,a,T.global.defaultFontColor),o=(t.fillStyle=o,e.getIndexAngle(a)),o=Y.toDegrees(o),b=(t.textAlign=0===(i=o)||180===i?"center":i<180?"left":"right",i=o,g=e._pointLabelSizes[a],p=v,90===i||270===i?p.y-=g.h/2:(270<i||i<90)&&(p.y-=g.h),m=r=d=y=l=s=b=void 0,t),s=e.pointLabels[a],l=v,y=f.lineHeight,d=l.y+y/2;if(Y.isArray(s))for(r=0,m=s.length;r<m;++r)b.fillText(s[r],l.x,d),d+=y;else b.fillText(s,l.x,d)}t.restore()}function gn(e){return Y.isNumber(e)?e:0}var Re=tn.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=cn(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var a=this,n=a.chart,r=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;Y.each(n.data.datasets,function(e,t){var i;n.isDatasetVisible(t)&&(i=n.getDatasetMeta(t),Y.each(e.data,function(e,t){var n=+a.getRightValue(e);isNaN(n)||i.data[t].hidden||(r=Math.min(n,r),o=Math.max(n,o))}))}),a.min=r===Number.POSITIVE_INFINITY?0:r,a.max=o===Number.NEGATIVE_INFINITY?0:o,a.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/cn(this.options))},convertTicksToLabels:function(){var t=this;tn.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(function(){var e=Y.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:""})},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this.options;e.display&&e.pointLabels.display?hn(this):this.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var i=t.l/Math.sin(n.l),a=Math.max(t.r-this.width,0)/Math.sin(n.r),r=-t.t/Math.cos(n.t),o=-Math.max(t.b-(this.height-this.paddingTop),0)/Math.cos(n.b),i=gn(i),a=gn(a),r=gn(r),o=gn(o);this.drawingArea=Math.min(Math.floor(e-(i+a)/2),Math.floor(e-(r+o)/2)),this.setCenterPoint(i,a,r,o)},setCenterPoint:function(e,t,n,i){var a=this,r=a.width-t-a.drawingArea,o=e+a.drawingArea,s=n+a.drawingArea,l=a.height-a.paddingTop-i-a.drawingArea;a.xCenter=Math.floor((o+r)/2+a.left),a.yCenter=Math.floor((s+l)/2+a.top+a.paddingTop)},getIndexAngle:function(e){var t=this.chart,t=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(t<0?360+t:t)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){if(Y.isNullOrUndef(e))return NaN;var t=this.drawingArea/(this.max-this.min);return this.options.ticks.reverse?(this.max-e)*t:(e-this.min)*t},getPointPosition:function(e,t){var n=this.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this.min,n=this.max;return this.getPointPositionForValue(e||0,this.beginAtZero?0:t<0&&n<0?n:0<t&&0<n?t:0)},_drawGrid:function(){var e,h,t,f=this,n=f.ctx,i=f.options,g=i.gridLines,a=i.angleLines,r=sn(a.lineWidth,g.lineWidth),o=sn(a.color,g.color);if(i.pointLabels.display&&fn(f),g.display&&Y.each(f.ticks,function(c,e){if(0!==e){h=f.getDistanceFromCenterForValue(f.ticksAsNumbers[e]);var t,n=f,i=g,a=h,r=n.ctx,o=i.circular,s=n.chart.data.labels.length,l=ln(i.color,e-1),u=ln(i.lineWidth,e-1);if((o||s)&&l&&u){if(r.save(),r.strokeStyle=l,r.lineWidth=u,r.setLineDash&&(r.setLineDash(i.borderDash||[]),r.lineDashOffset=i.borderDashOffset||0),r.beginPath(),o)r.arc(n.xCenter,n.yCenter,a,0,2*Math.PI);else{t=n.getPointPosition(0,a),r.moveTo(t.x,t.y);for(var d=1;d<s;d++)t=n.getPointPosition(d,a),r.lineTo(t.x,t.y)}r.closePath(),r.stroke(),r.restore()}}}),a.display&&r&&o){for(n.save(),n.lineWidth=r,n.strokeStyle=o,n.setLineDash&&(n.setLineDash(dn([a.borderDash,g.borderDash,[]])),n.lineDashOffset=dn([a.borderDashOffset,g.borderDashOffset,0])),e=f.chart.data.labels.length-1;0<=e;e--)h=f.getDistanceFromCenterForValue(i.ticks.reverse?f.min:f.max),t=f.getPointPosition(e,h),n.beginPath(),n.moveTo(f.xCenter,f.yCenter),n.lineTo(t.x,t.y),n.stroke();n.restore()}},_drawLabels:function(){var e,n,i,a,r,o=this,s=o.ctx,l=o.options.ticks;l.display&&(e=o.getIndexAngle(0),n=Y.options._parseFont(l),i=sn(l.fontColor,T.global.defaultFontColor),s.save(),s.font=n.string,s.translate(o.xCenter,o.yCenter),s.rotate(e),s.textAlign="center",s.textBaseline="middle",Y.each(o.ticks,function(e,t){0===t&&!l.reverse||(a=o.getDistanceFromCenterForValue(o.ticksAsNumbers[t]),l.showLabelBackdrop&&(r=s.measureText(e).width,s.fillStyle=l.backdropColor,s.fillRect(-r/2-l.backdropPaddingX,-a-n.size/2-l.backdropPaddingY,r+2*l.backdropPaddingX,n.size+2*l.backdropPaddingY)),s.fillStyle=i,s.fillText(e,0,-a))}),s.restore())},_drawTitle:Y.noop}),pn=(Re._defaults=$,Y._deprecated),mn=Y.options.resolve,vn=Y.valueOrDefault,bn=Number.MIN_SAFE_INTEGER||-9007199254740991,yn=Number.MAX_SAFE_INTEGER||9007199254740991,xn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},wn=Object.keys(xn);function Mn(e,t){return e-t}function _n(e){return Y.valueOrDefault(e.time.min,e.ticks.min)}function Sn(e){return Y.valueOrDefault(e.time.max,e.ticks.max)}function kn(e,t,n,i){var a=function(e,t,n){for(var i,a,r,o=0,s=e.length-1;0<=o&&o<=s;){if(a=e[(i=o+s>>1)-1]||null,r=e[i],!a)return{lo:null,hi:r};if(r[t]<n)o=1+i;else{if(!(a[t]>n))return{lo:a,hi:r};s=i-1}}return{lo:r,hi:null}}(e,t,n),r=a.lo?a.hi?a.lo:e[e.length-2]:e[0],a=a.lo?a.hi||e[e.length-1]:e[1],o=a[t]-r[t],o=o?(n-r[t])/o:0,a=(a[i]-r[i])*o;return r[i]+a}function Ln(e,t){var n=e._adapter,i=e.options.time,a=i.parser,i=a||i.format,r=t;return"function"==typeof a&&(r=a(r)),null!==(r=!Y.isFinite(r)?"string"==typeof i?n.parse(r,i):n.parse(r):r)?+r:(a||"function"!=typeof i||(r=i(t),Y.isFinite(r)||(r=n.parse(r))),r)}function An(e,t){if(Y.isNullOrUndef(t))return null;var n=e.options.time,i=Ln(e,e.getRightValue(t));return null!==i&&n.round?+e._adapter.startOf(i,n.round):i}function Cn(e,t,n,i){for(var a,r,o=wn.length,s=wn.indexOf(e);s<o-1;++s)if(r=(a=xn[wn[s]]).steps||yn,a.common&&Math.ceil((n-t)/(r*a.size))<=i)return wn[s];return wn[o-1]}function Tn(c,e,t){for(var n,i=[],a={},r=e.length,o=0;o<r;++o)a[n=e[o]]=o,i.push({value:n,major:!1});if(0!==r&&t){for(var s,l=i,u=a,h=t,f=c._adapter,g=+f.startOf(l[0].value,h),p=l[l.length-1].value,d=g;d<=p;d=+f.add(d,1,h))0<=(s=u[d])&&(l[s].major=!0);return l}return i}var He=Jt.extend({initialize:function(){this.mergeTicksOptions(),Jt.prototype.initialize.call(this)},update:function(){var e=this.options,t=e.time||(e.time={}),e=this._adapter=new Ht._date(e.adapters.date);return pn("time scale",t.format,"time.format","time.parser"),pn("time scale",t.min,"time.min","ticks.min"),pn("time scale",t.max,"time.max","ticks.max"),Y.mergeIf(t.displayFormats,e.formats()),Jt.prototype.update.apply(this,arguments)},getRightValue:function(e){return e&&e.t!==undefined&&(e=e.t),Jt.prototype.getRightValue.call(this,e)},determineDataLimits:function(){for(var e,c,t,u,h,n=this,f=n.chart,g=n._adapter,p=n.options,m=p.time.unit||"day",i=yn,a=bn,r=[],o=[],s=[],v=n._getLabels(),l=0,d=v.length;l<d;++l)s.push(An(n,v[l]));for(l=0,d=(f.data.datasets||[]).length;l<d;++l)if(f.isDatasetVisible(l))if(t=f.data.datasets[l].data,Y.isObject(t[0]))for(o[l]=[],e=0,c=t.length;e<c;++e)u=An(n,t[e]),r.push(u),o[l][e]=u;else o[l]=s.slice(0),h||(r=r.concat(s),h=!0);else o[l]=[];s.length&&(i=Math.min(i,s[0]),a=Math.max(a,s[s.length-1])),r.length&&(r=(1<d?function(e){for(var t,n={},i=[],a=0,r=e.length;a<r;++a)n[t=e[a]]||(n[t]=!0,i.push(t));return i}(r):r).sort(Mn),i=Math.min(i,r[0]),a=Math.max(a,r[r.length-1])),i=An(n,_n(p))||i,a=An(n,Sn(p))||a,i=i===yn?+g.startOf(Date.now(),m):i,a=a===bn?+g.endOf(Date.now(),m)+1:a,n.min=Math.min(i,a),n.max=Math.max(i+1,a),n._table=[],n._timestamps={data:r,datasets:o,labels:s}},buildTicks:function(){var c,u,h,e,t,n=this,i=n.min,a=n.max,r=n.options,f=r.ticks,o=r.time,s=n._timestamps,g=[],l=n.getLabelCapacity(i),d=f.source,p=r.distribution,s="data"===d||"auto"===d&&"series"===p?s.data:"labels"===d?s.labels:function(e,t,n,c){var i,a=e._adapter,u=e.options,r=(s=u.time).unit||Cn(s.minUnit,t,n,c),o=mn([s.stepSize,s.unitStepSize,1]),s="week"===r&&s.isoWeekday,l=t,d=[];if(s&&(l=+a.startOf(l,"isoWeek",s)),l=+a.startOf(l,s?"day":r),a.diff(n,t,r)>1e5*o)throw t+" and "+n+" are too far apart with stepSize of "+o+" "+r;for(i=l;i<n;i=+a.add(i,o,r))d.push(i);return i!==n&&"ticks"!==u.bounds||d.push(i),d}(n,i,a,l);for("ticks"===r.bounds&&s.length&&(i=s[0],a=s[s.length-1]),i=An(n,_n(r))||i,a=An(n,Sn(r))||a,c=0,u=s.length;c<u;++c)i<=(h=s[c])&&h<=a&&g.push(h);return n.min=i,n.max=a,n._unit=o.unit||(f.autoSkip?Cn(o.minUnit,n.min,n.max,l):function(e,t,n,i,a){for(var r,o=wn.length-1;o>=wn.indexOf(n);o--)if(r=wn[o],xn[r].common&&e._adapter.diff(a,i,r)>=t-1)return r;return wn[n?wn.indexOf(n):0]}(n,g.length,o.minUnit,n.min,n.max)),n._majorUnit=f.major.enabled&&"year"!==n._unit?function(e){for(var t=wn.indexOf(e)+1,n=wn.length;t<n;++t)if(xn[wn[t]].common)return wn[t]}(n._unit):undefined,n._table=function(e,t,n,c){if("linear"===c||!e.length)return[{time:t,pos:0},{time:n,pos:1}];for(var i,a,r,o=[],s=[t],l=0,d=e.length;l<d;++l)t<(a=e[l])&&a<n&&s.push(a);for(s.push(n),l=0,d=s.length;l<d;++l)r=s[l+1],i=s[l-1],a=s[l],i!==undefined&&r!==undefined&&Math.round((r+i)/2)===a||o.push({time:a,pos:l/(d-1)});return o}(n._timestamps.data,i,a,p),n._offsets=(e=n._table,t=g,l=d=0,r.offset&&t.length&&(o=kn(e,"time",t[0],"pos"),d=1===t.length?1-o:(kn(e,"time",t[1],"pos")-o)/2,o=kn(e,"time",t[t.length-1],"pos"),l=1===t.length?o:(o-kn(e,"time",t[t.length-2],"pos"))/2),{start:d,end:l,factor:1/(d+1+l)}),f.reverse&&g.reverse(),Tn(n,g,n._majorUnit)},getLabelForIndex:function(e,t){var n=this._adapter,i=this.chart.data,a=this.options.time,r=i.labels&&e<i.labels.length?i.labels[e]:"",i=i.datasets[t].data[e];return Y.isObject(i)&&(r=this.getRightValue(i)),a.tooltipFormat?n.format(Ln(this,r),a.tooltipFormat):"string"==typeof r?r:n.format(Ln(this,r),a.displayFormats.datetime)},tickFormatFunction:function(e,t,n,i){var a=this._adapter,r=this.options,o=r.time.displayFormats,s=o[this._unit],l=this._majorUnit,o=o[l],d=n[t],r=r.ticks,l=l&&o&&d&&d.major,d=a.format(e,i||(l?o:s)),o=l?r.major:r.minor,s=mn([o.callback,o.userCallback,r.callback,r.userCallback]);return s?s(d,t,n):d},convertTicksToLabels:function(e){for(var t=[],n=0,i=e.length;n<i;++n)t.push(this.tickFormatFunction(e[n].value,n,e));return t},getPixelForOffset:function(e){var t=this._offsets,n=kn(this._table,"time",e,"pos");return this.getPixelForDecimal((t.start+n)*t.factor)},getPixelForValue:function(e,t,n){var i=null;if(null!==(i=null===(i=t!==undefined&&n!==undefined?this._timestamps.datasets[n][t]:i)?An(this,e):i))return this.getPixelForOffset(i)},getPixelForTick:function(e){var t=this.getTicks();return 0<=e&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this._offsets,t=this.getDecimalForPixel(e)/t.factor-t.end,t=kn(this._table,"pos",t,"time");return this._adapter._create(t)},_getLabelSize:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,i=Y.toRadians(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(i),i=Math.sin(i),t=vn(t.fontSize,T.global.defaultFontSize);return{w:n*a+t*i,h:n*i+t*a}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this.options.time,n=t.displayFormats,t=n[t.unit]||n.millisecond,n=this.tickFormatFunction(e,0,Tn(this,[e],this._majorUnit),t),t=this._getLabelSize(n),n=Math.floor(this.isHorizontal()?this.width/t.w:this.height/t.h);return this.options.offset&&n--,0<n?n:1}}),K=(He._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},{category:Fe,linear:qe,logarithmic:t,radialLinear:Re,time:He}),En={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"},Dn=(Ht._date.override("function"==typeof i?{_id:"moment",formats:function(){return En},parse:function An(e,t){return"string"==typeof e&&"string"==typeof t?e=i(e,t):e instanceof i||(e=i(e)),e.isValid()?e.valueOf():null},format:function(e,t){return i(e).format(t)},add:function(e,t,n){return i(e).add(t,n).valueOf()},diff:function(e,t,n){return i(e).diff(i(t),n)},startOf:function(e,t,n){return e=i(e),("isoWeek"===t?e.isoWeekday(n):e.startOf(t)).valueOf()},endOf:function(e,t){return i(e).endOf(t).valueOf()},_create:function(e){return i(e)}}:{}),T._set("global",{plugins:{filler:{propagate:!0}}}),{dataset:function(e){var t=e.fill,n=e.chart,i=n.getDatasetMeta(t),a=i&&n.isDatasetVisible(t)&&i.dataset._children||[],r=a.length||0;return r?function(e,t){return t<r&&a[t]._view||null}:null},boundary:function Gn(e){var Gn=e.boundary,t=Gn?Gn.x:null,n=Gn?Gn.y:null;return Y.isArray(Gn)?function(e,t){return Gn[t]}:function(e){return{x:null===t?e.x:t,y:null===n?e.y:n}}}});function Pn(e){if((e.el._scale||{}).getPointPositionForValue){var t,c,u,n,i,a=e,r=a.el._scale,h=r.options,f=r.chart.data.labels.length,g=a.fill,p=[];if(!f)return null;for(t=h.ticks.reverse?r.max:r.min,c=h.ticks.reverse?r.min:r.max,u=r.getPointPositionForValue(0,t),n=0;n<f;++n)i="start"===g||"end"===g?r.getPointPositionForValue(n,"start"===g?t:c):r.getBasePosition(n),h.gridLines.circular&&(i.cx=u.x,i.cy=u.y,i.angle=r.getIndexAngle(n)-Math.PI/2),p.push(i);return p}var a=e,o=a.el._model||{},s=a.el._scale||{},l=a.fill,d=null;if(isFinite(l))return null;if("start"===l?d=o.scaleBottom===undefined?s.bottom:o.scaleBottom:"end"===l?d=o.scaleTop===undefined?s.top:o.scaleTop:o.scaleZero!==undefined?d=o.scaleZero:s.getBasePixel&&(d=s.getBasePixel()),d!==undefined&&null!==d){if(d.x!==undefined&&d.y!==undefined)return d;if(Y.isFinite(d))return{x:(l=s.isHorizontal())?d:null,y:l?null:d}}return null}function qn(e){return e&&!e.skip}function In(e,t,n,i,a){var r,o,s,l;if(i&&a){for(e.moveTo(t[0].x,t[0].y),r=1;r<i;++r)Y.canvas.lineTo(e,t[r-1],t[r]);if(n[0].angle===undefined)for(e.lineTo(n[a-1].x,n[a-1].y),r=a-1;0<r;--r)Y.canvas.lineTo(e,n[r],n[r-1],!0);else for(o=n[0].cx,s=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-o,2)+Math.pow(n[0].y-s,2)),r=a-1;0<r;--r)e.arc(o,s,l,n[r].angle,n[r-1].angle,!0)}}var $={id:"filler",afterDatasetsUpdate:function(e,c){for(var t,n,i,a,r,o,s=(e.data.datasets||[]).length,u=c.propagate,l=[],d=0;d<s;++d)i=null,(n=(t=e.getDatasetMeta(d)).dataset)&&n._model&&n instanceof ye.Line&&(i={visible:e.isDatasetVisible(d),fill:function(e,t,n){var i=e._model||{},a=i.fill;if(!1===(a=a===undefined?!!i.backgroundColor:a)||null===a)return!1;if(!0===a)return"origin";if(i=parseFloat(a,10),isFinite(i)&&Math.floor(i)===i)return!((i="-"===a[0]||"+"===a[0]?t+i:i)===t||i<0||n<=i)&&i;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}(n,d,s),chart:e,el:n}),t.$filler=i,l.push(i);for(d=0;d<s;++d)(i=l[d])&&(i.fill=function(e,t,n){var i,a=e[t].fill,r=[t];if(!n)return a;for(;!1!==a&&-1===r.indexOf(a);){if(!isFinite(a))return a;if(!(i=e[a]))return!1;if(i.visible)return a;r.push(a),a=i.fill}return!1}(l,d,u),i.boundary=Pn(i),i.mapper=(o=r=void 0,r=(a=i).fill,!(o="dataset")===r?null:(isFinite(r)||(o="boundary"),Dn[o](a))))},beforeDatasetsDraw:function(c){for(var e,u,h,f,g,p,m=c._getSortedVisibleDatasetMetas(),v=c.ctx,b=m.length-1;0<=b;--b)if((e=m[b].$filler)&&e.visible&&(h=(u=e.el)._view,f=u._children||[],g=e.mapper,p=h.backgroundColor||T.global.defaultColor,g&&p&&f.length)){Y.canvas.clipArea(v,c.chartArea),w=x=a=i=n=i=y=t=d=l=s=o=C=A=L=k=S=_=M=r=void 0;var t,y,n,i,a,x,w,r=v,M=f,_=g,S=h,k=p,L=u._loop,A=M.length,C=S.spanGaps,o=[],s=[],l=0,d=0;for(r.beginPath(),t=0,y=A;t<y;++t)i=_(n=M[i=t%A]._view,i,S),a=qn(n),x=qn(i),L&&w===undefined&&a&&(y=A+(w=t+1)),a&&x?(l=o.push(n),d=s.push(i)):l&&d&&(C?(a&&o.push(n),x&&s.push(i)):(In(r,o,s,l,d),l=d=0,o=[],s=[]));In(r,o,s,l,d),r.closePath(),r.fillStyle=k,r.fill(),Y.canvas.unclipArea(v)}}},Rn=Y.rtl.getRtlAdapter,Fe=Y.noop,Fn=Y.valueOrDefault;function On(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}T._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,a=i.getDatasetMeta(n);a.hidden=null===a.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(n){var i=n.data.datasets,e=n.options.legend||{},a=e.labels&&e.labels.usePointStyle;return n._getSortedDatasetMetas().map(function(e){var t=e.controller.getStyle(a?0:undefined);return{text:i[e.index].label,fillStyle:t.backgroundColor,hidden:!n.isDatasetVisible(e.index),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,rotation:t.rotation,datasetIndex:e.index}},this)}}},legendCallback:function(e){var t,n,i,a=document.createElement("ul"),r=e.data.datasets;for(a.setAttribute("class",e.id+"-legend"),t=0,n=r.length;t<n;t++)(i=a.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[t].backgroundColor,r[t].label&&i.appendChild(document.createTextNode(r[t].label));return a.outerHTML}});var Hn=z.extend({initialize:function(e){Y.extend(this,e),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:Fe,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:Fe,beforeSetDimensions:Fe,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Fe,beforeBuildLabels:Fe,buildLabels:function(){var t=this,n=t.options.labels||{},e=Y.callback(n.generateLabels,[t.chart],t)||[];n.filter&&(e=e.filter(function(e){return n.filter(e,t.chart.data)})),t.options.reverse&&e.reverse(),t.legendItems=e},afterBuildLabels:Fe,beforeFit:Fe,fit:function(){var i,u,h,f,g,a,r,o,e=this,t=e.options,s=t.labels,t=t.display,l=e.ctx,n=Y.options._parseFont(s),d=n.size,p=e.legendHitBoxes=[],c=e.minSize,m=e.isHorizontal();m?(c.width=e.maxWidth,c.height=t?10:0):(c.width=t?10:0,c.height=e.maxHeight),t?(l.font=n.string,m?(i=e.lineWidths=[0],u=0,l.textAlign="left",l.textBaseline="middle",Y.each(e.legendItems,function(e,t){var n=On(s,d)+d/2+l.measureText(e.text).width;(0===t||i[i.length-1]+n+2*s.padding>c.width)&&(u+=d+s.padding,i[i.length-(0<t?0:1)]=0),p[t]={left:0,top:0,width:n,height:d},i[i.length-1]+=n+s.padding}),c.height+=u):(h=s.padding,f=e.columnWidths=[],g=e.columnHeights=[],a=s.padding,o=r=0,Y.each(e.legendItems,function(e,t){var n=On(s,d)+d/2+l.measureText(e.text).width;0<t&&o+d+2*h>c.height&&(a+=r+s.padding,f.push(r),g.push(o),o=r=0),r=Math.max(r,n),o+=d+h,p[t]={left:0,top:0,width:n,height:d}}),a+=r,f.push(r),g.push(o),c.width+=a),e.width=c.width,e.height=c.height):e.width=c.width=e.height=c.height=0},afterFit:Fe,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var o,s,t,l,d,g,p,m,c,v,u,b,h=this,n=h.options,f=n.labels,e=T.global,y=e.defaultColor,x=e.elements.line,w=h.height,M=h.columnHeights,_=h.width,S=h.lineWidths;n.display&&(o=Rn(n.rtl,h.left,h.minSize.width),s=h.ctx,e=Fn(f.fontColor,e.defaultFontColor),t=Y.options._parseFont(f),l=t.size,s.textAlign=o.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.strokeStyle=e,s.fillStyle=e,s.font=t.string,d=On(f,l),g=h.legendHitBoxes,p=function p(e,t,n){var i,a,r;isNaN(d)||d<=0||(s.save(),i=Fn(n.lineWidth,x.borderWidth),s.fillStyle=Fn(n.fillStyle,y),s.lineCap=Fn(n.lineCap,x.borderCapStyle),s.lineDashOffset=Fn(n.lineDashOffset,x.borderDashOffset),s.lineJoin=Fn(n.lineJoin,x.borderJoinStyle),s.lineWidth=i,s.strokeStyle=Fn(n.strokeStyle,y),s.setLineDash&&s.setLineDash(Fn(n.lineDash,x.borderDash)),f&&f.usePointStyle?(a=d*Math.SQRT2/2,r=o.xPlus(e,d/2),Y.canvas.drawPoint(s,n.pointStyle,a,r,t+l/2,n.rotation)):(s.fillRect(o.leftForLtr(e,d),t,d,l),0!==i&&s.strokeRect(o.leftForLtr(e,d),t,d,l)),s.restore())},m=function m(e,t,n,i){var a=l/2,r=o.xPlus(e,d+a),a=t+a;s.fillText(n.text,r,a),n.hidden&&(s.beginPath(),s.lineWidth=2,s.moveTo(r,a),s.lineTo(o.xPlus(r,i),a),s.stroke())},c=function c(e,t){switch(n.align){case"start":return f.padding;case"end":return e-t;default:return(e-t+f.padding)/2}},v=h.isHorizontal(),u=v?{x:h.left+c(_,S[0]),y:h.top+f.padding,line:0}:{x:h.left+f.padding,y:h.top+c(w,M[0]),line:0},Y.rtl.overrideTextDirection(h.ctx,n.textDirection),b=l+f.padding,Y.each(h.legendItems,function(e,t){var n=s.measureText(e.text).width,i=d+l/2+n,a=u.x,r=u.y,a=(o.setWidth(h.minSize.width),v?0<t&&a+i+f.padding>h.left+h.minSize.width&&(r=u.y+=b,u.line++,a=u.x=h.left+c(_,S[u.line])):0<t&&r+b>h.top+h.minSize.height&&(a=u.x=a+h.columnWidths[u.line]+f.padding,u.line++,r=u.y=h.top+c(w,M[u.line])),o.x(a));p(a,r,e),g[t].left=o.leftForLtr(a,g[t].width),g[t].top=r,m(a,r,e,n),v?u.x+=i+f.padding:u.y+=b}),Y.rtl.restoreTextDirection(h.ctx,n.textDirection))},_getLegendItemAt:function(e,t){var n,i,a;if(e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom)for(a=this.legendHitBoxes,n=0;n<a.length;++n)if(e>=(i=a[n]).left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return this.legendItems[n];return null},handleEvent:function(e){var t,n=this.options,i="mouseup"===e.type?"click":e.type;if("mousemove"===i){if(!n.onHover&&!n.onLeave)return}else{if("click"!==i)return;if(!n.onClick)return}t=this._getLegendItemAt(e.x,e.y),"click"===i?t&&n.onClick&&n.onClick.call(this,e["native"],t):(n.onLeave&&t!==this._hoveredItem&&(this._hoveredItem&&n.onLeave.call(this,e["native"],this._hoveredItem),this._hoveredItem=t),n.onHover&&t&&n.onHover.call(this,e["native"],t))}});function Nn(e,t){var n=new Hn({ctx:e.ctx,options:t,chart:e});tt.configure(e,n,t),tt.addBox(e,n),e.legend=n}var qe={id:"legend",_element:Hn,beforeInit:function(e){var t=e.options.legend;t&&Nn(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(Y.mergeIf(t,T.global.legend),n?(tt.configure(e,n,t),n.options=t):Nn(e,t)):n&&(tt.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},t=Y.noop,zn=(T._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}}),z.extend({initialize:function(e){Y.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:t,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:t,beforeSetDimensions:t,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:t,beforeBuildLabels:t,buildLabels:t,afterBuildLabels:t,beforeFit:t,fit:function(){var e=this.options,t=this.minSize={},n=this.isHorizontal();e.display?(e=(Y.isArray(e.text)?e.text.length:1)*Y.options._parseFont(e).lineHeight+2*e.padding,this.width=t.width=n?this.maxWidth:e,this.height=t.height=n?e:this.maxHeight):this.width=t.width=this.height=t.height=0},afterFit:t,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this.ctx,t=this.options;if(t.display){var n,i,a,c=Y.options._parseFont(t),u=c.lineHeight,r=u/2+t.padding,h=0,o=this.top,s=this.left,f=this.bottom,l=this.right,d=(e.fillStyle=Y.valueOrDefault(t.fontColor,T.global.defaultFontColor),e.font=c.string,this.isHorizontal()?(i=s+(l-s)/2,a=o+r,n=l-s):(i="left"===t.position?s+r:l-r,a=o+(f-o)/2,n=f-o,h=Math.PI*("left"===t.position?-.5:.5)),e.save(),e.translate(i,a),e.rotate(h),e.textAlign="center",e.textBaseline="middle",t.text);if(Y.isArray(d))for(var g=0,p=0;p<d.length;++p)e.fillText(d[p],0,g,n),g+=u;else e.fillText(d,0,0,n);e.restore()}}}));function Wn(e,t){var n=new zn({ctx:e.ctx,options:t,chart:e});tt.configure(e,n,t),tt.addBox(e,n),e.titleBlock=n}var Bn,Vn={},Re=qe,jn={id:"title",_element:zn,beforeInit:function(e){var t=e.options.title;t&&Wn(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(Y.mergeIf(t,T.global.title),n?(tt.configure(e,n,t),n.options=t):Wn(e,t)):n&&(tt.removeBox(e,n),delete e.titleBlock)}};for(Bn in Vn.filler=$,Vn.legend=Re,Vn.title=jn,a.helpers=Y,Rt(),a._adapters=Ht,a.Animation=te,a.animationService=ne,a.controllers=Ne,a.DatasetController=se,a.defaults=T,a.Element=z,a.elements=ye,a.Interaction=Ue,a.layouts=tt,a.platform=vt,a.plugins=s,a.Scale=Jt,a.scaleService=bt,a.Ticks=e,a.Tooltip=At,a.helpers.each(K,function(e,t){a.scaleService.registerScaleType(t,e,e._defaults)}),Vn)Vn.hasOwnProperty(Bn)&&a.plugins.register(Vn[Bn]);a.platform.initialize();He=a;return"undefined"!=typeof window&&(window.Chart=a),(a.Chart=a).Legend=Vn.legend._element,a.Title=Vn.title._element,a.pluginService=a.plugins,a.PluginBase=a.Element.extend({}),a.canvasHelpers=a.helpers.canvas,a.layoutService=a.layouts,a.LinearScaleBase=tn,a.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(n){a[n]=function(e,t){return new a(e,a.helpers.merge(t||{},{type:n.charAt(0).toLowerCase()+n.slice(1)}))}}),He}(function(){try{return require("moment")}catch(e){}}())}();